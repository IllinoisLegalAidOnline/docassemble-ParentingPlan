metadata:
  title: Parenting plan
  short title: Parenting plan
  comment: This program helps you create a plan to set parental responsibilities (formerly custody) and parenting time (formerly visitation).
  authors:
    - Jim Graszer
    - Matt Newsted
---
include:
  - docassemble.AssemblyLine:assembly_line.yml
  - docassemble.ILAO:ilao-interview-framework.yml
  - docassemble.ILAO:shared-basic-questions.yml
  - parenting_plan_review.yml
---
objects:
  - users: ALPeopleList.using(object_type=ALIndividual, there_are_any=True)
  - other_parties: ALPeopleList.using(object_type=ALIndividual, there_are_any=True)
  - employer: ALIndividual
  - other_employer: ALIndividual
  - children: ALPeopleList.using(object_type=ALIndividual, there_are_any=True, complete_attribute='complete')
  - week: DAList.using(object_type=Thing, there_are_any=True, complete_attribute='complete')
  - week[i].day: DAList.using(object_type=Thing, auto_gather=True, there_are_any=True)
  - new_years_day: Thing
  - mothers_day: Thing
  - memorial_day: Thing
  - fathers_day: Thing
  - july_4th: Thing
  - labor_day: Thing
  - halloween: Thing
  - thanksgiving: Thing
  - christmas_eve: Thing
  - christmas_day: Thing
  - new_years_eve: Thing
  - holiday_list: DAList.using(object_type=Thing, there_are_any=True)
  - other_holidays: DAList.using(object_type=Thing, complete_attribute='complete')
  - exchange_address: ALIndividual
  - court_list: ALCourtLoader.using(file_name='docassemble.ILAO:data/sources/il_courts.xlsx')
---
code: |
  al_form_type = 'existing_case'
  ilao_easy_form_title = "Parenting Plan"
  ilao_easy_form_url = "https://www.illinoislegalaid.org/legal-information/parenting-plan"
  form_name = "Parenting Plan"
  github_user = 'IllinoisLegalAidOnline'
  github_repo_name = 'docassemble-ParentingPlan'
  allowed_courts = ['Circuit']
---
code: |
  days_of_the_week = ['Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday', 'Saturday', 'Sunday']
  holidays = ["New Year's Day", "Mother's Day", "Memorial Day", "Father's Day", "July 4", "Labor Day", "Halloween", "Thanksgiving", "Christmas Eve", "Christmas Day", "New Year's Eve"]

  holiday_objects = {
    "New Year's Day": new_years_day,
    "Mother's Day": mothers_day,
    "Memorial Day": memorial_day,
    "Father's Day": fathers_day,
    "July 4": july_4th,
    "Labor Day": labor_day,
    "Halloween": halloween,
    "Thanksgiving": thanksgiving,
    "Christmas Eve": christmas_eve,
    "Christmas Day": christmas_day,
    "New Year's Eve": new_years_eve
  }
---
code: |
  def get_holiday_name(obj):
      for key, value in holiday_objects.items():
          if value == obj:
              return key
      return "Unknown Holiday"
---
sections:
  - section_intro: Start
  - section_case: Case info
  - section_family: Family members
  - section_decisions: Decision making
  - section_schedule: Parenting time
  - section_terms: Other Parenting Plan terms
  - section_download: Download
---
#################### Interview order #####################
mandatory: True
code: |
  nav.set_section('section_intro')
  sees_nav_bar
  snapshot_start
  set_progress(5)
  how_to_use
  accept_terms
  about_parenting_plans
  if family_case == False:
    family_kickout
  
  nav.set_section('section_case')
  set_progress(15)
  plan_type
  party_label
  case_county
  case_number

  nav.set_section('section_family')
  set_progress(15)
  users[0].name.first
  if hide_contact == False:
    users[0].address.address
  users[0].phone_number
  if has_employer:
    employer.name.first
  other_parties[0].name.first
  if has_other_address:
    other_parties[0].address.address
  other_parties[0].phone_number
  if has_other_employer:
    other_employer.name.first
  children.gather()

  nav.set_section('section_decisions')
  set_progress(35)
  eduction_decisions
  health_decisions
  religious_decisions
  activities_decisions

  set_progress(50)
  nav.set_section('section_schedule')
  if parenting_time == "yes":
    users[0].name.initials
    schedule_start
    week.gather()

  if parenting_holiday != "other":
    users[0].name.initials

    if parenting_holiday == "holiday_option1": 
      holiday_groups

    if parenting_holiday == "holiday_option2":
      if holiday_list.any_true():
        prepopulated_holidays
        other_holidays.gather()

  if school_breaks:
    spring_break
    summer_break
    winter_break

  transportation
  exchange_location
  first_refusal
  communication
  if additional_time:
    additional_time_details

  set_progress(80)
  nav.set_section('section_terms')
  primary_parent
  residential_address
  accept_rights
  accept_move
  accept_relocation_a
  accept_relocation_b
  accept_relocation_c
  accept_relocation_d
  accept_relocation_e
  accept_changes_a
  accept_changes_b
  mediation_option

  set_progress(100)
  nav.set_section('section_download')
  forms_assembling
  snapshot_forms
  get_docs_screen
---
code: |
  stuff_to_snapshot = {
  	'start_time': str(current_datetime().format_datetime()),
  	'started_interview': True, 
  	}

  try:
    stuff_to_snapshot['ip_address'] = device(ip=True)
  except:
    pass

  stuff_to_snapshot['zip'] = showifdef('users[0].address.zip')

  if showifdef('parenting_holiday'):
    if parenting_holiday == "holiday_option1":
      stuff_to_snapshot['holiday_groups'] = True
    else:
      stuff_to_snapshot['holiday_separate'] = True
  
  stuff_to_snapshot['downloaded_forms'] = showifdef('forms_assembling')
  
  store_variables_snapshot(
  	data=stuff_to_snapshot, persistent=True
  	)
  snapshot_interview_state = True
---
code: |
  snapshot_interview_state
  snapshot_start = True  
---
code: |
  reconsider('snapshot_interview_state')
  snapshot_forms = True
---

id: welcome
continue button field: sees_nav_bar
question: |
  Parenting plan
subquestion: |
  Welcome to Illinois Legal Aid Online's **Parenting plan** Easy Form.

  This program helps you make a plan to set parental responsibilities (formerly custody) and parenting time (formerly visitation).

  To learn more, read ILAO's article, [**Parenting plan for parental responsibilities**](https://www.illinoislegalaid.org/node/29851).

---
id: how to use
continue button field: how_to_use
question: |
  Instructions
subquestion: |
  To complete this program, you will need to know:

  * How you want to split parental responsibilities (formerly custody),
  * How you want to split parenting time (formerly visitation), and
  * Information about your divorce or allocation of parental responsibilities court case such as case number and county.

  It could take 20 minutes to 40 minutes to finish this program. You can log in and save your work to return to later. 
 
  ${ collapse_template(help_example) }  

  Click on **{green words}** to learn what they mean. Some pages have a question mark in a circle ${ fa_icon("question-circle", color_css="#0dcaf0" ) } that helps explain things.
---
template: help_example
subject: |
  **You can click sections like this to show more information.**
content: |  
  This is an example of help. Click again to hide.
---
id: about 
continue button field: about_parenting_plans
question: |
  About Parenting Plans
subquestion: |
  A ${form_name} lists who is responsible for decision-making for the children. It includes a schedule for when the children are with you and when they are with the other parent.
  
  The law requires that you file a suggested ${form_name} within 120 days of:
  
  * The date a divorce or parental responsibilities petition is filed, or
  * The date the other parent was notified that a divorce or parental responsibilities petition was filed.
  
  You can file your own Parenting Plan or one that you and the other parent agree on.

  **Note:** You do not have to file a Parenting Plan if the other parent does not file an Appearance or an Answer or Response after they are notified. A judge may not require a Parenting Plan to be filed, so ask the judge during your first court date whether they want you to file one. 
  
  To learn more, read ILAO's guide about [**getting parental responsibilities of a child**](https://www.illinoislegalaid.org/node/29896).
---
id: family case 
question: |
  Do you have a divorce or allocation of parental responsibilities case in Illinois?
subquestion: |
  If you are about to file a new divorce or allocation of parental responsibilities case in Illinois, select **Yes**.
fields:
  - no label: family_case
    datatype: yesnoradio
---
id: family case kickout
event: family_kickout
question: |
  Sorry
subquestion: |
  You can only use this program if you have a divorce or allocation of parental responsibilities case in Illinois or if you are planning to start one.

  Use **[Get Legal Help](https://www.illinoislegalaid.org/get-legal-help)** to find free or low-cost legal services in your area.
buttons:
  - Exit: exit
  - Restart: restart
---
########################## CASE INFO #######################
id: parenting plan type 
question: |
  Whose Parenting Plan is this?
fields:
  - Parenting plan: plan_type
    datatype: radio 
    choices: 
      - Mine: petitioner
      - The other parent's: respondent
      - An agreed Parenting Plan: both
      - Unsure: unsure
---
id: party label
question: |
  What is your role in the case?
subquestion: |
  ${ collapse_template(which_party) }  
field: party_label
choices:
  - Petitioner: petitioner
  - Respondent: respondent
---
template: which_party
subject: |
  **Learn more about roles and party labels**
content: |
  If you filed a new case, or are going to start one, you are either the Petitioner or the Plaintiff.

  If someone filed the case against you, you are either the Respondent or the Defendant.

  Most family law cases use Petitioner and Respondent.
  
  The other court papers in the case should help you figure it out. Look at the top (the caption)
  of the Petition, Complaint, or Order. That form should have a label by your name.
---
code: |
  if party_label == 'petitioner':
    opposing_label = 'respondent'
  if party_label == 'respondent':
    opposing_label = 'petitioner'
---
id: case county
question: |
  In which county was this case filed?
subquestion: |
  If you will be starting a case, select the county where you will file it.
fields:
  - County: case_county
    code:
      court_list._load_courts()["address_county"].unique()
---
id: case number
question: |
  What is the case number?
subquestion: |
  ${ collapse_template(case_number_help) }

  If you have not yet filed your case, leave this blank.
fields:
  - Case number: case_number
    maxlength: 19
    required: False
---
template: case_number_help
subject: |
  **Learn about case numbers**
content: |  
  The case number should be on your court papers. Look at the Complaint or Petition, or the Summons if you received one. It is usually in the top-right part of the first page.
  
  If you started the case, the court clerk should have given you the case number.
  
  In this example, the case number is **2022 EXAMPLE 123**.
  
  [FILE case_number_example.png, 100%, Summons form showing case number]
---
########################## FAMILY  ######################
id: your name
sets:
  - users[0].name.first
  - users[0].name.last
  - users[0].name.middle
  - users[0].name.suffix
question: |
  What is your name?
fields:
  - code: |
      users[0].name_fields()
---
id: hide contact 
question: |
  Are your address and phone number protected by court order because of domestic violence or abuse?
subquestion: |
  If your contact information does not appear on other court papers because you have a protective order, you do not have to list them on your *${form_name}*. 

  Click **No** to list your address and phone number on your *${form_name}*.
fields:
  - no label: hide_contact
    datatype: yesnoradio
---
id: users address
sets:
  - users[0].address.address
  - users[0].address.city
  - users[0].address.state
  - users[0].address.zip
question: |
  What is your address?
subquestion: |
  **This address will appear on your form.** If you do not want this, click **Back** to keep your address hidden.
fields:
  - Street address: users[0].address.address
    address autocomplete: True
  - Address line 2: users[0].address.unit
    required: False
  - City: users[0].address.city
  - State: users[0].address.state
    code: |
      states_list()
    default: IL      
  - ZIP code: users[0].address.zip
---
id: your contact information
question: |
  What is your contact information?
subquestion: |
  The court or other parties might need to contact you about this case.

  **This information will appear on your court forms.**
  
  If you do not want to list a phone number on your forms, leave it blank.

  If you have an email address, you must list it. Be sure to check your email daily, otherwise you may miss important court documents or information about your case.

  ${ collapse_template(contact_info_help) }  
fields:  
  - Phone number: users[0].phone_number
    datatype: al_international_phone
    required: False
  - Email address: users[0].email
    datatype: email
    required: False
---
template: contact_info_help
subject: |
  **What if I don't want to list my email address?**
content: |  
  If you do not want to enter your personal email address, you can create a new email account to get email about your case.
  
  To make a new email account try one of these email services:
  
  * [**Gmail**](https://accounts.google.com/SignUp)
  * [**Outlook**](https://outlook.live.com/owa/?nlp=1&signup=1)
  * [**Yahoo**](https://login.yahoo.com/account/create?.lang=en-US&.intl=us)
---
id: your employer
question: |
  Do you have a job?
subquestion: |
  If you do not currently have an employer, select **No**.
fields:
  - no label: has_employer
    datatype: yesnoradio
---
sets:
  - employer.name.first
id: your employer info 
question: |
  Employer information
fields: 
  - code: |
      employer.name_fields(person_or_business='unsure')
  - Street address: employer.address.address
    address autocomplete: True
  - Address line 2: employer.address.unit
    required: False
  - City: employer.address.city
  - State: employer.address.state
    code: |
      states_list()
    default: IL
  - ZIP code: employer.address.zip
  - Phone number: employer.phone_number
    datatype: al_international_phone
    required: False
---
id: other parties name
sets:
    - other_parties[0].name.first
    - other_parties[0].name.last
    - other_parties[0].name.middle
    - other_parties[0].name.suffix
question: |
  What is the other parent's name?
fields:
  - code: |
      other_parties[0].name_fields()
---
id: listed address for other party
question: |
  Is ${other_parties[0].name.full(middle="full")}'s address listed on other court forms in this case?
subquestion: |
  Their address might not have been listed on other court papers due to domestic violence or abuse.
fields:
  - no label: has_other_address
    datatype: yesnoradio
---
id: other parties address
sets:
  - other_parties[0].address.address
  - other_parties[0].address.city
  - other_parties[0].address.state
  - other_parties[0].address.zip
question: |
  What is ${other_parties[0].name.full(middle="full")}'s address?
fields:
  - Street address: other_parties[0].address.address
    address autocomplete: True
  - Address line 2: other_parties[0].address.unit
    required: False
  - City: other_parties[0].address.city
  - State: other_parties[0].address.state
    code: |
      states_list()
    default: IL      
  - ZIP code: other_parties[0].address.zip
---
id: your contact information
question: |
  What is ${other_parties[0].name.full(middle="full")}'s contact information?
fields:  
  - Phone number: other_parties[0].phone_number
    datatype: al_international_phone
    required: False
  - Email address: other_parties[0].email    
    datatype: email
    required: False
---
id: other parties employment
question: |
  Does ${other_parties[0].name.full(middle="full")} have a job?
fields:
  - no label: has_other_employer
    datatype: yesnoradio
---
sets:
  - other_employer.name.first
id: other parties employer info 
question: |
  Employer information for ${other_parties[0].name.full(middle="full")}
fields: 
  - code: |
      other_employer.name_fields(person_or_business='unsure')
  - Street address: other_employer.address.address
    address autocomplete: True
  - Address line 2: other_employer.address.unit
    required: False
  - City: other_employer.address.city
  - State: other_employer.address.state
    code: |
      states_list()
    default: IL
  - ZIP code: other_employer.address.zip
  - Phone number: other_employer.phone_number
    datatype: al_international_phone
    required: False
---
code: |
  children[i].name.first
  children[i].birthdate
  children[i].complete = True
---
id: add children
sets:
  - children[i].name.first
  - children[i].name.last
question: |
  What is the ${ ordinal(i) } child's name?
subquestion:
  This minor child must be born to or adopted by you and 
  ${other_parties[0].name.full(middle="full")}.

  Only children under 18 can be included in a ${form_name}.
fields:
  - code: |
      children[i].name_fields()
---
id: add child age
sets:
  - children[i].birthdate
question: |
  When is ${children[i].name.full(middle="full")}'s birth date?
subquestion: |
  Only children under 18 can be included in a ${form_name}. If ${children[i].name.full(middle='full')} is 18 or older, you should click **< Back** twice and not add them to the Parenting Plan.
fields:
  - Birth date: children[i].birthdate
    datatype: BirthDate
    alMin: ${ today().minus(days=6570).format("yyyy-MM-dd") }
    alMax: ${ today().format("yyyy-MM-dd") }
validation code: |
  if children[i].age_in_years() >= 18:
    validation_error("Only children under 18 years of age can be included.")
---
id: any other children
question: |
  Do you have another child with ${other_parties[0].name.full(middle="full")}?
subquestion: |
  So far you have told us about ${comma_and_list(children.full_names())}.

  Your *${form_name}* must include minor children born to or adopted by you 
  and ${other_parties[0].name.full(middle="full")}.

  **Note**: The form can accept up to 10 children in total.
fields:
  - "Anyone else?": children.there_is_another
    datatype: yesnoradio
---
code: |
  if children.number_gathered() >= 10:
    children.there_is_another = False
---
########################## DECISIONS ######################
id: education decisions
question: |
  Who will make education decisions for the children?
subquestion: |
  Education decisions include choice of schools and tutors.
fields:
  - Education decisions will be made by: eduction_decisions
    datatype: radio
    choices:
      - Me only: me
      - ${other_parties[0].name.full(middle="full")} only: them
      - Both parents: both
---
id: healthcare decisions
question: |
  Who will make health care decisions for the children?
subquestion: |
  Health decisions include medical, dental, and psychological decisions.
fields:
  - Health care decisions will be made by: health_decisions
    datatype: radio
    choices:
      - Me only: me
      - ${other_parties[0].name.full(middle="full")} only: them
      - Both parents: both
---
id: religious decisions
question: |
  Who will make religious decisions for the children?
fields:
  - Religious decisions will be made by: religious_decisions
    datatype: radio
    choices:
      - Me only: me
      - ${other_parties[0].name.full(middle="full")} only: them
      - Both parents: both
---
id: activities decisions
question: |
  Who will make activities decisions for the children?
subquestion: |
  These include extracurricular and recreational decisions.
fields:
  - Activities decisions will be made by: activities_decisions
    datatype: radio
    choices:
      - Me only: me
      - ${other_parties[0].name.full(middle="full")} only: them
      - Both parents: both
---
id: refuse childcare
question: |
  Right of first refusal for childcare
subquestion: |
  Decide whether a parent will notify the other parent of childcare needs and allow
  them the first opportunity to provide care.

  If you select **Yes**, each parent must offer the other a first right of refusal 
  as follows:

  * If a parent needs childcare for a period of 24 hours or more during their time with
  the children, they must give the other parent the option to care for the children
  before finding other childcare. 

  * As soon as the need for childcare is known, the parent in need of childcare will 
  contact the other parent. 

  * The parent offered the right to care for the children must accept the offer within
  2 hours. If they do not, the parent needing childcare may use another caregiver. 

  * Transportation of the children is the same as for other parenting time.
fields:
  - Is there a right of first refusal for childcare?: first_refusal
    datatype: yesnoradio
---
id: communications
question: |
  When can children communicate with the parent they are not with?
subquestion: |
  Electronic communication between the children and the other parent must not be 
  unreasonably monitored or interrupted. Electronic communication includes telephone,
  e-mail, text, video, etc.  
  
  Select one option for when the children will communicate with the parent they are not with. 
fields: 
  - Children can communicate with other parent: communication
    datatype: radio
    choices:
      - Anytime: anytime
      - Every day between certain times I will enter: daily 
      - Other times I will explain: other
  - Every day start: daily_start
    datatype: time
    show if: 
      variable: communication
      is: daily
  - Every day end: daily_end
    datatype: time
    show if: 
      variable: communication
      is: daily
  - Explain when children can communicate with the parent they are not with: other_description
    datatype: area
    maxlength: 200
    show if: 
      variable: communication
      is: other
validation code: |
  if defined('daily_start') and defined('daily_end'):
    if daily_start > daily_end:
      validation_error("The start time must be before the end time.", field="daily_end")
---
id: primary custody
question: |
  Which parent will have the most parenting time with the children?
subquestion: |
  This will not affect parents' rights and responsibilities under the *${form_name}*.

  Some institutions may use this to determine "custody" for other purposes.
fields:
  - no label: primary_parent
    datatype: radio
    choices:
      - Me: me
      - ${other_parties[0].name.full(middle="full")}: them
---
id: residential address
question: |
  Whose home is the children's residential address?
subquestion: |
  This is primarily for school enrollment purposes.
fields:
  - no label: residential_address
    datatype: radio
    choices:
      - Me: me
      - ${other_parties[0].name.full(middle="full")}: them
---
id: handling conflicts
question: |
  Handling conflicts
subquestion: |
  If a parent wants to change the Parenting Plan or feels the other parent is not 
  following the Parenting Plan, the parents will talk and try to come to an agreement
  on their own.

  If an agreement cannot be reached, the parents will seek help from a mediator. 
  
  * Both parents must cooperate in scheduling and participating in mediation.
  * Both parents must split the cost of mediation equally unless otherwise ordered by the court.
    
  If mediation is unsuccessful, a parent must file a petition to modify the Parenting Plan or a petition to enforce the Parenting Plan with the court.  
fields:
  - no label: mediation_option
    datatype: radio
    choices: 
      - Mediation is required on all issues because parents have joint decision making.: mediation
      - Mediation is not required on all issues because (explain below).: no_mediation
    
  - Reason for not requiring mediation: mediation_reason
    datatype: checkboxes
    none of the above: False
    choices:
      - One parent has all significant decision-making responsibility.: parent
      - There is a history of domestic violence between the parties.: history
      - Other reason: other
    show if: 
      variable: mediation_option
      is: no_mediation
  - What are the other reasons?: other_reasons
    datatype: area
    maxlength: 200
    show if: 
      variable: mediation_reason['other']
      is: True
  - note: |
      A parent must file a petition to change the *${form_name}* or a petition to 
      enforce the *${form_name}* with the court.
    show if: 
      variable: mediation_option
      is: no_mediation
---
########################## PARENTING TIME ######################
id: weekly parenting time
question: |
  Weekly parenting time
subquestion: |
  The *${form_name}* will include a parenting time schedule for when each parent 
  will have the children. The form breaks down the time on an hour-by-hour basis. 
  The forms allow for up to four different weekly schedules.

  ${ collapse_template(weekly_pt_schedule_example) }  
  
  If you want different parenting time schedules on different weeks, select **Yes**. 
  You can enter up to four weekly parenting time schedules. 

  **Note:** You will be asked about parenting time schedules for holidays and school 
  breaks on other screens. The weekly schedule covers non-holidays and weeks when 
  school is in session.
fields:
  - Do you want to fill in the weekly parenting time schedule now?: parenting_time
    datatype: radio
    choices:
      - Yes, I will enter the days and times for each parent on the next screens.: yes
      - No, I will decide weekly parenting time later. I will fill out the schedule by hand or attach one to the *${form_name}*.: no
---
template: weekly_pt_schedule_example
subject: |
  **Show me the weekly parenting time schedule**
content: |  
  This is how the weekly parenting time schedule appears on the form.

  [FILE weekly_parenting_time_schedule_example.png, 100%, Weekly parenting time schedule section of forms]
---
id: parent initials
question: |
  Initials for each parent
subquestion: |
  Enter the initials for each parent. These initials will be used in the *${form_name}* to identify who has parenting time.
fields:
  - ${ users[0].name.full(middle="full") }: users[0].name.initials
    maxlength: 4
    default: ${ users[0].name.first[:1] + users[0].name.last[:1] }
  - ${ other_parties[0].name.full(middle="full") }: other_parties[0].name.initials
    maxlength: 4
    default: ${ other_parties[0].name.first[:1] + other_parties[0].name.last[:1] }
validation code: |
  if users[0].name.initials == other_parties[0].name.initials:
    validation_error("Initials must be different.")
---
id: parenting time start date
question: |
  When does the parenting time schedule start?
fields:
  - Week 1 begins on: schedule_start
    datatype: ThreePartsDate
    alMin: ${ today().format("yyyy-MM-dd") }
---
id: weekly schedule
question: |
  Do you want to enter a parenting time schedule for another week?
subquestion: |
  Review what you have entered so far. You can enter up to 4 weekly schedules.

  % for cnt, current_week in enumerate(week):
    ${ current_week.name}<BR>Start | Mon | Tue | Wed | Thur | Fri | Sat | Sun
    -----|-----|-----|-----|-----|-----|-----|-----
    8 AM | ${ current_week.day[0].time_8_am.name.initials } | ${ current_week.day[1].time_8_am.name.initials } | ${ current_week.day[2].time_8_am.name.initials } | ${ current_week.day[3].time_8_am.name.initials } | ${ current_week.day[4].time_8_am.name.initials } | ${ current_week.day[5].time_8_am.name.initials } | ${ current_week.day[6].time_8_am.name.initials } |
    9 AM | ${ current_week.day[0].time_9_am.name.initials } | ${ current_week.day[1].time_9_am.name.initials } | ${ current_week.day[2].time_9_am.name.initials } | ${ current_week.day[3].time_9_am.name.initials } | ${ current_week.day[4].time_9_am.name.initials } | ${ current_week.day[5].time_9_am.name.initials } | ${ current_week.day[6].time_9_am.name.initials } |
    10 AM | ${ current_week.day[0].time_10_am.name.initials } | ${ current_week.day[1].time_10_am.name.initials } | ${ current_week.day[2].time_10_am.name.initials } | ${ current_week.day[3].time_10_am.name.initials } | ${ current_week.day[4].time_10_am.name.initials } | ${ current_week.day[5].time_10_am.name.initials } | ${ current_week.day[6].time_10_am.name.initials } |
    11 AM | ${ current_week.day[0].time_11_am.name.initials } | ${ current_week.day[1].time_11_am.name.initials } | ${ current_week.day[2].time_11_am.name.initials } | ${ current_week.day[3].time_11_am.name.initials } | ${ current_week.day[4].time_11_am.name.initials } | ${ current_week.day[5].time_11_am.name.initials } | ${ current_week.day[6].time_11_am.name.initials } |
    Noon | ${ current_week.day[0].time_noon.name.initials } | ${ current_week.day[1].time_noon.name.initials } | ${ current_week.day[2].time_noon.name.initials } | ${ current_week.day[3].time_noon.name.initials } | ${ current_week.day[4].time_noon.name.initials } | ${ current_week.day[5].time_noon.name.initials } | ${ current_week.day[6].time_noon.name.initials } |
    1 PM | ${ current_week.day[0].time_1_pm.name.initials } | ${ current_week.day[1].time_1_pm.name.initials } | ${ current_week.day[2].time_1_pm.name.initials } | ${ current_week.day[3].time_1_pm.name.initials } | ${ current_week.day[4].time_1_pm.name.initials } | ${ current_week.day[5].time_1_pm.name.initials } | ${ current_week.day[6].time_1_pm.name.initials } |    
    2 PM | ${ current_week.day[0].time_2_pm.name.initials } | ${ current_week.day[1].time_2_pm.name.initials } | ${ current_week.day[2].time_2_pm.name.initials } | ${ current_week.day[3].time_2_pm.name.initials } | ${ current_week.day[4].time_2_pm.name.initials } | ${ current_week.day[5].time_2_pm.name.initials } | ${ current_week.day[6].time_2_pm.name.initials } |
    3 PM | ${ current_week.day[0].time_3_pm.name.initials } | ${ current_week.day[1].time_3_pm.name.initials } | ${ current_week.day[2].time_3_pm.name.initials } | ${ current_week.day[3].time_3_pm.name.initials } | ${ current_week.day[4].time_3_pm.name.initials } | ${ current_week.day[5].time_3_pm.name.initials } | ${ current_week.day[6].time_3_pm.name.initials } |
    4 PM | ${ current_week.day[0].time_4_pm.name.initials } | ${ current_week.day[1].time_4_pm.name.initials } | ${ current_week.day[2].time_4_pm.name.initials } | ${ current_week.day[3].time_4_pm.name.initials } | ${ current_week.day[4].time_4_pm.name.initials } | ${ current_week.day[5].time_4_pm.name.initials } | ${ current_week.day[6].time_4_pm.name.initials } |
    5 PM | ${ current_week.day[0].time_5_pm.name.initials } | ${ current_week.day[1].time_5_pm.name.initials } | ${ current_week.day[2].time_5_pm.name.initials } | ${ current_week.day[3].time_5_pm.name.initials } | ${ current_week.day[4].time_5_pm.name.initials } | ${ current_week.day[5].time_5_pm.name.initials } | ${ current_week.day[6].time_5_pm.name.initials } |
    6 PM | ${ current_week.day[0].time_6_pm.name.initials } | ${ current_week.day[1].time_6_pm.name.initials } | ${ current_week.day[2].time_6_pm.name.initials } | ${ current_week.day[3].time_6_pm.name.initials } | ${ current_week.day[4].time_6_pm.name.initials } | ${ current_week.day[5].time_6_pm.name.initials } | ${ current_week.day[6].time_6_pm.name.initials } |
    7 PM | ${ current_week.day[0].time_7_pm.name.initials } | ${ current_week.day[1].time_7_pm.name.initials } | ${ current_week.day[2].time_7_pm.name.initials } | ${ current_week.day[3].time_7_pm.name.initials } | ${ current_week.day[4].time_7_pm.name.initials } | ${ current_week.day[5].time_7_pm.name.initials } | ${ current_week.day[6].time_7_pm.name.initials } |
    8 PM | ${ current_week.day[0].time_8_pm.name.initials } | ${ current_week.day[1].time_8_pm.name.initials } | ${ current_week.day[2].time_8_pm.name.initials } | ${ current_week.day[3].time_8_pm.name.initials } | ${ current_week.day[4].time_8_pm.name.initials } | ${ current_week.day[5].time_8_pm.name.initials } | ${ current_week.day[6].time_8_pm.name.initials } |
    9 PM<BR>Over | ${ current_week.day[0].time_9_pm.name.initials } | ${ current_week.day[1].time_9_pm.name.initials } | ${ current_week.day[2].time_9_pm.name.initials } | ${ current_week.day[3].time_9_pm.name.initials } | ${ current_week.day[4].time_9_pm.name.initials } | ${ current_week.day[5].time_9_pm.name.initials } | ${ current_week.day[6].time_9_pm.name.initials } |
    ${ current_week.name} | ${ action_button_html(url_action('week[' + str(cnt) + '].day[0].time_8_am'), label="Edit", icon="pencil-alt") } | ${ action_button_html(url_action('week[' + str(cnt) + '].day[1].time_8_am'), label="Edit", icon="pencil-alt") } | ${ action_button_html(url_action('week[' + str(cnt) + '].day[2].time_8_am'), label="Edit", icon="pencil-alt") } | ${ action_button_html(url_action('week[' + str(cnt) + '].day[3].time_8_am'), label="Edit", icon="pencil-alt") } | ${ action_button_html(url_action('week[' + str(cnt) + '].day[4].time_8_am'), label="Edit", icon="pencil-alt") } | ${ action_button_html(url_action('week[' + str(cnt) + '].day[5].time_8_am'), label="Edit", icon="pencil-alt") } | ${ action_button_html(url_action('week[' + str(cnt) + '].day[6].time_8_am'), label="Edit", icon="pencil-alt") } |


  % endfor
fields:
  - Do you need to schedule another week?: week.there_is_another
    datatype: yesnoradio
css: |
  <style>
    .table-responsive:not(:first-child) {
      margin-top: 5em;
    }
    .table-responsive:last-child {
      margin-top: 1em;
    }
  </style>
---
code: |
  week[i].name.text = "Week " + str(i + 1)
  for j, day_name in enumerate(days_of_the_week):
      week[i].day[j].name.text = day_name
      week[i].day[j].time_8_am
  week[i].complete = True 
---
code: |
  if week[i].day.number_gathered() == 7:
    week[i].day.there_is_another = False
---
code: |
  if week.number_gathered() == 4:
    week.there_is_another = False
---
id: daily plan
question:
  Who will have the children on ${ week[i].day[j].name }s?
subquestion: |
  For each time, select which parent will have the children.
  % if i > 0:
  
  This is for the **Week ${ i + 1 }** schedule.
  % endif
  [NEWLINE] [NEWLINE]
  <button id="current_parent" class="btn btn-info">
    <i class="fas fa-check-circle"></i> Select all times for <b>Me (${ users[0].name.initials })</b>
  </button>  <BR><BR>
  <button id="other_parent" class="btn btn-info">
    <i class="fas fa-check-circle"></i> Select all times for <b>${ other_parties[0].name.full(middle="full")} (${ other_parties[0].name.initials })</b>
  </button> <BR><BR>
  <button id="clear_all" class="btn btn-warning">
    <i class="fas fa-eraser"></i> Clear all selections
  </button>
fields:
  - 8 AM: week[i].day[j].time_8_am
    datatype: object_radio
    choices: |
      [users[0], other_parties[0]]
  - 9 AM: week[i].day[j].time_9_am
    datatype: object_radio
    choices: |
      [users[0], other_parties[0]]
  - 10 AM: week[i].day[j].time_10_am
    datatype: object_radio
    choices: |
      [users[0], other_parties[0]]
  - 11 AM: week[i].day[j].time_11_am
    datatype: object_radio
    choices: |
      [users[0], other_parties[0]]
  - Noon: week[i].day[j].time_noon
    datatype: object_radio
    choices: |
      [users[0], other_parties[0]]
  - 1 PM: week[i].day[j].time_1_pm
    datatype: object_radio
    choices: |
      [users[0], other_parties[0]]
  - 2 PM: week[i].day[j].time_2_pm
    datatype: object_radio
    choices: |
      [users[0], other_parties[0]]
  - 3 PM: week[i].day[j].time_3_pm
    datatype: object_radio
    choices: |
      [users[0], other_parties[0]]
  - 4 PM: week[i].day[j].time_4_pm
    datatype: object_radio
    choices: |
      [users[0], other_parties[0]]
  - 5 PM: week[i].day[j].time_5_pm
    datatype: object_radio
    choices: |
      [users[0], other_parties[0]]
  - 6 PM: week[i].day[j].time_6_pm
    datatype: object_radio
    choices: |
      [users[0], other_parties[0]]
  - 7 PM: week[i].day[j].time_7_pm
    datatype: object_radio
    choices: |
      [users[0], other_parties[0]]
  - 8 PM: week[i].day[j].time_8_pm
    datatype: object_radio
    choices: |
      [users[0], other_parties[0]]
  - 9 PM - Overnight: week[i].day[j].time_9_pm
    datatype: object_radio
    choices: |
      [users[0], other_parties[0]]
script: |
  <script>
    $(document).on('daPageLoad', function() {
      function handleButtonClick(buttonId, initials) {
        var button = document.getElementById(buttonId);
        if (button) {
          button.addEventListener('click', function(event) {
            event.preventDefault();
            var radios = document.querySelectorAll('input[type="radio"]');
            var groups = {};
            radios.forEach(function(radio) {
              if (!groups[radio.name]) {
                groups[radio.name] = [];
              }
              groups[radio.name].push(radio);
            });
            Object.keys(groups).forEach(function(name) {
              var group = groups[name];
              var option = group.find(function(radio) {
                return radio.alt === initials;
              });
              if (option) {
                option.click();
              }
            });
          });
        }
      }
      function handleClearButtonClick(buttonId) {
        var button = document.getElementById(buttonId);
        if (button) {
          button.addEventListener('click', function(event) {
            event.preventDefault();
            var radios = document.querySelectorAll('input[type="radio"]');
            radios.forEach(function(radio) {
              radio.checked = false;
              var label = document.querySelector('label[for="' + radio.id + '"]');
              if (label) {
                  label.classList.remove('btn-primary');
                  label.classList.add('btn-light', 'bg-secondary-subtle', 'text-light-emphasis');
              }
            });
          });
        }
      }
      // Add event listeners to buttons
      handleButtonClick('current_parent', "${ users[0].name.full() }");
      handleButtonClick('other_parent', "${ other_parties[0].name.full() }");
      handleClearButtonClick('clear_all');
    });
  </script>
---
id: parent time holiday note
question: |
  Note about parenting time during holidays
subquestion: |
  Each year, holidays may fall during school breaks, causing a conflict. 
  
  When a conflict happens, the parenting time priority will be: 

  * *1st Priority*: Holiday schedule  
  * *2nd Priority*: School break schedule
  * *3rd Priority*: Regular weekly schedule 

  For example, when Christmas Eve falls within your winter break schedule, but it is the 
  other parent's turn to have Christmas Eve, the other parent will get their parenting time
  on Christmas Eve, because the Holiday schedule has 1st Priority. 
continue button field: holiday_time

---
template: parenting_time_conflicts_help
subject: |
  **Learn about parenting time conflicts during holidays and school breaks**
content: |  
  Each year, holidays may fall during school breaks, causing a conflict. 
  
  When a conflict happens, the parenting time priority will be: 

  * *1st Priority*: Holiday schedule  
  * *2nd Priority*: School break schedule
  * *3rd Priority*: Regular weekly schedule 

  For example, when Christmas Eve falls within your winter break schedule, but it is the 
  other parent's turn to have Christmas Eve, the other parent will get their parenting time
  on Christmas Eve, because the Holiday schedule has 1st Priority. 
---
depends on:
  - holiday_time
id: parenting time holiday
question: |
  How do you want to handle parenting time during holidays?
subquestion: |
    ${ collapse_template(parenting_time_conflicts_help) }
fields:
  - Select an option below: parenting_holiday
    datatype: radio
    choices: 
      - Holidays are put into two groups.: holiday_option1
        help: |
          Each group contains 3 set holidays plus up to 5 other holidays you can choose. **Group A Holidays** include Thanksgiving Day, Christmas Eve, and New Year's Eve. **Group B Holidays** include the 4th of July, Labor Day, and Christmas Day. 
      - Each holiday is handled separately.: holiday_option2
      - I will decide holiday parenting time later. This means I will fill out the schedule by hand or attach one to the *${form_name}*.: other
---
id: holiday by groups
question: |
  Holidays by group
subquestion: |
  % if party_label == 'petitioner':
  In even-numbered years, you will have the minor children on Group A holidays and they
  will have the minor children on Group B holidays.
  % else:
  In even-numbered years, they will have the minor children on Group A holidays and you
  will have the minor children on Group B holidays.
  % endif

  % if party_label == 'petitioner':
  In odd-numbered years, you will have the minor children on Group B holidays and they
  will have the minor children on Group A holidays.
  % else:
  In odd-numbered years, they will have the minor children on Group B holidays and you
  will have the minor children on Group A holidays.
  % endif

  **Note:** You can add up to five other holidays for each group below.
fields:
  - note: |
      **Group A Holidays**

      * Thanksgiving Day
      * Christmas Eve
      * New Year's Eve

      You may add up to 5 additional holidays:
  - Add another Group A holiday: other_a1_yes
    datatype: yesnowide
  - Name of the first additional holiday: other_a1
    maxlength: 25
    show if: other_a1_yes
  - Add another Group A holiday: other_a2_yes
    datatype: yesnowide
    show if: other_a1_yes
  - Name of the second additional holiday: other_a2
    maxlength: 25
    show if: other_a2_yes
  - Add another Group A holiday: other_a3_yes
    datatype: yesnowide
    show if: other_a2_yes
  - Name of the third additional holiday: other_a3
    maxlength: 25
    show if: other_a3_yes
  - Add another Group A holiday: other_a4_yes
    datatype: yesnowide
    show if: other_a3_yes
  - Name of the fourth additional holiday: other_a4
    maxlength: 25
    show if: other_a4_yes
  - Add another Group A holiday: other_a5_yes
    datatype: yesnowide
    show if: other_a4_yes
  - Name of the fifth additional holiday: other_a5
    maxlength: 25
    show if: other_a5_yes
  - note: |
      **Group B Holidays**
      
      * 4th of July
      * Labor Day
      * Christmas Day

      You may add up to 5 additional holidays:
  - Add another Group B holiday: other_b1_yes
    datatype: yesnowide
  - Name of the first additional holiday: other_b1
    maxlength: 25
    show if: other_b1_yes
  - Add another Group B holiday: other_b2_yes
    datatype: yesnowide
    show if: other_b1_yes
  - Name of the second additional holiday: other_b2
    maxlength: 25
    show if: other_b2_yes
  - Add another Group B holiday: other_b3_yes
    datatype: yesnowide
    show if: other_b2_yes
  - Name of the third additional holiday: other_b3
    maxlength: 25
    show if: other_b3_yes
  - Add another Group B holiday: other_b4_yes
    datatype: yesnowide
    show if: other_b3_yes
  - Name of the fourth additional holiday: other_b4
    maxlength: 25
    show if: other_b4_yes
  - Add another Group B holiday: other_b5_yes
    datatype: yesnowide
    show if: other_b4_yes
  - Name of the fifth additional holiday: other_b5
    maxlength: 25
    show if: other_b5_yes
continue button field: holiday_groups
---
id: individual holidays
question: |
  Individual holidays
subquestion: |
  For each holiday, you will be able to select which parent will have the children on which 
  years. You can also choose a start and end time.

  If the holiday is not listed, you can add up to five others on a different screen.
fields:
  - "Which holidays do you want to include in the parenting time schedule?": holiday_list
    datatype: checkboxes
    none of the above: False
    all of the above: True
    choices:
      code: | 
        holidays
continue button field: holiday_list.there_is_another
---
reconsider: True
depends on:
  - holiday_list
code: |
  # This preserves the order of the list instead of sorting them
  if holiday_list[get_holiday_name(new_years_day)]:
    new_years_day.holiday_year
  if holiday_list[get_holiday_name(mothers_day)]:
    mothers_day.holiday_year
  if holiday_list[get_holiday_name(memorial_day)]:
    memorial_day.holiday_year
  if holiday_list[get_holiday_name(fathers_day)]:
    fathers_day.holiday_year
  if holiday_list[get_holiday_name(july_4th)]:
    july_4th.holiday_year
  if holiday_list[get_holiday_name(labor_day)]:
    labor_day.holiday_year
  if holiday_list[get_holiday_name(halloween)]:
    halloween.holiday_year
  if holiday_list[get_holiday_name(thanksgiving)]:
    thanksgiving.holiday_year
  if holiday_list[get_holiday_name(christmas_eve)]:
    christmas_eve.holiday_year
  if holiday_list[get_holiday_name(christmas_day)]:
    christmas_day.holiday_year
  if holiday_list[get_holiday_name(new_years_eve)]:
    new_years_eve.holiday_year

  prepopulated_holidays = True
---
id: holiday list member details
generic object: Thing
question: |
  What parenting time schedule do you want for ${ get_holiday_name(x) }?
subquestion: |
  If you neeed to add other details about holidays, you can explain more when we ask if you want to "add more parenting time information" on another screen.
fields:
  - no label: x.holiday_year
    datatype: radio
    choices:
      - I will get the children every year.: me
      - ${ other_parties[0].name.full(middle="full") } will get the children every year.: them
      - I will get the children only on odd years.: odd
      - I will get the children only on even years.: even
  - Start time: x.holiday_start
    datatype: time
    default: 8:00 AM
  - End time: x.holiday_end
    datatype: time
    default: 9:00 PM
validation code: |
  holiday_list.revisit = True
  if x.holiday_start >= x.holiday_end:
    validation_error("The start time must be before the end time.", field="x.holiday_end")
---
id: other holidays
question: |
  Do you want to add other holidays to the parenting time schedule?
subquestion: |
  % if holiday_list.any_true():
  You told us about parenting time on:

  % for holiday in holiday_list.true_values():
  * ${ holiday }
  % endfor
  
  % endif
  **Note:** You can add up to five additional holidays.
fields: 
  - no label: other_holidays.there_are_any
    datatype: yesnoradio
---
id: holiday gather other name 
question: |
  What is the ${ordinal(i)} other holiday you want to add to the parenting time schedule?
fields: 
  - Holiday name: other_holidays[i].name.text 
    maxlength: 20
---
id: holiday gather other detail
question: |
  What parenting time schedule do you want for ${ other_holidays[i] }?
fields:
  - no label: other_holidays[i].holiday_year
    datatype: radio
    choices:
      - I will get the children every year.: me
      - ${ other_parties[0].name.full(middle="full") } will get the children every year.: them
      - I will get the children only on odd years.: odd
      - I will get the children only on even years.: even
  - Start time: other_holidays[i].holiday_start
    datatype: time
    default: 8:00 AM
  - End time: other_holidays[i].holiday_end
    datatype: time
    default: 9:00 PM
validation code: |
  if other_holidays[i].holiday_start >= other_holidays[i].holiday_end:
    validation_error("The start time must be before the end time.", field="other_holidays[i].holiday_end")
---
id: holiday gather other
question: |
  Do you want to include another holiday on the parenting time schedule?
subquestion: |
  You told us about parenting time on:

  % for holiday in holiday_list.true_values():
  * ${ holiday }
  % endfor
  
  Additional holidays you are including:
  
  % for holiday in other_holidays:
  * ${ holiday.name.text }
  % endfor
fields:
  - Include another holiday?: other_holidays.there_is_another
    datatype: yesnoradio
---
code: |
  other_holidays[i].name.text
  other_holidays[i].holiday_year
  other_holidays[i].complete = True
---
code: |
  if other_holidays.number_gathered() == 5:
    other_holidays.there_is_another = False
---
id: school breaks
question: |
  Do you want to include school break schedules?
subquestion: |
    ${ collapse_template(parenting_time_conflicts_help) }
fields:
  - no label: school_breaks
    datatype: yesnoradio
---
id: spring break
question: |
  What parenting time schedule do you want for school spring break?
subquestion: |
    ${ collapse_template(parenting_time_conflicts_help) }
fields:
  - School Spring Break: spring_break
    datatype: radio 
    choices:
      - No spring break schedule (follow the regular parenting schedule): no
      - Alternate spring break on even and odd years: split
        help: |
          One parent will have the entire spring break in even-numbered years and 
          the other parent will have the entire spring break in odd-numbered years. 
          Spring break starts at 9am the day after school dismissal and ends at 5pm the 
          day before school starts again.
      - Other: other
        help: |
          Choose this if you want one parent to have parenting time the entire spring break every year. Be sure to explain this below.
  - Which parent will have the even-numbered years?: spring_break_year
    datatype: radio
    choices:
      - Me: me
      - ${other_parties[0].name.full(middle="full")}: them
    show if:
      variable: spring_break
      is: split
  - Other plan for spring break: spring_break_other
    datatype: area
    maxlength: 150
    show if:
      variable: spring_break
      is: other
  - Start day and time: spring_break_start
    maxlength: 30
    show if:
      variable: spring_break
      is: other
  - End day and time: spring_break_end
    maxlength: 30
    show if:
      variable: spring_break
      is: other
---
id: summer break
question: |
  What parenting time schedule do you want for school summer break?
subquestion: |
    ${ collapse_template(parenting_time_conflicts_help) }
fields:
  - School Summer Break: summer_break
    datatype: radio 
    choices:
      - No summer break schedule (follow the regular parenting schedule): no
      - Each parent will have 2 non-consecutive weeks in the summer: split
        help: |
          Each parent will notify the other in writing by April 1st each year of the weeks they wish to have summer parenting time.
      - Other: other
        help: |
          Choose this if you want one parent to have parenting time the entire summer break every year. Be sure to explain this below.
  - note: |
      Each parent will notify the other in writing by April 1st each year 
      of the weeks they wish to have summer parenting time. 
      
      One parent will have first choice of dates in even-numbered years and the
      other parent will have first choice in odd-numbered years.
    show if:
      variable: summer_break
      is: split
  - Which parent will have the even number years?: summer_break_year
    datatype: radio
    choices:
      - Me: me
      - ${other_parties[0].name.full(middle="full")}: them
    show if:
      variable: summer_break
      is: split
  - Other plan for summer break: summer_break_other
    datatype: area
    maxlength: 150
    show if:
      variable: summer_break
      is: other
  - Start day and time: summer_break_start
    maxlength: 30
    show if:
      variable: summer_break
      is: other
  - End day and time: summer_break_end
    maxlength: 30
    show if:
      variable: summer_break
      is: other
---
id: winter break
question: |
  What parenting time schedule do you want for school winter break?
subquestion: |
    ${ collapse_template(parenting_time_conflicts_help) }
fields:
  - School Winter Break: winter_break
    datatype: radio 
    choices:
      - No winter break schedule (follow the regular parenting schedule): no
      - Alternate winter break on even and odd years: split
        help: |
          School winter break begins at 9am the day after school dismissal and ends at 5 pm the day before school starts again.
      - Other: other
        help: |
          Choose this if you want one parent to have parenting time the entire winter break every year. Be sure to explain this below.
  - note: |
      One parent will have the first half of winter break in even-numbered years 
      and the other parent will have the first half of winter break in odd-numbered
      years. School winter break begins at 9am the day after school dismissal and 
      ends at 5 pm the day before school starts again.
    show if:
      variable: winter_break
      is: split
  - Which parent will have the even-numbered years?: winter_break_year
    datatype: radio
    choices:
      - Me: me
      - ${other_parties[0].name.full(middle="full")}: them
    show if:
      variable: winter_break
      is: split
  - Other plan for winter break: winter_break_other
    datatype: area
    maxlength: 150
    show if:
      variable: winter_break
      is: other
  - Start day and time: winter_break_start
    maxlength: 30
    show if:
      variable: winter_break
      is: other
  - End day and time: winter_break_end
    maxlength: 30
    show if:
      variable: winter_break
      is: other
---
id: transportation
question: |
  Parenting time transportation
subquestion: |
  Select only one of these options for how the children will be transported 
  for parenting time.
fields:
  - Transportation of children: transportation
    datatype: radio
    choices:
      - I will provide all transportation.: me
      - ${ other_parties[0].name.full(middle="full") } will provide all transportation.: them
      - Each parent will pick up the children at the start of their parenting time.: pick_up
      - Each parent will drop off the children at the end of their parenting time.: drop_off
      - Other: other
  - Other transportation plan: transportation_other
    datatype: area
    maxlength: 200
    show if: 
      variable: transportation
      is: other
---
id: exchange location
question: |
  Where will children be picked up and dropped off?
subquestion: |
  Select one of these options for where the children will be picked up and dropped off for parenting time.
fields:
  - Exchange of children will take place at: exchange_location
    datatype: radio
    choices:
      - Drop off and pick up of the children be at each parent's homes unless both parties agree in advance to a different meeting place.: homes
      - Drop off and pick up will take place at a specific location (address and city): location
  - Location name: exchange_address.location
    maxlength: 40
    show if: 
      variable: exchange_location
      is: location
  - Street address: exchange_address.address.address
    address autocomplete: True
    show if: 
      variable: exchange_location
      is: location
  - Address line 2: exchange_address.address.unit
    required: False
    show if: 
      variable: exchange_location
      is: location
  - City: exchange_address.address.city
    show if: 
      variable: exchange_location
      is: location
---
id: additional parenting time
question: |
  Do you want to add more parenting time information?
subquestion: |
  If the questions so far have not covered everything about the parenting time 
  schedule, you can add more details.
  
  You can preview the *${form_name}* at the end of the program and add more later.
fields:
  - no label: additional_time
    datatype: yesnoradio
---
id: additional parenting time details
question: |
  What else do you want to include about parenting time?
fields:
  - no label: additional_time_details
    datatype: area
    maxlength: 800
---
## 5.RIGHTS & RESPONSIBILITIES OF THE PARENTS
id: rights and responsibilities
question: |
  Rights and responsibilities of the parents
subquestion: |
  This is what each parent will do when the children are with them. 

  * Make day-to-day decisions for the children when they have them, such as routine 
  discipline, minor medical treatment, curfew, chores, and hygiene.
  
  * Give the other parent the name, address, and telephone number of any health 
  care provider for the children.
  
  * Have access to the children's school records, childcare information, 
  extracurricular activity schedules, and medical, dental, and mental health records
  unless access is denied by the judge.
  
  * Notify the other parent as soon as possible of emergencies, health care, travel
  plans, or other significant child-related issues
fields:
  - no label: accept_rights
    datatype: checkboxes
    none of the above: False
    minlength: 1
    choices:
      - I have read and understand the above.
    validation messages:
      minlength: |
        You cannot continue unless you have read and understand the above information.
continue button field: terms_accept_rights
---
## 3. MUST PROVIDE NOTICE OF MOVE
id: notice of move
question: |
  Must provide notice of move
subquestion: |
  Both parents must provide each other notice if they plan to move, regardless of distance.

  If a **parent plans to move**, they must give the other parent at least 60 days' 
  notice, or notice as soon as possible, of:
  
  * The intended move date, and
  
  * The new address unless the address is protected because of domestic violence or abuse.
fields:
  - no label: accept_move
    datatype: checkboxes
    none of the above: False
    minlength: 1
    choices:
      - I have read and understand the above.
    validation messages:
      minlength: |
        You cannot continue unless you have read and understand the above information.
continue button field: terms_accept_move
---
## 12.A RELOCATION OF MINOR CHILDREN
id: relocation A
question: |
  Relocation - when agreement required
subquestion: |
  Relocation is when a parent seeks to move with children for distances of over 25 or 
  50 miles (depending on the county where they live).
  
  If a parent with the most parenting time or equal parenting time wishes to move 
  with the children, they must get the **agreement of the other parent or permission 
  from the judge** when:

  * The children's primary home is in Cook, DuPage, Kane, Lake, 
  McHenry, or Will County and the move is within  Illinois but more than 25 miles 
  away from their current home,
  
  * The children's primary home is in any other county
  in Illinois and the move is within Illinois but more than 50  miles away from their 
  current home, or 
  
  * The move is outside of Illinois and more than 25 miles from the 
  children's primary home.
fields:
  - no label: accept_relocation_a
    datatype: checkboxes
    none of the above: False
    minlength: 1
    choices:
      - I have read and understand the above.
    validation messages:
      minlength: |
        You cannot continue unless you have read and understand the above information.
continue button field: terms_accept_relocation_a
---
## 12.B RELOCATION OF MINOR CHILDREN
id: relocation B
question: |
  Relocation - when written notice required
subquestion: |
  The parent asking to move with the children must provide **written notice** to the 
  other parent. The notice must:

  * Be given at least 60 days before the move unless that is impossible. If impossible,
  the notice must be given at the earliest date possible, 
  
  * State the date the parent plans to move,
  
  * State whether the move is permanent or for a specific time period, and

  * State the new address, if known, unless the address is protected because of 
  domestic violence or abuse
fields:
  - no label: accept_relocation_b
    datatype: checkboxes
    none of the above: False
    minlength: 1
    choices:
      - I have read and understand the above.
    validation messages:
      minlength: |
        You cannot continue unless you have read and understand the above information.
continue button field: terms_accept_relocation_b
---
## 12.C RELOCATION OF MINOR CHILDREN
id: relocation C
question: |
  Relocation agreement
subquestion: |
  **No change is needed for parenting time** - If the parents agree on the move and no 
  change is needed to the parenting time schedule, both parties will sign the notices
  provided about the move and file it with the court. No court appearance is needed. 

  **Changes in parenting time are needed** - If the other parent agrees with the move
  but changes need to be made to the parenting time schedule, and the parents are in 
  agreement about the changes to the parenting time schedule, the moving parent must: 

  * Have the other parent sign the notice provided about the move,

  * File the signed notice with the court, and

  * File an updated *${form_name}* with the court. The court does not need to approve the move but the court must approve the changes to the *${form_name}*.
fields:
  - no label: accept_relocation_c
    datatype: checkboxes
    none of the above: False
    minlength: 1
    choices:
      - I have read and understand the above.
    validation messages:
      minlength: |
        You cannot continue unless you have read and understand the above information.
continue button field: terms_accept_relocation_c
---
## 12.D RELOCATION OF MINOR CHILDREN
id: relocation D
question: |
  Relocation partial agreement
subquestion: |
  If the other parent agrees with the move, but both parents cannot agree on changes 
  to the *${form_name}*, the moving parent must: 

  * Have the other parent sign the notice provided about the move,

  * File the signed notice with the court, and

  * Follow the Handling Conflicts process in the *${form_name}* to try to reach an agreement with the
      other parent about changes to the parenting time schedule.
      
  If no agreement can be reached after completing the Handling Conflicts process, file a petition to modify the parenting time schedule with the court.
fields:
  - no label: accept_relocation_d
    datatype: checkboxes
    none of the above: False
    minlength: 1
    choices:
      - I have read and understand the above.
    validation messages:
      minlength: |
        You cannot continue unless you have read and understand the above information.
continue button field: terms_accept_relocation_d
---
## 12.E RELOCATION OF MINOR CHILDREN
id: relocation E
question: |
  Relocation no agreement
subquestion: |
  If the other parent does not agree with the move, the parent relocating must: 

  * Follow the Handling Conflicts process in the *${form_name}* to try to reach an agreement
  with the other parent, and

  * If no agreement can be reached after completing the Handling Conflicts process, 
  file a petition with the court asking for permission to move.
fields:
  - no label: accept_relocation_e
    datatype: checkboxes
    none of the above: False
    minlength: 1
    choices:
      - I have read and understand the above.
    validation messages:
      minlength: |
        You cannot continue unless you have read and understand the above information.
continue button field: terms_accept_relocation_e
---
## 14.A CHANGES TO THIS PARENTING PLAN
id: changes A
question: |
  Changes to the Parenting Plan when parents agree
subquestion: |
  If a parent wants to change the *${form_name}*, they will talk to the other parent. 
  The parents will try to reach an agreement on their own.

  If the parents agree to a change, and the change is:

  * A one-time or short-term change, then they will make the change without filing an
  agreement with the court.

  * A long-term or permanent change, then they will draft and file a new *${form_name}*
  with the court.
fields:
  - no label: accept_changes_a
    datatype: checkboxes
    none of the above: False
    minlength: 1
    choices:
      - I have read and understand the above.
    validation messages:
      minlength: |
        You cannot continue unless you have read and understand the above information.
continue button field: terms_accept_changes_a
---
## 14.B CHANGES TO THIS PARENTING PLAN
id: changes B
question: |
  Changes to the Parenting Plan when parents do not agree
subquestion: |
  If the parents do not agree, then they will:

  * Follow the Handling Conflicts process in the *${form_name}* to try to reach an agreement about changes to the *${form_name}*. If an agreement is reached, follow the steps in the Handling Conflicts section of the *${form_name}*.

  * If the parents still don't agree after going through the Handling Conflicts process,
  the parent who wants the change must file a petition with the court asking for 
  changes to the *${form_name}*.

  * The *${form_name}* will be followed until the parents complete the Handling 
  Conflicts process and agree to a new plan or a new *${form_name}* is approved by the court.

fields:
  - no label: accept_changes_b
    datatype: checkboxes
    none of the above: False
    minlength: 1
    choices:
      - I have read and understand the above.
    validation messages:
      minlength: |
        You cannot continue unless you have read and understand the above information.
continue button field: terms_accept_changes_b
---
###################### DOWNLOAD SECTION #########################
id: forms assembling
continue button field: forms_assembling
question: |
  Almost done
subquestion: |
  After you click **Next**, it may take a few moments to finish making your forms.
  
  ###### You do not need to refresh your screen. Hang in there!
  
  [NEWLINE]
---
id: get docs screen
event: get_docs_screen
question: |
  Download
subquestion: |
  Your form is ready. View and download your form below. Click **Make changes** to fix any mistakes.

  This program does not deliver your *${form_name}* to other party in your case. You will need to do that yourself.

  ${ action_button_html(url_action('review_answers'), label=':edit: Make changes', color='success', size="md") }

  ${ al_user_bundle.download_list_html() }

  [NEWLINE]

  ${ al_user_bundle.send_button_html(show_editable_checkbox=False) }


  **Note:** This program does not deliver your *${form_name}* to other party in your case. You will need to do that yourself.
  
  Thank you for using ILAO Easy Forms!
under: |
  % if not user_logged_in():
  [${fa_icon("sign-in-alt", color="#0079d0", size="sm")} **Sign-in**](${url_of('login', next=interview_url())}) or [**create**](${url_of('register', next=interview_url())}) an ILAO Easy Form account to save your progress (optional).
  % endif

  ${ action_button_html(interview_url(i="docassemble.ILAO:feedback.yml", easy_form_interview=ilao_easy_form_url, easy_form_title=ilao_easy_form_title, easy_form_page=current_context().question_id, easy_form_variable=current_context().variable, local=False,reset=1), label=':comment: Was this program helpful?', color="#181c36", size="md", new_window=True) }
---
id: holiday list member details
generic object: ALDocumentBundle
template: x.send_email_template
subject: |
  Parenting plan forms
content: |
  Your forms are attached.
  
  Thanks for using ILAO Easy Forms!
  
  [**Illinois Legal Aid Online**](https://www.illinoislegalaid.org)
---
###################### ATTACHMENTS ##########################
objects:
  - al_user_bundle: ALDocumentBundle.using(elements=[instructions, parenting_plan_bundle], filename="completed_parenting_plan.pdf", title="All forms", enabled=True)
---
objects:
  - parenting_plan_bundle: ALDocumentBundle.using(title="Parenting Plan", filename="parenting_plan.pdf", enabled=True, elements=[
        parenting_plan,
        additional_children,
        additional_parenting_time,
      ])
---
objects:
  - instructions: ALDocument.using(title="Instructions", filename="instructions.pdf", enabled=True, has_addendum=False)
  - parenting_plan: ALDocument.using(title="Parenting Plan", filename="parenting_plan.pdf", enabled=True, has_addendum=False)
---
attachment:
  - name: instructions
    variable name: instructions[i]
    filename: instructions
    editable: False
    skip undefined: True
    pdf template file: instructions.pdf
    fields:
      - "fake": ${ "" }

    
---
attachment:
  - name: parenting_plan
    variable name: parenting_plan[i]
    filename: parenting_plan
    pdf template file: parenting_plan.pdf
    skip undefined: True
    editable: False
    fields:
      - "plan_petitioner": ${ plan_type == 'petitioner' }
      - "plan_respondent": ${ plan_type == 'respondent' }
      - "plan_agreed": ${ plan_type == 'both' }
      #- "plan_court": ${ plan_type == 'court' }
      - "county_name": ${ case_county }
      - "case_number": ${ case_number }
      - "petitioner_name": |
          % if party_label == 'petitioner':
          ${ users[0].name.full(middle='full') }
          % else:
          ${ other_parties[0].name.full(middle='full') }
          % endif
      - "respondent_name": |
          % if party_label == 'respondent':
          ${ users[0].name.full(middle='full') }
          % else:
          ${ other_parties[0].name.full(middle='full') }
          % endif
      - "petitioner_address": |
          % if party_label == 'petitioner':
            % if not hide_contact:
            ${ users[0].address.on_one_line(bare=True) }
            % endif
          % else:
            % if has_other_address:
            ${ other_parties[0].address.on_one_line(bare=True) }
            % endif
          % endif
      - "petitioner_phone": |
            % if party_label == 'petitioner':
            ${ phone_number_formatted(users[0].phone_number) }
            % else:
            ${ phone_number_formatted(other_parties[0].phone_number) }
            % endif
      - "petitioner_email": |
          % if party_label == 'petitioner':
          ${ users[0].email }
          % else:
          ${ other_parties[0].email }
          % endif
      - "petitioner_employed_yes": |
          % if party_label == 'petitioner':
          ${ has_employer }
          % else:
          ${ has_other_employer }
          % endif
      - "petitioner_employed_no": |
          % if party_label == 'petitioner':
          ${ not has_employer }
          % else:
          ${ not has_other_employer }
          % endif
      - "petitioner_employer_name": |
          % if party_label == 'petitioner':
            % if has_employer:
            ${ employer.name.full(middle="full") }
            % endif
          % else:
            % if has_other_employer:
            ${ other_employer.name.full(middle="full") }
            % endif
          % endif
      - "petitioner_employer_address": |
          % if party_label == 'petitioner':
            % if has_employer:
            ${ employer.address.on_one_line(bare=True) }
            % endif
          % else:
            % if has_other_employer:
            ${ other_employer.address.on_one_line(bare=True) }
            % endif
          % endif
      - "petitioner_employer_phone": |
          % if party_label == 'petitioner':
            % if has_employer:
            ${ phone_number_formatted(employer.phone_number) }
            % endif
          % else:
            % if has_other_employer:
            ${ phone_number_formatted(other_employer.phone_number) }
            % endif
          % endif
      - "respondent_address": |
          % if party_label == 'respondent':
            % if not hide_contact:
            ${ users[0].address.on_one_line(bare=True) }
            % endif
          % else:
            % if has_other_address:
            ${ other_parties[0].address.on_one_line(bare=True) }
            % endif
          % endif
      - "respondent_phone": |
          % if party_label == 'respondent':
          ${ phone_number_formatted(users[0].phone_number) }
          % else:
          ${ phone_number_formatted(other_parties[0].phone_number) }
          % endif
      - "respondent_email": |
          % if party_label == 'respondent':
          ${ users[0].email }
          % else:
          ${ other_parties[0].email }
          % endif
      - "respondent_employed_yes": |
          % if party_label == 'respondent':
          ${ has_employer }
          % else:
          ${ has_other_employer }
          % endif
      - "respondent_employed_no": |
          % if party_label == 'respondent':
          ${ not has_employer }
          % else:
          ${ not has_other_employer }
          % endif
      - "respondent_employer_name": |
          % if party_label == 'respondent':
            % if has_employer:
            ${ employer.name.full(middle="full") }
            % endif
          % else:
            % if has_other_employer:
            ${ other_employer.name.full(middle="full") }
            % endif
          % endif
      - "respondent_employer_address": |
          % if party_label == 'respondent':
            % if has_employer:
            ${ employer.address.on_one_line(bare=True) }
            % endif
          % else:
            % if has_other_employer:
            ${ other_employer.address.on_one_line(bare=True) }
            % endif
          % endif
      - "respondent_employer_phone": |
          % if party_label == 'respondent':
            % if has_employer:
            ${ phone_number_formatted(employer.phone_number) }
            % endif
          % else:
            % if has_other_employer:
            ${ phone_number_formatted(other_employer.phone_number) }
            % endif
          % endif
      - "child_name1": ${ children[0].name.full() }
      - "child_age1": ${ children[0].age_in_years() if children[0].age_in_years() > 1 else str(children[0].age_in_months() ) + ' months' }
      - "child_name2": |
          % if children.number_gathered() >= 2:
          ${ children[1].name.full() }
          % endif
      - "child_age2": |
          % if children.number_gathered() >= 2:
          ${ children[1].age_in_years() if children[1].age_in_years() > 1 else str(children[1].age_in_months() ) + ' months' }
          % endif
      - "child_name3": |
          % if children.number_gathered() >= 3:
          ${ children[2].name.full() }
          % endif
      - "child_age3": |
          % if children.number_gathered() >= 3:
          ${ children[2].age_in_years() if children[2].age_in_years() > 1 else str(children[2].age_in_months() ) + ' months' }
          % endif
      - "additional_children_yes": ${ children.number_gathered() > 3 }
      # 6. SIGNIFICANT DECISION MAKING
      - "6A_both_parents": ${ eduction_decisions == "both" }
      - "6A_petitioner_only": |
          % if party_label == 'petitioner':
          ${ eduction_decisions == "me" }
          % else:
          ${ eduction_decisions == "them" }
          % endif
      - "6A_respondent_only": |
          % if party_label == 'respondent':
          ${ eduction_decisions == "me" }
          % else:
          ${ eduction_decisions == "them" }
          % endif
      - "6B_both_parents": ${ health_decisions == "both" }
      - "6B_petitioner_only": |
          % if party_label == 'petitioner':
          ${ health_decisions == "me" }
          % else:
          ${ health_decisions == "them" }
          % endif
      - "6B_respondent_only": |
          % if party_label == 'respondent':
          ${ health_decisions == "me" }
          % else:
          ${ health_decisions == "them" }
          % endif
      - "6C_both_parents": ${ religious_decisions == "both" }
      - "6C_petitioner_only": |
          % if party_label == 'petitioner':
          ${ religious_decisions == "me" }
          % else:
          ${ religious_decisions == "them" }
          % endif
      - "6C_respondent_only": |
          % if party_label == 'respondent':
          ${ religious_decisions == "me" }
          % else:
          ${ religious_decisions == "them" }
          % endif
      - "6D_both_parents": ${ activities_decisions == "both" }
      - "6D_petitioner_only": |
          % if party_label == 'petitioner':
          ${ activities_decisions == "me" }
          % else:
          ${ activities_decisions == "them" }
          % endif
      - "6D_respondent_only": |
          % if party_label == 'respondent':
          ${ activities_decisions == "me" }
          % else:
          ${ activities_decisions == "them" }
          % endif
      
      # WEEKLY PARENTING TIME SCHEDULE
      - "petitioner_initals": |
          % if parenting_time == "yes" or parenting_holiday != "other" or school_breaks:
          % if party_label == 'petitioner':
          ${ users[0].name.initials }
          % else:
          ${ other_parties[0].name.initials }
          % endif
          % endif
      - "respondent_initals": | 
          % if parenting_time == "yes" or parenting_holiday != "other" or school_breaks:
          % if party_label == 'respondent':
          ${ users[0].name.initials }
          % else:
          ${ other_parties[0].name.initials }
          % endif
          % endif
      - "week_1_date": |
          % if week.number_gathered() >= 1:
            ${ format_date(schedule_start, "MMMM d, YYYY") }
          % endif
      # Week 1 - Monday
      - "week1_mon_8am": |
          % if week.number_gathered() >= 1:
            ${ week[0].day[0].time_8_am.name.initials }
          % endif
      - "week1_mon_9am": |
          % if week.number_gathered() >= 1:
            ${ week[0].day[0].time_9_am.name.initials }
          % endif
      - "week1_mon_10am": |
          % if week.number_gathered() >= 1:
            ${ week[0].day[0].time_10_am.name.initials }
          % endif
      - "week1_mon_11am": |
          % if week.number_gathered() >= 1:
            ${ week[0].day[0].time_11_am.name.initials }
          % endif
      - "week1_mon_noon": |
          % if week.number_gathered() >= 1:
            ${ week[0].day[0].time_noon.name.initials }
          % endif
      - "week1_mon_1pm": |
          % if week.number_gathered() >= 1:
            ${ week[0].day[0].time_1_pm.name.initials }
          % endif
      - "week1_mon_2pm": |
          % if week.number_gathered() >= 1:
            ${ week[0].day[0].time_2_pm.name.initials }
          % endif
      - "week1_mon_3pm": |
          % if week.number_gathered() >= 1:
            ${ week[0].day[0].time_3_pm.name.initials }
          % endif
      - "week1_mon_4pm": |
          % if week.number_gathered() >= 1:
            ${ week[0].day[0].time_4_pm.name.initials }
          % endif
      - "week1_mon_5pm": |
          % if week.number_gathered() >= 1:
            ${ week[0].day[0].time_5_pm.name.initials }
          % endif
      - "week1_mon_6pm": |
          % if week.number_gathered() >= 1:
            ${ week[0].day[0].time_6_pm.name.initials }
          % endif
      - "week1_mon_7pm": |
          % if week.number_gathered() >= 1:
            ${ week[0].day[0].time_7_pm.name.initials }
          % endif
      - "week1_mon_8pm": |
          % if week.number_gathered() >= 1:
            ${ week[0].day[0].time_8_pm.name.initials }
          % endif
      - "week1_mon_9pm": |
          % if week.number_gathered() >= 1:
            ${ week[0].day[0].time_9_pm.name.initials }
          % endif
      # Week 1 - Tuesday
      - "week1_tues_8am": |
          % if week.number_gathered() >= 1:
            ${ week[0].day[1].time_8_am.name.initials }
          % endif
      - "week1_tues_9am": |
          % if week.number_gathered() >= 1:
            ${ week[0].day[1].time_9_am.name.initials }
          % endif
      - "week1_tues_10am": |
          % if week.number_gathered() >= 1:
            ${ week[0].day[1].time_10_am.name.initials }
          % endif
      - "week1_tues_11am": |
          % if week.number_gathered() >= 1:
            ${ week[0].day[1].time_11_am.name.initials }
          % endif
      - "week1_tues_noon": |
          % if week.number_gathered() >= 1:
            ${ week[0].day[1].time_noon.name.initials }
          % endif
      - "week1_tues_1pm": |
          % if week.number_gathered() >= 1:
            ${ week[0].day[1].time_1_pm.name.initials }
          % endif
      - "week1_tues_2pm": |
          % if week.number_gathered() >= 1:
            ${ week[0].day[1].time_2_pm.name.initials }
          % endif
      - "week1_tues_3pm": |
          % if week.number_gathered() >= 1:
            ${ week[0].day[1].time_3_pm.name.initials }
          % endif
      - "week1_tues_4pm": |
          % if week.number_gathered() >= 1:
            ${ week[0].day[1].time_4_pm.name.initials }
          % endif
      - "week1_tues_5pm": |
          % if week.number_gathered() >= 1:
            ${ week[0].day[1].time_5_pm.name.initials }
          % endif
      - "week1_tues_6pm": |
          % if week.number_gathered() >= 1:
            ${ week[0].day[1].time_6_pm.name.initials }
          % endif
      - "week1_tues_7pm": |
          % if week.number_gathered() >= 1:
            ${ week[0].day[1].time_7_pm.name.initials }
          % endif
      - "week1_tues_8pm": |
          % if week.number_gathered() >= 1:
            ${ week[0].day[1].time_8_pm.name.initials }
          % endif
      - "week1_tues_9pm": |
          % if week.number_gathered() >= 1:
            ${ week[0].day[1].time_9_pm.name.initials }
          % endif
      # Week 1 - Wednesday
      - "week1_wed_8am": |
          % if week.number_gathered() >= 1:
            ${ week[0].day[2].time_8_am.name.initials }
          % endif
      - "week1_wed_9am": |
          % if week.number_gathered() >= 1:
            ${ week[0].day[2].time_9_am.name.initials }
          % endif
      - "week1_wed_10am": |
          % if week.number_gathered() >= 1:
            ${ week[0].day[2].time_10_am.name.initials }
          % endif
      - "week1_wed_11am": |
          % if week.number_gathered() >= 1:
            ${ week[0].day[2].time_11_am.name.initials }
          % endif
      - "week1_wed_noon": |
          % if week.number_gathered() >= 1:
            ${ week[0].day[2].time_noon.name.initials }
          % endif
      - "week1_wed_1pm": |
          % if week.number_gathered() >= 1:
            ${ week[0].day[2].time_1_pm.name.initials }
          % endif
      - "week1_wed_2pm": |
          % if week.number_gathered() >= 1:
            ${ week[0].day[2].time_2_pm.name.initials }
          % endif
      - "week1_wed_3pm": |
          % if week.number_gathered() >= 1:
            ${ week[0].day[2].time_3_pm.name.initials }
          % endif
      - "week1_wed_4pm": |
          % if week.number_gathered() >= 1:
            ${ week[0].day[2].time_4_pm.name.initials }
          % endif
      - "week1_wed_5pm": |
          % if week.number_gathered() >= 1:
            ${ week[0].day[2].time_5_pm.name.initials }
          % endif
      - "week1_wed_6pm": |
          % if week.number_gathered() >= 1:
            ${ week[0].day[2].time_6_pm.name.initials }
          % endif
      - "week1_wed_7pm": |
          % if week.number_gathered() >= 1:
            ${ week[0].day[2].time_7_pm.name.initials }
          % endif
      - "week1_wed_8pm": |
          % if week.number_gathered() >= 1:
            ${ week[0].day[2].time_8_pm.name.initials }
          % endif
      - "week1_wed_9pm": |
          % if week.number_gathered() >= 1:
            ${ week[0].day[2].time_9_pm.name.initials }
          % endif
      # Week 1 - Thursday  
      - "week1_thurs_8am": |
          % if week.number_gathered() >= 1:
            ${ week[0].day[3].time_8_am.name.initials }
          % endif
      - "week1_thurs_9am": |
          % if week.number_gathered() >= 1:
            ${ week[0].day[3].time_9_am.name.initials }
          % endif
      - "week1_thurs_10am": |
          % if week.number_gathered() >= 1:
            ${ week[0].day[3].time_10_am.name.initials }
          % endif
      - "week1_thurs_11am": |
          % if week.number_gathered() >= 1:
            ${ week[0].day[3].time_11_am.name.initials }
          % endif
      - "week1_thurs_noon": |
          % if week.number_gathered() >= 1:
            ${ week[0].day[3].time_noon.name.initials }
          % endif
      - "week1_thurs_1pm": |
          % if week.number_gathered() >= 1:
            ${ week[0].day[3].time_1_pm.name.initials }
          % endif
      - "week1_thurs_2pm": |
          % if week.number_gathered() >= 1:
            ${ week[0].day[3].time_2_pm.name.initials }
          % endif
      - "week1_thurs_3pm": |
          % if week.number_gathered() >= 1:
            ${ week[0].day[3].time_3_pm.name.initials }
          % endif
      - "week1_thurs_4pm": |
          % if week.number_gathered() >= 1:
            ${ week[0].day[3].time_4_pm.name.initials }
          % endif
      - "week1_thurs_5pm": |
          % if week.number_gathered() >= 1:
            ${ week[0].day[3].time_5_pm.name.initials }
          % endif
      - "week1_thurs_6pm": |
          % if week.number_gathered() >= 1:
            ${ week[0].day[3].time_6_pm.name.initials }
          % endif
      - "week1_thurs_7pm": |
          % if week.number_gathered() >= 1:
            ${ week[0].day[3].time_7_pm.name.initials }
          % endif
      - "week1_thurs_8pm": |
          % if week.number_gathered() >= 1:
            ${ week[0].day[3].time_8_pm.name.initials }
          % endif
      - "week1_thurs_9pm": |
          % if week.number_gathered() >= 1:
            ${ week[0].day[3].time_9_pm.name.initials }
          % endif
      # Week 1 - Friday
      - "week1_fri_8am": |
          % if week.number_gathered() >= 1:
            ${ week[0].day[4].time_8_am.name.initials }
          % endif
      - "week1_fri_9am": |
          % if week.number_gathered() >= 1:
            ${ week[0].day[4].time_9_am.name.initials }
          % endif
      - "week1_fri_10am": |
          % if week.number_gathered() >= 1:
            ${ week[0].day[4].time_10_am.name.initials }
          % endif
      - "week1_fri_11am": |
          % if week.number_gathered() >= 1:
            ${ week[0].day[4].time_11_am.name.initials }
          % endif
      - "week1_fri_noon": |
          % if week.number_gathered() >= 1:
            ${ week[0].day[4].time_noon.name.initials }
          % endif
      - "week1_fri_1pm": |
          % if week.number_gathered() >= 1:
            ${ week[0].day[4].time_1_pm.name.initials }
          % endif
      - "week1_fri_2pm": |
          % if week.number_gathered() >= 1:
            ${ week[0].day[4].time_2_pm.name.initials }
          % endif
      - "week1_fri_3pm": |
          % if week.number_gathered() >= 1:
            ${ week[0].day[4].time_3_pm.name.initials }
          % endif
      - "week1_fri_4pm": |
          % if week.number_gathered() >= 1:
            ${ week[0].day[4].time_4_pm.name.initials }
          % endif
      - "week1_fri_5pm": |
          % if week.number_gathered() >= 1:
            ${ week[0].day[4].time_5_pm.name.initials }
          % endif
      - "week1_fri_6pm": |
          % if week.number_gathered() >= 1:
            ${ week[0].day[4].time_6_pm.name.initials }
          % endif
      - "week1_fri_7pm": |
          % if week.number_gathered() >= 1:
            ${ week[0].day[4].time_7_pm.name.initials }
          % endif
      - "week1_fri_8pm": |
          % if week.number_gathered() >= 1:
            ${ week[0].day[4].time_8_pm.name.initials }
          % endif
      - "week1_fri_9pm": |
          % if week.number_gathered() >= 1:
            ${ week[0].day[4].time_9_pm.name.initials }
          % endif
      # Week 1 - Saturday
      - "week1_sat_8am": |
          % if week.number_gathered() >= 1:
            ${ week[0].day[5].time_8_am.name.initials }
          % endif
      - "week1_sat_9am": |
          % if week.number_gathered() >= 1:
            ${ week[0].day[5].time_9_am.name.initials }
          % endif
      - "week1_sat_10am": |
          % if week.number_gathered() >= 1:
            ${ week[0].day[5].time_10_am.name.initials }
          % endif
      - "week1_sat_11am": |
          % if week.number_gathered() >= 1:
            ${ week[0].day[5].time_11_am.name.initials }
          % endif
      - "week1_sat_noon": |
          % if week.number_gathered() >= 1:
            ${ week[0].day[5].time_noon.name.initials }
          % endif
      - "week1_sat_1pm": |
          % if week.number_gathered() >= 1:
            ${ week[0].day[5].time_1_pm.name.initials }
          % endif
      - "week1_sat_2pm": |
          % if week.number_gathered() >= 1:
            ${ week[0].day[5].time_2_pm.name.initials }
          % endif
      - "week1_sat_3pm": |
          % if week.number_gathered() >= 1:
            ${ week[0].day[5].time_3_pm.name.initials }
          % endif
      - "week1_sat_4pm": |
          % if week.number_gathered() >= 1:
            ${ week[0].day[5].time_4_pm.name.initials }
          % endif
      - "week1_sat_5pm": |
          % if week.number_gathered() >= 1:
            ${ week[0].day[5].time_5_pm.name.initials }
          % endif
      - "week1_sat_6pm": |
          % if week.number_gathered() >= 1:
            ${ week[0].day[5].time_6_pm.name.initials }
          % endif
      - "week1_sat_7pm": |
          % if week.number_gathered() >= 1:
            ${ week[0].day[5].time_7_pm.name.initials }
          % endif
      - "week1_sat_8pm": |
          % if week.number_gathered() >= 1:
            ${ week[0].day[5].time_8_pm.name.initials }
          % endif
      - "week1_sat_9pm": |
          % if week.number_gathered() >= 1:
            ${ week[0].day[5].time_9_pm.name.initials }
          % endif
      # Week 1 - Sunday
      - "week1_sun_8am": |
          % if week.number_gathered() >= 1:
            ${ week[0].day[6].time_8_am.name.initials }
          % endif
      - "week1_sun_9am": |
          % if week.number_gathered() >= 1:
            ${ week[0].day[6].time_9_am.name.initials }
          % endif
      - "week1_sun_10am": |
          % if week.number_gathered() >= 1:
            ${ week[0].day[6].time_10_am.name.initials }
          % endif
      - "week1_sun_11am": |
          % if week.number_gathered() >= 1:
            ${ week[0].day[6].time_11_am.name.initials }
          % endif
      - "week1_sun_noon": |
          % if week.number_gathered() >= 1:
            ${ week[0].day[6].time_noon.name.initials }
          % endif
      - "week1_sun_1pm": |
          % if week.number_gathered() >= 1:
            ${ week[0].day[6].time_1_pm.name.initials }
          % endif
      - "week1_sun_2pm": |
          % if week.number_gathered() >= 1:
            ${ week[0].day[6].time_2_pm.name.initials }
          % endif
      - "week1_sun_3pm": |
          % if week.number_gathered() >= 1:
            ${ week[0].day[6].time_3_pm.name.initials }
          % endif
      - "week1_sun_4pm": |
          % if week.number_gathered() >= 1:
            ${ week[0].day[6].time_4_pm.name.initials }
          % endif
      - "week1_sun_5pm": |
          % if week.number_gathered() >= 1:
            ${ week[0].day[6].time_5_pm.name.initials }
          % endif
      - "week1_sun_6pm": |
          % if week.number_gathered() >= 1:
            ${ week[0].day[6].time_6_pm.name.initials }
          % endif
      - "week1_sun_7pm": |
          % if week.number_gathered() >= 1:
            ${ week[0].day[6].time_7_pm.name.initials }
          % endif
      - "week1_sun_8pm": |
          % if week.number_gathered() >= 1:
            ${ week[0].day[6].time_8_pm.name.initials }
          % endif
      - "week1_sun_9pm": |
          % if week.number_gathered() >= 1:
            ${ week[0].day[6].time_9_pm.name.initials }
          % endif
      # Week 1 - Monday
      - "week2_mon_8am": |
          % if week.number_gathered() >= 2:
            ${ week[1].day[0].time_8_am.name.initials }
          % endif
      - "week2_mon_9am": |
          % if week.number_gathered() >= 2:
            ${ week[1].day[0].time_9_am.name.initials }
          % endif
      - "week2_mon_10am": |
          % if week.number_gathered() >= 2:
            ${ week[1].day[0].time_10_am.name.initials }
          % endif
      - "week2_mon_11am": |
          % if week.number_gathered() >= 2:
            ${ week[1].day[0].time_11_am.name.initials }
          % endif
      - "week2_mon_noon": |
          % if week.number_gathered() >= 2:
            ${ week[1].day[0].time_noon.name.initials }
          % endif
      - "week2_mon_1pm": |
          % if week.number_gathered() >= 2:
            ${ week[1].day[0].time_1_pm.name.initials }
          % endif
      - "week2_mon_2pm": |
          % if week.number_gathered() >= 2:
            ${ week[1].day[0].time_2_pm.name.initials }
          % endif
      - "week2_mon_3pm": |
          % if week.number_gathered() >= 2:
            ${ week[1].day[0].time_3_pm.name.initials }
          % endif
      - "week2_mon_4pm": |
          % if week.number_gathered() >= 2:
            ${ week[1].day[0].time_4_pm.name.initials }
          % endif
      - "week2_mon_5pm": |
          % if week.number_gathered() >= 2:
            ${ week[1].day[0].time_5_pm.name.initials }
          % endif
      - "week2_mon_6pm": |
          % if week.number_gathered() >= 2:
            ${ week[1].day[0].time_6_pm.name.initials }
          % endif
      - "week2_mon_7pm": |
          % if week.number_gathered() >= 2:
            ${ week[1].day[0].time_7_pm.name.initials }
          % endif
      - "week2_mon_8pm": |
          % if week.number_gathered() >= 2:
            ${ week[1].day[0].time_8_pm.name.initials }
          % endif
      - "week2_mon_9pm": |
          % if week.number_gathered() >= 2:
            ${ week[1].day[0].time_9_pm.name.initials }
          % endif
      # Week 1 - Tuesday
      - "week2_tues_8am": |
          % if week.number_gathered() >= 2:
            ${ week[1].day[1].time_8_am.name.initials }
          % endif
      - "week2_tues_9am": |
          % if week.number_gathered() >= 2:
            ${ week[1].day[1].time_9_am.name.initials }
          % endif
      - "week2_tues_10am": |
          % if week.number_gathered() >= 2:
            ${ week[1].day[1].time_10_am.name.initials }
          % endif
      - "week2_tues_11am": |
          % if week.number_gathered() >= 2:
            ${ week[1].day[1].time_11_am.name.initials }
          % endif
      - "week2_tues_noon": |
          % if week.number_gathered() >= 2:
            ${ week[1].day[1].time_noon.name.initials }
          % endif
      - "week2_tues_1pm": |
          % if week.number_gathered() >= 2:
            ${ week[1].day[1].time_1_pm.name.initials }
          % endif
      - "week2_tues_2pm": |
          % if week.number_gathered() >= 2:
            ${ week[1].day[1].time_2_pm.name.initials }
          % endif
      - "week2_tues_3pm": |
          % if week.number_gathered() >= 2:
            ${ week[1].day[1].time_3_pm.name.initials }
          % endif
      - "week2_tues_4pm": |
          % if week.number_gathered() >= 2:
            ${ week[1].day[1].time_4_pm.name.initials }
          % endif
      - "week2_tues_5pm": |
          % if week.number_gathered() >= 2:
            ${ week[1].day[1].time_5_pm.name.initials }
          % endif
      - "week2_tues_6pm": |
          % if week.number_gathered() >= 2:
            ${ week[1].day[1].time_6_pm.name.initials }
          % endif
      - "week2_tues_7pm": |
          % if week.number_gathered() >= 2:
            ${ week[1].day[1].time_7_pm.name.initials }
          % endif
      - "week2_tues_8pm": |
          % if week.number_gathered() >= 2:
            ${ week[1].day[1].time_8_pm.name.initials }
          % endif
      - "week2_tues_9pm": |
          % if week.number_gathered() >= 2:
            ${ week[1].day[1].time_9_pm.name.initials }
          % endif
      # Week 1 - Wednesday
      - "week2_wed_8am": |
          % if week.number_gathered() >= 2:
            ${ week[1].day[2].time_8_am.name.initials }
          % endif
      - "week2_wed_9am": |
          % if week.number_gathered() >= 2:
            ${ week[1].day[2].time_9_am.name.initials }
          % endif
      - "week2_wed_10am": |
          % if week.number_gathered() >= 2:
            ${ week[1].day[2].time_10_am.name.initials }
          % endif
      - "week2_wed_11am": |
          % if week.number_gathered() >= 2:
            ${ week[1].day[2].time_11_am.name.initials }
          % endif
      - "week2_wed_noon": |
          % if week.number_gathered() >= 2:
            ${ week[1].day[2].time_noon.name.initials }
          % endif
      - "week2_wed_1pm": |
          % if week.number_gathered() >= 2:
            ${ week[1].day[2].time_1_pm.name.initials }
          % endif
      - "week2_wed_2pm": |
          % if week.number_gathered() >= 2:
            ${ week[1].day[2].time_2_pm.name.initials }
          % endif
      - "week2_wed_3pm": |
          % if week.number_gathered() >= 2:
            ${ week[1].day[2].time_3_pm.name.initials }
          % endif
      - "week2_wed_4pm": |
          % if week.number_gathered() >= 2:
            ${ week[1].day[2].time_4_pm.name.initials }
          % endif
      - "week2_wed_5pm": |
          % if week.number_gathered() >= 2:
            ${ week[1].day[2].time_5_pm.name.initials }
          % endif
      - "week2_wed_6pm": |
          % if week.number_gathered() >= 2:
            ${ week[1].day[2].time_6_pm.name.initials }
          % endif
      - "week2_wed_7pm": |
          % if week.number_gathered() >= 2:
            ${ week[1].day[2].time_7_pm.name.initials }
          % endif
      - "week2_wed_8pm": |
          % if week.number_gathered() >= 2:
            ${ week[1].day[2].time_8_pm.name.initials }
          % endif
      - "week2_wed_9pm": |
          % if week.number_gathered() >= 2:
            ${ week[1].day[2].time_9_pm.name.initials }
          % endif
      # Week 1 - Thursday  
      - "week2_thurs_8am": |
          % if week.number_gathered() >= 2:
            ${ week[1].day[3].time_8_am.name.initials }
          % endif
      - "week2_thurs_9am": |
          % if week.number_gathered() >= 2:
            ${ week[1].day[3].time_9_am.name.initials }
          % endif
      - "week2_thurs_10am": |
          % if week.number_gathered() >= 2:
            ${ week[1].day[3].time_10_am.name.initials }
          % endif
      - "week2_thurs_11am": |
          % if week.number_gathered() >= 2:
            ${ week[1].day[3].time_11_am.name.initials }
          % endif
      - "week2_thurs_noon": |
          % if week.number_gathered() >= 2:
            ${ week[1].day[3].time_noon.name.initials }
          % endif
      - "week2_thurs_1pm": |
          % if week.number_gathered() >= 2:
            ${ week[1].day[3].time_1_pm.name.initials }
          % endif
      - "week2_thurs_2pm": |
          % if week.number_gathered() >= 2:
            ${ week[1].day[3].time_2_pm.name.initials }
          % endif
      - "week2_thurs_3pm": |
          % if week.number_gathered() >= 2:
            ${ week[1].day[3].time_3_pm.name.initials }
          % endif
      - "week2_thurs_4pm": |
          % if week.number_gathered() >= 2:
            ${ week[1].day[3].time_4_pm.name.initials }
          % endif
      - "week2_thurs_5pm": |
          % if week.number_gathered() >= 2:
            ${ week[1].day[3].time_5_pm.name.initials }
          % endif
      - "week2_thurs_6pm": |
          % if week.number_gathered() >= 2:
            ${ week[1].day[3].time_6_pm.name.initials }
          % endif
      - "week2_thurs_7pm": |
          % if week.number_gathered() >= 2:
            ${ week[1].day[3].time_7_pm.name.initials }
          % endif
      - "week2_thurs_8pm": |
          % if week.number_gathered() >= 2:
            ${ week[1].day[3].time_8_pm.name.initials }
          % endif
      - "week2_thurs_9pm": |
          % if week.number_gathered() >= 2:
            ${ week[1].day[3].time_9_pm.name.initials }
          % endif
      # Week 1 - Friday
      - "week2_fri_8am": |
          % if week.number_gathered() >= 2:
            ${ week[1].day[4].time_8_am.name.initials }
          % endif
      - "week2_fri_9am": |
          % if week.number_gathered() >= 2:
            ${ week[1].day[4].time_9_am.name.initials }
          % endif
      - "week2_fri_10am": |
          % if week.number_gathered() >= 2:
            ${ week[1].day[4].time_10_am.name.initials }
          % endif
      - "week2_fri_11am": |
          % if week.number_gathered() >= 2:
            ${ week[1].day[4].time_11_am.name.initials }
          % endif
      - "week2_fri_noon": |
          % if week.number_gathered() >= 2:
            ${ week[1].day[4].time_noon.name.initials }
          % endif
      - "week2_fri_1pm": |
          % if week.number_gathered() >= 2:
            ${ week[1].day[4].time_1_pm.name.initials }
          % endif
      - "week2_fri_2pm": |
          % if week.number_gathered() >= 2:
            ${ week[1].day[4].time_2_pm.name.initials }
          % endif
      - "week2_fri_3pm": |
          % if week.number_gathered() >= 2:
            ${ week[1].day[4].time_3_pm.name.initials }
          % endif
      - "week2_fri_4pm": |
          % if week.number_gathered() >= 2:
            ${ week[1].day[4].time_4_pm.name.initials }
          % endif
      - "week2_fri_5pm": |
          % if week.number_gathered() >= 2:
            ${ week[1].day[4].time_5_pm.name.initials }
          % endif
      - "week2_fri_6pm": |
          % if week.number_gathered() >= 2:
            ${ week[1].day[4].time_6_pm.name.initials }
          % endif
      - "week2_fri_7pm": |
          % if week.number_gathered() >= 2:
            ${ week[1].day[4].time_7_pm.name.initials }
          % endif
      - "week2_fri_8pm": |
          % if week.number_gathered() >= 2:
            ${ week[1].day[4].time_8_pm.name.initials }
          % endif
      - "week2_fri_9pm": |
          % if week.number_gathered() >= 2:
            ${ week[1].day[4].time_9_pm.name.initials }
          % endif
      # Week 1 - Saturday
      - "week2_sat_8am": |
          % if week.number_gathered() >= 2:
            ${ week[1].day[5].time_8_am.name.initials }
          % endif
      - "week2_sat_9am": |
          % if week.number_gathered() >= 2:
            ${ week[1].day[5].time_9_am.name.initials }
          % endif
      - "week2_sat_10am": |
          % if week.number_gathered() >= 2:
            ${ week[1].day[5].time_10_am.name.initials }
          % endif
      - "week2_sat_11am": |
          % if week.number_gathered() >= 2:
            ${ week[1].day[5].time_11_am.name.initials }
          % endif
      - "week2_sat_noon": |
          % if week.number_gathered() >= 2:
            ${ week[1].day[5].time_noon.name.initials }
          % endif
      - "week2_sat_1pm": |
          % if week.number_gathered() >= 2:
            ${ week[1].day[5].time_1_pm.name.initials }
          % endif
      - "week2_sat_2pm": |
          % if week.number_gathered() >= 2:
            ${ week[1].day[5].time_2_pm.name.initials }
          % endif
      - "week2_sat_3pm": |
          % if week.number_gathered() >= 2:
            ${ week[1].day[5].time_3_pm.name.initials }
          % endif
      - "week2_sat_4pm": |
          % if week.number_gathered() >= 2:
            ${ week[1].day[5].time_4_pm.name.initials }
          % endif
      - "week2_sat_5pm": |
          % if week.number_gathered() >= 2:
            ${ week[1].day[5].time_5_pm.name.initials }
          % endif
      - "week2_sat_6pm": |
          % if week.number_gathered() >= 2:
            ${ week[1].day[5].time_6_pm.name.initials }
          % endif
      - "week2_sat_7pm": |
          % if week.number_gathered() >= 2:
            ${ week[1].day[5].time_7_pm.name.initials }
          % endif
      - "week2_sat_8pm": |
          % if week.number_gathered() >= 2:
            ${ week[1].day[5].time_8_pm.name.initials }
          % endif
      - "week2_sat_9pm": |
          % if week.number_gathered() >= 2:
            ${ week[1].day[5].time_9_pm.name.initials }
          % endif
      # Week 1 - Sunday
      - "week2_sun_8am": |
          % if week.number_gathered() >= 2:
            ${ week[1].day[6].time_8_am.name.initials }
          % endif
      - "week2_sun_9am": |
          % if week.number_gathered() >= 2:
            ${ week[1].day[6].time_9_am.name.initials }
          % endif
      - "week2_sun_10am": |
          % if week.number_gathered() >= 2:
            ${ week[1].day[6].time_10_am.name.initials }
          % endif
      - "week2_sun_11am": |
          % if week.number_gathered() >= 2:
            ${ week[1].day[6].time_11_am.name.initials }
          % endif
      - "week2_sun_noon": |
          % if week.number_gathered() >= 2:
            ${ week[1].day[6].time_noon.name.initials }
          % endif
      - "week2_sun_1pm": |
          % if week.number_gathered() >= 2:
            ${ week[1].day[6].time_1_pm.name.initials }
          % endif
      - "week2_sun_2pm": |
          % if week.number_gathered() >= 2:
            ${ week[1].day[6].time_2_pm.name.initials }
          % endif
      - "week2_sun_3pm": |
          % if week.number_gathered() >= 2:
            ${ week[1].day[6].time_3_pm.name.initials }
          % endif
      - "week2_sun_4pm": |
          % if week.number_gathered() >= 2:
            ${ week[1].day[6].time_4_pm.name.initials }
          % endif
      - "week2_sun_5pm": |
          % if week.number_gathered() >= 2:
            ${ week[1].day[6].time_5_pm.name.initials }
          % endif
      - "week2_sun_6pm": |
          % if week.number_gathered() >= 2:
            ${ week[1].day[6].time_6_pm.name.initials }
          % endif
      - "week2_sun_7pm": |
          % if week.number_gathered() >= 2:
            ${ week[1].day[6].time_7_pm.name.initials }
          % endif
      - "week2_sun_8pm": |
          % if week.number_gathered() >= 2:
            ${ week[1].day[6].time_8_pm.name.initials }
          % endif
      - "week2_sun_9pm": |
          % if week.number_gathered() >= 2:
            ${ week[1].day[6].time_9_pm.name.initials }
          % endif
      # HOLIDAY PARENTING TIME SCHEDULE 
      - "holiday_groups": |
          ${ parenting_holiday == "holiday_option1" }
      - "groupA1": Thanksgiving Day
      - "groupA2": Christmas Eve
      - "groupA3": New Year's Eve
      - "groupA4": |
          % if parenting_holiday == "holiday_option1":
            % if defined('other_a1_yes') and other_a1_yes:
            ${ other_a1 }
            % endif
          % endif
      - "groupA5": |
          % if parenting_holiday == "holiday_option1":
            % if defined('other_a2_yes') and other_a2_yes:
            ${ other_a2 }
            % endif
          % endif
      - "groupA6": |
          % if parenting_holiday == "holiday_option1":
            % if defined('other_a3_yes') and other_a3_yes:
            ${ other_a3 }
            % endif
          % endif
      - "groupA7": |
          % if parenting_holiday == "holiday_option1":
            % if defined('other_a4_yes') and other_a4_yes:
            ${ other_a4 }
            % endif
          % endif
      - "groupA8": |
          % if parenting_holiday == "holiday_option1":
            % if defined('other_a5_yes') and other_a5_yes:
            ${ other_a5 }
            % endif
          % endif
      - "groupB1": 4th of July
      - "groupB2": Labor Day
      - "groupB3": Christmas Day
      - "groupB4": |
          % if parenting_holiday == "holiday_option1":
            % if defined('other_b1_yes') and other_b1_yes:
            ${ other_b1 }
            % endif
          % endif
      - "groupB5": |
          % if parenting_holiday == "holiday_option1":
            % if defined('other_b2_yes') and other_b2_yes:
            ${ other_b2 }
            % endif
          % endif
      - "groupB6": |
          % if parenting_holiday == "holiday_option1":
            % if defined('other_b3_yes') and other_b3_yes:
            ${ other_b3 }
            % endif
          % endif
      - "groupB7": |
          % if parenting_holiday == "holiday_option1":
            % if defined('other_b4_yes') and other_b4_yes:
            ${ other_b4 }
            % endif
          % endif
      - "groupB8": |
          % if parenting_holiday == "holiday_option1":
            % if defined('other_b5_yes') and other_b5_yes:
            ${ other_b5 }
            % endif
          % endif
      # Individual Holidays
      - "holiday_odd_even": |
          ${ parenting_holiday == "holiday_option2" }
      # # New Years Day
      - "holiday1_odd": |
          % if parenting_holiday == "holiday_option2":
            % if holiday_list[get_holiday_name(new_years_day)]:
              % if new_years_day.holiday_year == 'me':
              ${ users[0].name.initials }
              % elif new_years_day.holiday_year == 'them':
              ${ other_parties[0].name.initials }
              % elif new_years_day.holiday_year == 'odd':
              ${ users[0].name.initials }
              % elif new_years_day.holiday_year == 'even':
              ${ other_parties[0].name.initials }
              % endif
            % endif
          % endif
      - "holiday1_even": |
          % if parenting_holiday == "holiday_option2":
            % if holiday_list[get_holiday_name(new_years_day)]:
              % if new_years_day.holiday_year == 'me':
              ${ users[0].name.initials }
              % elif new_years_day.holiday_year == 'them':
              ${ other_parties[0].name.initials }
              % elif new_years_day.holiday_year == 'odd':
              ${ other_parties[0].name.initials }
              % elif new_years_day.holiday_year == 'even':
              ${ users[0].name.initials }
              % endif
            % endif
          % endif
      - "holiday1_start": |
          % if parenting_holiday == "holiday_option2":
            % if holiday_list[get_holiday_name(new_years_day)]:
            ${ format_time(new_years_day.holiday_start, format='h:mm a') }
            % endif
          % endif
      - "holiday1_end": |
          % if parenting_holiday == "holiday_option2":
            % if holiday_list[get_holiday_name(new_years_day)]:
            ${ format_time(new_years_day.holiday_end, format='h:mm a') }
            % endif
          % endif
      # Mothers Day
      - "holiday2_odd": |
          % if parenting_holiday == "holiday_option2":
            % if holiday_list[get_holiday_name(mothers_day)]:
              % if mothers_day.holiday_year == 'me':
              ${ users[0].name.initials }
              % elif mothers_day.holiday_year == 'them':
              ${ other_parties[0].name.initials }
              % elif mothers_day.holiday_year == 'odd':
              ${ users[0].name.initials }
              % elif mothers_day.holiday_year == 'even':
              ${ other_parties[0].name.initials }
              % endif
            % endif
          % endif
      - "holiday2_even": |
          % if parenting_holiday == "holiday_option2":
            % if holiday_list[get_holiday_name(mothers_day)]:
              % if mothers_day.holiday_year == 'me':
              ${ users[0].name.initials }
              % elif mothers_day.holiday_year == 'them':
              ${ other_parties[0].name.initials }
              % elif mothers_day.holiday_year == 'odd':
              ${ other_parties[0].name.initials }
              % elif mothers_day.holiday_year == 'even':
              ${ users[0].name.initials }
              % endif
            % endif
          % endif
      - "holiday2_start": |
          % if parenting_holiday == "holiday_option2":
            % if holiday_list[get_holiday_name(mothers_day)]:
            ${ format_time(mothers_day.holiday_start, format='h:mm a') }
            % endif
          % endif
      - "holiday2_end": |
          % if parenting_holiday == "holiday_option2":
            % if holiday_list[get_holiday_name(mothers_day)]:
            ${ format_time(mothers_day.holiday_end, format='h:mm a') }
            % endif
          % endif
      # Memorial Day
      - "holiday3_odd": |
          % if parenting_holiday == "holiday_option2":
            % if holiday_list[get_holiday_name(memorial_day)]:
              % if memorial_day.holiday_year == 'me':
              ${ users[0].name.initials }
              % elif memorial_day.holiday_year == 'them':
              ${ other_parties[0].name.initials }
              % elif memorial_day.holiday_year == 'odd':
              ${ users[0].name.initials }
              % elif memorial_day.holiday_year == 'even':
              ${ other_parties[0].name.initials }
              % endif
            % endif
          % endif
      - "holiday3_even": |
          % if parenting_holiday == "holiday_option2":
            % if holiday_list[get_holiday_name(memorial_day)]:
              % if memorial_day.holiday_year == 'me':
              ${ users[0].name.initials }
              % elif memorial_day.holiday_year == 'them':
              ${ other_parties[0].name.initials }
              % elif memorial_day.holiday_year == 'odd':
              ${ other_parties[0].name.initials }
              % elif memorial_day.holiday_year == 'even':
              ${ users[0].name.initials }
              % endif
            % endif
          % endif
      - "holiday3_start": |
          % if parenting_holiday == "holiday_option2":
            % if holiday_list[get_holiday_name(memorial_day)]:
            ${ format_time(memorial_day.holiday_start, format='h:mm a') }
            % endif
          % endif
      - "holiday3_end": |
          % if parenting_holiday == "holiday_option2":
            % if holiday_list[get_holiday_name(memorial_day)]:
            ${ format_time(memorial_day.holiday_end, format='h:mm a') }
            % endif
          % endif
      # Father's Day
      - "holiday4_odd": |
          % if parenting_holiday == "holiday_option2":
            % if holiday_list[get_holiday_name(fathers_day)]:
              % if fathers_day.holiday_year == 'me':
              ${ users[0].name.initials }
              % elif fathers_day.holiday_year == 'them':
              ${ other_parties[0].name.initials }
              % elif fathers_day.holiday_year == 'odd':
              ${ users[0].name.initials }
              % elif fathers_day.holiday_year == 'even':
              ${ other_parties[0].name.initials }
              % endif
            % endif
          % endif
      - "holiday4_even": |
          % if parenting_holiday == "holiday_option2":
            % if holiday_list[get_holiday_name(fathers_day)]:
              % if fathers_day.holiday_year == 'me':
              ${ users[0].name.initials }
              % elif fathers_day.holiday_year == 'them':
              ${ other_parties[0].name.initials }
              % elif fathers_day.holiday_year == 'odd':
              ${ other_parties[0].name.initials }
              % elif fathers_day.holiday_year == 'even':
              ${ users[0].name.initials }
              % endif
            % endif
          % endif
      - "holiday4_start": |
          % if parenting_holiday == "holiday_option2":
            % if holiday_list[get_holiday_name(fathers_day)]:
            ${ format_time(fathers_day.holiday_start, format='h:mm a') }
            % endif
          % endif
      - "holiday4_end": |
          % if parenting_holiday == "holiday_option2":
            % if holiday_list[get_holiday_name(fathers_day)]:
            ${ format_time(fathers_day.holiday_end, format='h:mm a') }
            % endif
          % endif
      # July 4th
      - "holiday5_odd": |
          % if parenting_holiday == "holiday_option2":
            % if holiday_list[get_holiday_name(july_4th)]:
              % if july_4th.holiday_year == 'me':
              ${ users[0].name.initials }
              % elif july_4th.holiday_year == 'them':
              ${ other_parties[0].name.initials }
              % elif july_4th.holiday_year == 'odd':
              ${ users[0].name.initials }
              % elif july_4th.holiday_year == 'even':
              ${ other_parties[0].name.initials }
              % endif
            % endif
          % endif
      - "holiday5_even": |
          % if parenting_holiday == "holiday_option2":
            % if holiday_list[get_holiday_name(july_4th)]:
              % if july_4th.holiday_year == 'me':
              ${ users[0].name.initials }
              % elif july_4th.holiday_year == 'them':
              ${ other_parties[0].name.initials }
              % elif july_4th.holiday_year == 'odd':
              ${ other_parties[0].name.initials }
              % elif july_4th.holiday_year == 'even':
              ${ users[0].name.initials }
              % endif
            % endif
          % endif
      - "holiday5_start": |
          % if parenting_holiday == "holiday_option2":
            % if holiday_list[get_holiday_name(july_4th)]:
            ${ format_time(july_4th.holiday_start, format='h:mm a') }
            % endif
          % endif
      - "holiday5_end": |
          % if parenting_holiday == "holiday_option2":
            % if holiday_list[get_holiday_name(july_4th)]:
            ${ format_time(july_4th.holiday_end, format='h:mm a') }
            % endif
          % endif
      # Labor Day
      - "holiday6_odd": |
          % if parenting_holiday == "holiday_option2":
            % if holiday_list[get_holiday_name(labor_day)]:
              % if labor_day.holiday_year == 'me':
              ${ users[0].name.initials }
              % elif labor_day.holiday_year == 'them':
              ${ other_parties[0].name.initials }
              % elif labor_day.holiday_year == 'odd':
              ${ users[0].name.initials }
              % elif labor_day.holiday_year == 'even':
              ${ other_parties[0].name.initials }
              % endif
            % endif
          % endif
      - "holiday6_even": |
          % if parenting_holiday == "holiday_option2":
            % if holiday_list[get_holiday_name(labor_day)]:
              % if labor_day.holiday_year == 'me':
              ${ users[0].name.initials }
              % elif labor_day.holiday_year == 'them':
              ${ other_parties[0].name.initials }
              % elif labor_day.holiday_year == 'odd':
              ${ other_parties[0].name.initials }
              % elif labor_day.holiday_year == 'even':
              ${ users[0].name.initials }
              % endif
            % endif
          % endif
      - "holiday6_start": |
          % if parenting_holiday == "holiday_option2":
            % if holiday_list[get_holiday_name(labor_day)]:
            ${ format_time(labor_day.holiday_start, format='h:mm a') }
            % endif
          % endif
      - "holiday6_end": |
          % if parenting_holiday == "holiday_option2":
            % if holiday_list[get_holiday_name(labor_day)]:
            ${ format_time(labor_day.holiday_end, format='h:mm a') }
            % endif
          % endif
      # Halloween
      - "holiday7_odd": |
          % if parenting_holiday == "holiday_option2":
            % if holiday_list[get_holiday_name(halloween)]:
              % if halloween.holiday_year == 'me':
              ${ users[0].name.initials }
              % elif halloween.holiday_year == 'them':
              ${ other_parties[0].name.initials }
              % elif halloween.holiday_year == 'odd':
              ${ users[0].name.initials }
              % elif halloween.holiday_year == 'even':
              ${ other_parties[0].name.initials }
              % endif
            % endif
          % endif
      - "holiday7_even": |
          % if parenting_holiday == "holiday_option2":
            % if holiday_list[get_holiday_name(halloween)]:
              % if halloween.holiday_year == 'me':
              ${ users[0].name.initials }
              % elif halloween.holiday_year == 'them':
              ${ other_parties[0].name.initials }
              % elif halloween.holiday_year == 'odd':
              ${ other_parties[0].name.initials }
              % elif halloween.holiday_year == 'even':
              ${ users[0].name.initials }
              % endif
            % endif
          % endif
      - "holiday7_start": |
          % if parenting_holiday == "holiday_option2":
            % if holiday_list[get_holiday_name(halloween)]:
            ${ format_time(halloween.holiday_start, format='h:mm a') }
            % endif
          % endif
      - "holiday7_end": |
          % if parenting_holiday == "holiday_option2":
            % if holiday_list[get_holiday_name(halloween)]:
            ${ format_time(halloween.holiday_end, format='h:mm a') }
            % endif
          % endif
      # Thanksgiving
      - "holiday8_odd": |
          % if parenting_holiday == "holiday_option2":
            % if holiday_list[get_holiday_name(thanksgiving)]:
              % if thanksgiving.holiday_year == 'me':
              ${ users[0].name.initials }
              % elif thanksgiving.holiday_year == 'them':
              ${ other_parties[0].name.initials }
              % elif thanksgiving.holiday_year == 'odd':
              ${ users[0].name.initials }
              % elif thanksgiving.holiday_year == 'even':
              ${ other_parties[0].name.initials }
              % endif
            % endif
          % endif
      - "holiday8_even": |
          % if parenting_holiday == "holiday_option2":
            % if holiday_list[get_holiday_name(thanksgiving)]:
              % if thanksgiving.holiday_year == 'me':
              ${ users[0].name.initials }
              % elif thanksgiving.holiday_year == 'them':
              ${ other_parties[0].name.initials }
              % elif thanksgiving.holiday_year == 'odd':
              ${ other_parties[0].name.initials }
              % elif thanksgiving.holiday_year == 'even':
              ${ users[0].name.initials }
              % endif
            % endif
          % endif
      - "holiday8_start": |
          % if parenting_holiday == "holiday_option2":
            % if holiday_list[get_holiday_name(thanksgiving)]:
            ${ format_time(thanksgiving.holiday_start, format='h:mm a') }
            % endif
          % endif
      - "holiday8_end": |
          % if parenting_holiday == "holiday_option2":
            % if holiday_list[get_holiday_name(thanksgiving)]:
            ${ format_time(thanksgiving.holiday_end, format='h:mm a') }
            % endif
          % endif
      # Christmas Eve
      - "holiday9_odd": |
          % if parenting_holiday == "holiday_option2":
            % if holiday_list[get_holiday_name(christmas_eve)]:
              % if christmas_eve.holiday_year == 'me':
              ${ users[0].name.initials }
              % elif christmas_eve.holiday_year == 'them':
              ${ other_parties[0].name.initials }
              % elif christmas_eve.holiday_year == 'odd':
              ${ users[0].name.initials }
              % elif christmas_eve.holiday_year == 'even':
              ${ other_parties[0].name.initials }
              % endif
            % endif
          % endif
      - "holiday9_even": |
          % if parenting_holiday == "holiday_option2":
            % if holiday_list[get_holiday_name(christmas_eve)]:
              % if christmas_eve.holiday_year == 'me':
              ${ users[0].name.initials }
              % elif christmas_eve.holiday_year == 'them':
              ${ other_parties[0].name.initials }
              % elif christmas_eve.holiday_year == 'odd':
              ${ other_parties[0].name.initials }
              % elif christmas_eve.holiday_year == 'even':
              ${ users[0].name.initials }
              % endif
            % endif
          % endif
      - "holiday9_start": |
          % if parenting_holiday == "holiday_option2":
            % if holiday_list[get_holiday_name(christmas_eve)]:
            ${ format_time(christmas_eve.holiday_start, format='h:mm a') }
            % endif
          % endif
      - "holiday9_end": |
          % if parenting_holiday == "holiday_option2":
            % if holiday_list[get_holiday_name(christmas_eve)]:
            ${ format_time(christmas_eve.holiday_end, format='h:mm a') }
            % endif
          % endif
      # Christmas Day
      - "holiday10_odd": |
          % if parenting_holiday == "holiday_option2":
            % if holiday_list[get_holiday_name(christmas_day)]:
              % if christmas_day.holiday_year == 'me':
              ${ users[0].name.initials }
              % elif christmas_day.holiday_year == 'them':
              ${ other_parties[0].name.initials }
              % elif christmas_day.holiday_year == 'odd':
              ${ users[0].name.initials }
              % elif christmas_day.holiday_year == 'even':
              ${ other_parties[0].name.initials }
              % endif
            % endif
          % endif
      - "holiday10_even": |
          % if parenting_holiday == "holiday_option2":
            % if holiday_list[get_holiday_name(christmas_day)]:
              % if christmas_day.holiday_year == 'me':
              ${ users[0].name.initials }
              % elif christmas_day.holiday_year == 'them':
              ${ other_parties[0].name.initials }
              % elif christmas_day.holiday_year == 'odd':
              ${ other_parties[0].name.initials }
              % elif christmas_day.holiday_year == 'even':
              ${ users[0].name.initials }
              % endif
            % endif
          % endif
      - "holiday10_start": |
          % if parenting_holiday == "holiday_option2":
            % if holiday_list[get_holiday_name(christmas_day)]:
            ${ format_time(christmas_day.holiday_start, format='h:mm a') }
            % endif
          % endif
      - "holiday10_end": |
          % if parenting_holiday == "holiday_option2":
            % if holiday_list[get_holiday_name(christmas_day)]:
            ${ format_time(christmas_day.holiday_end, format='h:mm a') }
            % endif
          % endif
      # New Years Eve
      - "holiday11_odd": |
          % if parenting_holiday == "holiday_option2":
            % if holiday_list[get_holiday_name(new_years_eve)]:
              % if new_years_eve.holiday_year == 'me':
              ${ users[0].name.initials }
              % elif new_years_eve.holiday_year == 'them':
              ${ other_parties[0].name.initials }
              % elif new_years_eve.holiday_year == 'odd':
              ${ users[0].name.initials }
              % elif new_years_eve.holiday_year == 'even':
              ${ other_parties[0].name.initials }
              % endif
            % endif
          % endif
      - "holiday11_even": |
          % if parenting_holiday == "holiday_option2":
            % if holiday_list[get_holiday_name(new_years_eve)]:
              % if new_years_eve.holiday_year == 'me':
              ${ users[0].name.initials }
              % elif new_years_eve.holiday_year == 'them':
              ${ other_parties[0].name.initials }
              % elif new_years_eve.holiday_year == 'odd':
              ${ other_parties[0].name.initials }
              % elif new_years_eve.holiday_year == 'even':
              ${ users[0].name.initials }
              % endif
            % endif
          % endif
      - "holiday11_start": |
          % if parenting_holiday == "holiday_option2":
            % if holiday_list[get_holiday_name(new_years_eve)]:
            ${ format_time(new_years_eve.holiday_start, format='h:mm a') }
            % endif
          % endif
      - "holiday11_end": |
          % if parenting_holiday == "holiday_option2":
            % if holiday_list[get_holiday_name(new_years_eve)]:
            ${ format_time(new_years_eve.holiday_end, format='h:mm a') }
            % endif
          % endif
      # Additional Holidays
      - "holiday12_name": |
          % if parenting_holiday == "holiday_option2":
            % if other_holidays.number_gathered() >= 1:
            ${ other_holidays[0].name.text }
            % endif
          % endif
      - "holiday12_odd": |
          % if parenting_holiday == "holiday_option2":
            % if other_holidays.number_gathered() >= 1:
              % if other_holidays[0].holiday_year == 'me':
              ${ users[0].name.initials }
              % elif other_holidays[0].holiday_year == 'them':
              ${ other_parties[0].name.initials }
              % elif other_holidays[0].holiday_year == 'odd':
              ${ users[0].name.initials }
              % elif other_holidays[0].holiday_year == 'even':
              ${ other_parties[0].name.initials }
              % endif
            % endif
          % endif
      - "holiday12_even": |
          % if parenting_holiday == "holiday_option2":
            % if other_holidays.number_gathered() >= 1:
              % if other_holidays[0].holiday_year == 'me':
              ${ users[0].name.initials }
              % elif other_holidays[0].holiday_year == 'them':
              ${ other_parties[0].name.initials }
              % elif other_holidays[0].holiday_year == 'odd':
              ${ other_parties[0].name.initials }
              % elif other_holidays[0].holiday_year == 'even':
              ${ users[0].name.initials }
              % endif
            % endif
          % endif
      - "holiday12_start": |
          % if parenting_holiday == "holiday_option2":
            % if other_holidays.number_gathered() >= 1:
            ${ format_time(other_holidays[0].holiday_start, format='h:mm a') }
            % endif
          % endif
      - "holiday12_end": |
          % if parenting_holiday == "holiday_option2":
            % if other_holidays.number_gathered() >= 1:
            ${ format_time(other_holidays[0].holiday_end, format='h:mm a') }
            % endif
          % endif
      - "holiday13_name": |
          % if parenting_holiday == "holiday_option2":
            % if other_holidays.number_gathered() >= 2:
            ${ other_holidays[1].name.text }
            % endif
          % endif
      - "holiday13_odd": |
          % if parenting_holiday == "holiday_option2":
            % if other_holidays.number_gathered() >= 2:
              % if other_holidays[1].holiday_year == 'me':
              ${ users[0].name.initials }
              % elif other_holidays[1].holiday_year == 'them':
              ${ other_parties[0].name.initials }
              % elif other_holidays[1].holiday_year == 'odd':
              ${ users[0].name.initials }
              % elif other_holidays[1].holiday_year == 'even':
              ${ other_parties[0].name.initials }
              % endif
            % endif
          % endif
      - "holiday13_even": |
          % if parenting_holiday == "holiday_option2":
            % if other_holidays.number_gathered() >= 2:
              % if other_holidays[1].holiday_year == 'me':
              ${ users[0].name.initials }
              % elif other_holidays[1].holiday_year == 'them':
              ${ other_parties[0].name.initials }
              % elif other_holidays[1].holiday_year == 'odd':
              ${ other_parties[0].name.initials }
              % elif other_holidays[1].holiday_year == 'even':
              ${ users[0].name.initials }
              % endif
            % endif
          % endif
      - "holiday13_start": |
          % if parenting_holiday == "holiday_option2":
            % if other_holidays.number_gathered() >= 2:
            ${ format_time(other_holidays[1].holiday_start, format='h:mm a') }
            % endif
          % endif
      - "holiday13_end": |
          % if parenting_holiday == "holiday_option2":
            % if other_holidays.number_gathered() >= 2:
            ${ format_time(other_holidays[1].holiday_end, format='h:mm a') }
            % endif
          % endif
      - "holiday14_name": |
          % if parenting_holiday == "holiday_option2":
            % if other_holidays.number_gathered() >= 3:
            ${ other_holidays[2].name.text }
            % endif
          % endif
      - "holiday14_odd": |
          % if parenting_holiday == "holiday_option2":
            % if other_holidays.number_gathered() >= 3:
              % if other_holidays[2].holiday_year == 'me':
              ${ users[0].name.initials }
              % elif other_holidays[2].holiday_year == 'them':
              ${ other_parties[0].name.initials }
              % elif other_holidays[2].holiday_year == 'odd':
              ${ users[0].name.initials }
              % elif other_holidays[2].holiday_year == 'even':
              ${ other_parties[0].name.initials }
              % endif
            % endif
          % endif
      - "holiday14_even": |
          % if parenting_holiday == "holiday_option2":
            % if other_holidays.number_gathered() >= 3:
              % if other_holidays[2].holiday_year == 'me':
              ${ users[0].name.initials }
              % elif other_holidays[2].holiday_year == 'them':
              ${ other_parties[0].name.initials }
              % elif other_holidays[2].holiday_year == 'odd':
              ${ other_parties[0].name.initials }
              % elif other_holidays[2].holiday_year == 'even':
              ${ users[0].name.initials }
              % endif
            % endif
          % endif
      - "holiday14_start": |
          % if parenting_holiday == "holiday_option2":
            % if other_holidays.number_gathered() >= 3:
            ${ format_time(other_holidays[2].holiday_start, format='h:mm a') }
            % endif
          % endif
      - "holiday14_end":  |
          % if parenting_holiday == "holiday_option2":
            % if other_holidays.number_gathered() >= 3:
            ${ format_time(other_holidays[2].holiday_end, format='h:mm a') }
            % endif
          % endif
      - "holiday15_name": |
          % if parenting_holiday == "holiday_option2":
            % if other_holidays.number_gathered() >= 4:
            ${ other_holidays[3].name.text }
            % endif
          % endif
      - "holiday15_odd": |
          % if parenting_holiday == "holiday_option2":
            % if other_holidays.number_gathered() >= 4:
              % if other_holidays[3].holiday_year == 'me':
              ${ users[0].name.initials }
              % elif other_holidays[3].holiday_year == 'them':
              ${ other_parties[0].name.initials }
              % elif other_holidays[3].holiday_year == 'odd':
              ${ users[0].name.initials }
              % elif other_holidays[3].holiday_year == 'even':
              ${ other_parties[0].name.initials }
              % endif
            % endif
          % endif
      - "holiday15_even": |
          % if parenting_holiday == "holiday_option2":
            % if other_holidays.number_gathered() >= 4:
              % if other_holidays[3].holiday_year == 'me':
              ${ users[0].name.initials }
              % elif other_holidays[3].holiday_year == 'them':
              ${ other_parties[0].name.initials }
              % elif other_holidays[3].holiday_year == 'odd':
              ${ other_parties[0].name.initials }
              % elif other_holidays[3].holiday_year == 'even':
              ${ users[0].name.initials }
              % endif
            % endif
          % endif
      - "holiday15_start": |
          % if parenting_holiday == "holiday_option2":
            % if other_holidays.number_gathered() >= 4:
            ${ format_time(other_holidays[3].holiday_start, format='h:mm a') }
            % endif
          % endif
      - "holiday15_end":  |
          % if parenting_holiday == "holiday_option2":
            % if other_holidays.number_gathered() >= 4:
            ${ format_time(other_holidays[3].holiday_end, format='h:mm a') }
            % endif
          % endif
      - "holiday16_name": |
          % if parenting_holiday == "holiday_option2":
            % if other_holidays.number_gathered() >= 5:
            ${ other_holidays[4].name.text }
            % endif
          % endif
      - "holiday16_odd": |
          % if parenting_holiday == "holiday_option2":
            % if other_holidays.number_gathered() >= 5:
              % if other_holidays[4].holiday_year == 'me':
              ${ users[0].name.initials }
              % elif other_holidays[4].holiday_year == 'them':
              ${ other_parties[0].name.initials }
              % elif other_holidays[4].holiday_year == 'odd':
              ${ users[0].name.initials }
              % elif other_holidays[4].holiday_year == 'even':
              ${ other_parties[0].name.initials }
              % endif
            % endif
          % endif
      - "holiday16_even": |
          % if parenting_holiday == "holiday_option2":
            % if other_holidays.number_gathered() >= 5:
              % if other_holidays[4].holiday_year == 'me':
              ${ users[0].name.initials }
              % elif other_holidays[4].holiday_year == 'them':
              ${ other_parties[0].name.initials }
              % elif other_holidays[4].holiday_year == 'odd':
              ${ other_parties[0].name.initials }
              % elif other_holidays[4].holiday_year == 'even':
              ${ users[0].name.initials }
              % endif
            % endif
          % endif
      - "holiday16_start": |
          % if parenting_holiday == "holiday_option2":
            % if other_holidays.number_gathered() >= 5:
            ${ format_time(other_holidays[4].holiday_start, format='h:mm a') }
            % endif
          % endif
      - "holiday16_end":  |
          % if parenting_holiday == "holiday_option2":
            % if other_holidays.number_gathered() >= 5:
            ${ format_time(other_holidays[4].holiday_end, format='h:mm a') }
            % endif
          % endif
      

      # SCHOOL BREAKS PARENTING TIME SCHEDULE 
      - "no_spring_break": |
          % if school_breaks:
          ${ spring_break == "no" }
          % endif
      - "spring_break_split": |
          % if school_breaks:
          ${ spring_break == "split" }
          % endif
      - "spring_break_even": |
          % if school_breaks:
          % if spring_break == "split":
            % if spring_break_year == "me":
          ${ users[0].name.initials }
            % else:
          ${ other_parties[0].name.initials }
            % endif
          % endif
          % endif
      - "spring_break_odd": |
          % if school_breaks:
          % if spring_break == "split":
            % if spring_break_year == "me":
          ${ other_parties[0].name.initials }
            % else:
          ${ users[0].name.initials }
            % endif
          % endif
          % endif
      - "spring_break_other": |
          % if school_breaks:
          ${ spring_break == "other" }
          % endif
      - "spring_break_other_details": |
          % if school_breaks:
          % if spring_break == "other":
          ${ spring_break_other }
          % endif
          % endif
      - "spring_break_other_start": |
          % if school_breaks:
          % if spring_break == "other":
          ${ spring_break_start }
          % endif
          % endif
      - "spring_break_other_end": |
          % if school_breaks:
          % if spring_break == "other":
          ${ spring_break_end }
          % endif
          % endif
      - "no_summer_break": |
          % if school_breaks:
          ${ summer_break == "no" }
          % endif
      - "summer_break_split": |
          % if school_breaks:
          ${ summer_break == "split" }
          % endif
      - "summer_break_even": |
          % if school_breaks:
          % if summer_break == "split":
            % if summer_break_year == "me":
          ${ users[0].name.initials }
            % else:
          ${ other_parties[0].name.initials }
            % endif
          % endif
          % endif
      - "summer_break_odd": |
          % if school_breaks:
          % if summer_break == "split":
            % if summer_break_year == "me":
          ${ other_parties[0].name.initials }
            % else:
          ${ users[0].name.initials }
            % endif
          % endif
          % endif
      - "summer_break_other": |
          % if school_breaks:
          ${ summer_break == "other" }
          % endif
      - "summer_break_other_details": |
          % if school_breaks:
          % if summer_break == "other":
          ${ summer_break_other }
          % endif
          % endif
      - "summer_break_other_start": |
          % if school_breaks:
          % if summer_break == "other":
          ${ summer_break_start }
          % endif
          % endif
      - "summer_break_other_end": |
          % if school_breaks:
          % if summer_break == "other":
          ${ summer_break_end }
          % endif
          % endif
      - "no_winter_break": |
          % if school_breaks:
          ${ winter_break == "no" }
          % endif
      - "winter_break_split": |
          % if school_breaks:
          ${ winter_break == "split" }
          % endif
      - "winter_break_even": |
          % if school_breaks:
          % if winter_break == "split":
            % if winter_break_year == "me":
          ${ users[0].name.initials }
            % else:
          ${ other_parties[0].name.initials   }
            % endif
          % endif
          % endif
      - "winter_break_odd": |
          % if school_breaks:
          % if winter_break == "split":
            % if winter_break_year == "me":
          ${ other_parties[0].name.initials }
            % else:
          ${ users[0].name.initials }
            % endif
          % endif
          % endif
      - "winter_break_other": |
          % if school_breaks:
          ${ winter_break == "other" }
          % endif
      - "winter_break_other_details": |
          % if school_breaks:
          % if winter_break == "other":
          ${ winter_break_other }
          % endif
          % endif
      - "winter_break_other_start": |
          % if school_breaks:
          % if winter_break == "other":
          ${ winter_break_start }
          % endif
          % endif
      - "winter_break_other_end": |
          % if school_breaks:
          % if winter_break == "other":
          ${ winter_break_end }
          % endif
          % endif
      - "transportation_petitioner": |
          % if party_label == 'petitioner':
          ${ transportation == "me" }
          % else:
          ${ transportation == "them" }
          % endif
      - "transportation_respondent": |
          % if party_label == 'respondent':
          ${ transportation == "me" }
          % else:
          ${ transportation == "them" }
          % endif
      - "transportation_pick_up": ${ transportation == "pick_up" }
      - "transportation_drop_off": ${ transportation == "drop_off" }
      - "transportation_other": ${ transportation == "other" }
      - "transportation_other_details": |
          % if transportation == "other":
          ${ transportation_other }
          % endif
      - "exchange_home": ${ exchange_location == "homes" }
      - "exchange_location": ${ exchange_location == "location" }
      - "location": |
          % if exchange_location == "location":
          ${ exchange_address.location }
          % endif
      - "location_address": |
          % if exchange_location == "location":
          ${ exchange_address.address.on_one_line(bare=True) }
          % endif
      - "additional_parenting_time": ${ additional_time or week.number_gathered() >= 3 }
      # 10. FIRST REFUSAL FOR CHILDCARE 
      - "refusal_no": ${ not first_refusal }
      - "refusal_yes": ${ first_refusal }
      # 11. COMMUNICATION 
      - "anytime": ${ communication == "anytime" }
      - "daily": ${ communication == "daily" }
      - "start_time": |
          % if communication == "daily":
          ${ format_time(daily_start, 'h:mm') }
          % endif
      - "start_am": |
          % if communication == "daily":
          ${ format_time(daily_start, 'a') == 'AM' }
          % endif
      - "start_pm": |
          % if communication == "daily":
          ${ format_time(daily_start, 'a') == 'PM' }
          % endif
      - "end_time": |
          % if communication == "daily": 
          ${ format_time(daily_end, 'h:mm') }
          % endif
      - "end_am": |
          % if communication == "daily":
          ${ format_time(daily_end, 'a') == 'AM' }
          % endif
      - "end_pm": |
          % if communication == "daily":
          ${ format_time(daily_end, 'a') == 'PM' }
          % endif
      - "other": ${ communication == "other" }
      - "other_description": |
          % if communication == "other":
          ${ other_description }
          % endif
      # 13. CUSTODY & RESIDENCE FOR OTHER PURPOSES
      - "13A_petitioner": |
          % if party_label == 'petitioner':
          ${ primary_parent == "me" }
          % else:
          ${ primary_parent == "them" }
          % endif
      - "13A_respondent": |
          % if party_label == 'respondent':
          ${ primary_parent == "me" }
          % else:
          ${ primary_parent == "them" }
          % endif
      - "13B_petitioner": |
          % if party_label == 'petitioner':
          ${ residential_address == "me" }
          % else:
          ${ residential_address == "them" }
          % endif
      - "13B_respondent": |
          % if party_label == 'respondent':
          ${ residential_address == "me" }
          % else:
          ${ residential_address == "them" }
          % endif
      # 15. HANDLING CONFLICTS (MEDIATION)
      - "mediatiion_yes": ${ mediation_option == "mediation" } 
      - "mediation_no": ${ mediation_option == "no_mediation" } 
      - "parent": |
          % if mediation_option == "no_mediation":
          ${ mediation_reason['parent'] } 
          % endif
      - "history": |
          % if mediation_option == "no_mediation":
          ${ mediation_reason['history'] } 
          % endif
      - "other_reason": |
          % if mediation_option == "no_mediation":
          ${ mediation_reason['other'] } 
          % endif
      - "other_reason_area": |
          % if mediation_option == "no_mediation":
            % if mediation_reason['other']:
            ${ other_reasons } 
            % endif
          % endif
---
objects:
  - additional_parenting_time: ALDocument.using(title="Additional Parenting Time", filename="additional_parenting_time.pdf", has_addendum=False)
---
code: |
  additional_parenting_time.enabled = additional_time or week.number_gathered() >= 3
---
attachment:
  - name: additional_parenting_time
    variable name: additional_parenting_time[i]
    filename: additional_parenting_time
    pdf template file: additional_parenting_time.pdf
    skip undefined: True
    editable: False
    fields:
      - "county_name": ${ case_county }
      - "case_number": ${ case_number }
      - "plan_petitioner": |
          % if party_label == 'petitioner':
          ${ users[0].name.full(middle='full') }
          % else:
          ${ other_parties[0].name.full(middle='full') }
          % endif
      - "plan_respondent": |
          % if party_label == 'respondent':
          ${ users[0].name.full(middle='full') }
          % else:
          ${ other_parties[0].name.full(middle='full') }
          % endif
      # Week 3 - Monday
      - "week3_mon_8am": |
          % if week.number_gathered() >= 3:
            ${ week[2].day[0].time_8_am.name.initials }
          % endif
      - "week3_mon_9am": |
          % if week.number_gathered() >= 3:
            ${ week[2].day[0].time_9_am.name.initials }
          % endif
      - "week3_mon_10am": |
          % if week.number_gathered() >= 3:
            ${ week[2].day[0].time_10_am.name.initials }
          % endif
      - "week3_mon_11am": |
          % if week.number_gathered() >= 3:
            ${ week[2].day[0].time_11_am.name.initials }
          % endif
      - "week3_mon_noon": |
          % if week.number_gathered() >= 3:
            ${ week[2].day[0].time_noon.name.initials }
          % endif
      - "week3_mon_1pm": |
          % if week.number_gathered() >= 3:
            ${ week[2].day[0].time_1_pm.name.initials }
          % endif
      - "week3_mon_2pm": |
          % if week.number_gathered() >= 3:
            ${ week[2].day[0].time_2_pm.name.initials }
          % endif
      - "week3_mon_3pm": |
          % if week.number_gathered() >= 3:
            ${ week[2].day[0].time_3_pm.name.initials }
          % endif
      - "week3_mon_4pm": |
          % if week.number_gathered() >= 3:
            ${ week[2].day[0].time_4_pm.name.initials }
          % endif
      - "week3_mon_5pm": |
          % if week.number_gathered() >= 3:
            ${ week[2].day[0].time_5_pm.name.initials }
          % endif
      - "week3_mon_6pm": |
          % if week.number_gathered() >= 3:
            ${ week[2].day[0].time_6_pm.name.initials }
          % endif
      - "week3_mon_7pm": |
          % if week.number_gathered() >= 3:
            ${ week[2].day[0].time_7_pm.name.initials }
          % endif
      - "week3_mon_8pm": |
          % if week.number_gathered() >= 3:
            ${ week[2].day[0].time_8_pm.name.initials }
          % endif
      - "week3_mon_9pm": |
          % if week.number_gathered() >= 3:
            ${ week[2].day[0].time_9_pm.name.initials }
          % endif
      # Week 3 - Tuesday
      - "week3_tues_8am": |
          % if week.number_gathered() >= 3:
            ${ week[2].day[1].time_8_am.name.initials }
          % endif
      - "week3_tues_9am": |
          % if week.number_gathered() >= 3:
            ${ week[2].day[1].time_9_am.name.initials }
          % endif
      - "week3_tues_10am": |
          % if week.number_gathered() >= 3:
            ${ week[2].day[1].time_10_am.name.initials }
          % endif
      - "week3_tues_11am": |
          % if week.number_gathered() >= 3:
            ${ week[2].day[1].time_11_am.name.initials }
          % endif
      - "week3_tues_noon": |
          % if week.number_gathered() >= 3:
            ${ week[2].day[1].time_noon.name.initials }
          % endif
      - "week3_tues_1pm": |
          % if week.number_gathered() >= 3:
            ${ week[2].day[1].time_1_pm.name.initials }
          % endif
      - "week3_tues_2pm": |
          % if week.number_gathered() >= 3:
            ${ week[2].day[1].time_2_pm.name.initials }
          % endif
      - "week3_tues_3pm": |
          % if week.number_gathered() >= 3:
            ${ week[2].day[1].time_3_pm.name.initials }
          % endif
      - "week3_tues_4pm": |
          % if week.number_gathered() >= 3:
            ${ week[2].day[1].time_4_pm.name.initials }
          % endif
      - "week3_tues_5pm": |
          % if week.number_gathered() >= 3:
            ${ week[2].day[1].time_5_pm.name.initials }
          % endif
      - "week3_tues_6pm": |
          % if week.number_gathered() >= 3:
            ${ week[2].day[1].time_6_pm.name.initials }
          % endif
      - "week3_tues_7pm": |
          % if week.number_gathered() >= 3:
            ${ week[2].day[1].time_7_pm.name.initials }
          % endif
      - "week3_tues_8pm": |
          % if week.number_gathered() >= 3:
            ${ week[2].day[1].time_8_pm.name.initials }
          % endif
      - "week3_tues_9pm": |
          % if week.number_gathered() >= 3:
            ${ week[2].day[1].time_9_pm.name.initials }
          % endif
      # Week 3 - Wednesday
      - "week3_wed_8am": |
          % if week.number_gathered() >= 3:
            ${ week[2].day[2].time_8_am.name.initials }
          % endif
      - "week3_wed_9am": |
          % if week.number_gathered() >= 3:
            ${ week[2].day[2].time_9_am.name.initials }
          % endif
      - "week3_wed_10am": |
          % if week.number_gathered() >= 3:
            ${ week[2].day[2].time_10_am.name.initials }
          % endif
      - "week3_wed_11am": |
          % if week.number_gathered() >= 3:
            ${ week[2].day[2].time_11_am.name.initials }
          % endif
      - "week3_wed_noon": |
          % if week.number_gathered() >= 3:
            ${ week[2].day[2].time_noon.name.initials }
          % endif
      - "week3_wed_1pm": |
          % if week.number_gathered() >= 3:
            ${ week[2].day[2].time_1_pm.name.initials }
          % endif
      - "week3_wed_2pm": |
          % if week.number_gathered() >= 3:
            ${ week[2].day[2].time_2_pm.name.initials }
          % endif
      - "week3_wed_3pm": |
          % if week.number_gathered() >= 3:
            ${ week[2].day[2].time_3_pm.name.initials }
          % endif
      - "week3_wed_4pm": |
          % if week.number_gathered() >= 3:
            ${ week[2].day[2].time_4_pm.name.initials }
          % endif
      - "week3_wed_5pm": |
          % if week.number_gathered() >= 3:
            ${ week[2].day[2].time_5_pm.name.initials }
          % endif
      - "week3_wed_6pm": |
          % if week.number_gathered() >= 3:
            ${ week[2].day[2].time_6_pm.name.initials }
          % endif
      - "week3_wed_7pm": |
          % if week.number_gathered() >= 3:
            ${ week[2].day[2].time_7_pm.name.initials }
          % endif
      - "week3_wed_8pm": |
          % if week.number_gathered() >= 3:
            ${ week[2].day[2].time_8_pm.name.initials }
          % endif
      - "week3_wed_9pm": |
          % if week.number_gathered() >= 3:
            ${ week[2].day[2].time_9_pm.name.initials }
          % endif
      # Week 3 - Thursday  
      - "week3_thurs_8am": |
          % if week.number_gathered() >= 3:
            ${ week[2].day[3].time_8_am.name.initials }
          % endif
      - "week3_thurs_9am": |
          % if week.number_gathered() >= 3:
            ${ week[2].day[3].time_9_am.name.initials }
          % endif
      - "week3_thurs_10am": |
          % if week.number_gathered() >= 3:
            ${ week[2].day[3].time_10_am.name.initials }
          % endif
      - "week3_thurs_11am": |
          % if week.number_gathered() >= 3:
            ${ week[2].day[3].time_11_am.name.initials }
          % endif
      - "week3_thurs_noon": |
          % if week.number_gathered() >= 3:
            ${ week[2].day[3].time_noon.name.initials }
          % endif
      - "week3_thurs_1pm": |
          % if week.number_gathered() >= 3:
            ${ week[2].day[3].time_1_pm.name.initials }
          % endif
      - "week3_thurs_2pm": |
          % if week.number_gathered() >= 3:
            ${ week[2].day[3].time_2_pm.name.initials }
          % endif
      - "week3_thurs_3pm": |
          % if week.number_gathered() >= 3:
            ${ week[2].day[3].time_3_pm.name.initials }
          % endif
      - "week3_thurs_4pm": |
          % if week.number_gathered() >= 3:
            ${ week[2].day[3].time_4_pm.name.initials }
          % endif
      - "week3_thurs_5pm": |
          % if week.number_gathered() >= 3:
            ${ week[2].day[3].time_5_pm.name.initials }
          % endif
      - "week3_thurs_6pm": |
          % if week.number_gathered() >= 3:
            ${ week[2].day[3].time_6_pm.name.initials }
          % endif
      - "week3_thurs_7pm": |
          % if week.number_gathered() >= 3:
            ${ week[2].day[3].time_7_pm.name.initials }
          % endif
      - "week3_thurs_8pm": |
          % if week.number_gathered() >= 3:
            ${ week[2].day[3].time_8_pm.name.initials }
          % endif
      - "week3_thurs_9pm": |
          % if week.number_gathered() >= 3:
            ${ week[2].day[3].time_9_pm.name.initials }
          % endif
      # Week 3 - Friday
      - "week3_fri_8am": |
          % if week.number_gathered() >= 3:
            ${ week[2].day[4].time_8_am.name.initials }
          % endif
      - "week3_fri_9am": |
          % if week.number_gathered() >= 3:
            ${ week[2].day[4].time_9_am.name.initials }
          % endif
      - "week3_fri_10am": |
          % if week.number_gathered() >= 3:
            ${ week[2].day[4].time_10_am.name.initials }
          % endif
      - "week3_fri_11am": |
          % if week.number_gathered() >= 3:
            ${ week[2].day[4].time_11_am.name.initials }
          % endif
      - "week3_fri_noon": |
          % if week.number_gathered() >= 3:
            ${ week[2].day[4].time_noon.name.initials }
          % endif
      - "week3_fri_1pm": |
          % if week.number_gathered() >= 3:
            ${ week[2].day[4].time_1_pm.name.initials }
          % endif
      - "week3_fri_2pm": |
          % if week.number_gathered() >= 3:
            ${ week[2].day[4].time_2_pm.name.initials }
          % endif
      - "week3_fri_3pm": |
          % if week.number_gathered() >= 3:
            ${ week[2].day[4].time_3_pm.name.initials }
          % endif
      - "week3_fri_4pm": |
          % if week.number_gathered() >= 3:
            ${ week[2].day[4].time_4_pm.name.initials }
          % endif
      - "week3_fri_5pm": |
          % if week.number_gathered() >= 3:
            ${ week[2].day[4].time_5_pm.name.initials }
          % endif
      - "week3_fri_6pm": |
          % if week.number_gathered() >= 3:
            ${ week[2].day[4].time_6_pm.name.initials }
          % endif
      - "week3_fri_7pm": |
          % if week.number_gathered() >= 3:
            ${ week[2].day[4].time_7_pm.name.initials }
          % endif
      - "week3_fri_8pm": |
          % if week.number_gathered() >= 3:
            ${ week[2].day[4].time_8_pm.name.initials }
          % endif
      - "week3_fri_9pm": |
          % if week.number_gathered() >= 3:
            ${ week[2].day[4].time_9_pm.name.initials }
          % endif
      # Week 3 - Saturday
      - "week3_sat_8am": |
          % if week.number_gathered() >= 3:
            ${ week[2].day[5].time_8_am.name.initials }
          % endif
      - "week3_sat_9am": |
          % if week.number_gathered() >= 3:
            ${ week[2].day[5].time_9_am.name.initials }
          % endif
      - "week3_sat_10am": |
          % if week.number_gathered() >= 3:
            ${ week[2].day[5].time_10_am.name.initials }
          % endif
      - "week3_sat_11am": |
          % if week.number_gathered() >= 3:
            ${ week[2].day[5].time_11_am.name.initials }
          % endif
      - "week3_sat_noon": |
          % if week.number_gathered() >= 3:
            ${ week[2].day[5].time_noon.name.initials }
          % endif
      - "week3_sat_1pm": |
          % if week.number_gathered() >= 3:
            ${ week[2].day[5].time_1_pm.name.initials }
          % endif
      - "week3_sat_2pm": |
          % if week.number_gathered() >= 3:
            ${ week[2].day[5].time_2_pm.name.initials }
          % endif
      - "week3_sat_3pm": |
          % if week.number_gathered() >= 3:
            ${ week[2].day[5].time_3_pm.name.initials }
          % endif
      - "week3_sat_4pm": |
          % if week.number_gathered() >= 3:
            ${ week[2].day[5].time_4_pm.name.initials }
          % endif
      - "week3_sat_5pm": |
          % if week.number_gathered() >= 3:
            ${ week[2].day[5].time_5_pm.name.initials }
          % endif
      - "week3_sat_6pm": |
          % if week.number_gathered() >= 3:
            ${ week[2].day[5].time_6_pm.name.initials }
          % endif
      - "week3_sat_7pm": |
          % if week.number_gathered() >= 3:
            ${ week[2].day[5].time_7_pm.name.initials }
          % endif
      - "week3_sat_8pm": |
          % if week.number_gathered() >= 3:
            ${ week[2].day[5].time_8_pm.name.initials }
          % endif
      - "week3_sat_9pm": |
          % if week.number_gathered() >= 3:
            ${ week[2].day[5].time_9_pm.name.initials }
          % endif
      # Week 3 - Sunday
      - "week3_sun_8am": |
          % if week.number_gathered() >= 3:
            ${ week[2].day[6].time_8_am.name.initials }
          % endif
      - "week3_sun_9am": |
          % if week.number_gathered() >= 3:
            ${ week[2].day[6].time_9_am.name.initials }
          % endif
      - "week3_sun_10am": |
          % if week.number_gathered() >= 3:
            ${ week[2].day[6].time_10_am.name.initials }
          % endif
      - "week3_sun_11am": |
          % if week.number_gathered() >= 3:
            ${ week[2].day[6].time_11_am.name.initials }
          % endif
      - "week3_sun_noon": |
          % if week.number_gathered() >= 3:
            ${ week[2].day[6].time_noon.name.initials }
          % endif
      - "week3_sun_1pm": |
          % if week.number_gathered() >= 3:
            ${ week[2].day[6].time_1_pm.name.initials }
          % endif
      - "week3_sun_2pm": |
          % if week.number_gathered() >= 3:
            ${ week[2].day[6].time_2_pm.name.initials }
          % endif
      - "week3_sun_3pm": |
          % if week.number_gathered() >= 3:
            ${ week[2].day[6].time_3_pm.name.initials }
          % endif
      - "week3_sun_4pm": |
          % if week.number_gathered() >= 3:
            ${ week[2].day[6].time_4_pm.name.initials }
          % endif
      - "week3_sun_5pm": |
          % if week.number_gathered() >= 3:
            ${ week[2].day[6].time_5_pm.name.initials }
          % endif
      - "week3_sun_6pm": |
          % if week.number_gathered() >= 3:
            ${ week[2].day[6].time_6_pm.name.initials }
          % endif
      - "week3_sun_7pm": |
          % if week.number_gathered() >= 3:
            ${ week[2].day[6].time_7_pm.name.initials }
          % endif
      - "week3_sun_8pm": |
          % if week.number_gathered() >= 3:
            ${ week[2].day[6].time_8_pm.name.initials }
          % endif
      - "week3_sun_9pm": |
          % if week.number_gathered() >= 3:
            ${ week[2].day[6].time_9_pm.name.initials }
          % endif
      # Week 4 - Monday
      - "week4_mon_8am": |
          % if week.number_gathered() == 4:
            ${ week[3].day[0].time_8_am.name.initials }
          % endif
      - "week4_mon_9am": |
          % if week.number_gathered() == 4:
            ${ week[3].day[0].time_9_am.name.initials }
          % endif
      - "week4_mon_10am": |
          % if week.number_gathered() == 4:
            ${ week[3].day[0].time_10_am.name.initials }
          % endif
      - "week4_mon_11am": |
          % if week.number_gathered() == 4:
            ${ week[3].day[0].time_11_am.name.initials }
          % endif
      - "week4_mon_noon": |
          % if week.number_gathered() == 4:
            ${ week[3].day[0].time_noon.name.initials }
          % endif
      - "week4_mon_1pm": |
          % if week.number_gathered() == 4:
            ${ week[3].day[0].time_1_pm.name.initials }
          % endif
      - "week4_mon_2pm": |
          % if week.number_gathered() == 4:
            ${ week[3].day[0].time_2_pm.name.initials }
          % endif
      - "week4_mon_3pm": |
          % if week.number_gathered() == 4:
            ${ week[3].day[0].time_3_pm.name.initials }
          % endif
      - "week4_mon_4pm": |
          % if week.number_gathered() == 4:
            ${ week[3].day[0].time_4_pm.name.initials }
          % endif
      - "week4_mon_5pm": |
          % if week.number_gathered() == 4:
            ${ week[3].day[0].time_5_pm.name.initials }
          % endif
      - "week4_mon_6pm": |
          % if week.number_gathered() == 4:
            ${ week[3].day[0].time_6_pm.name.initials }
          % endif
      - "week4_mon_7pm": |
          % if week.number_gathered() == 4:
            ${ week[3].day[0].time_7_pm.name.initials }
          % endif
      - "week4_mon_8pm": |
          % if week.number_gathered() == 4:
            ${ week[3].day[0].time_8_pm.name.initials }
          % endif
      - "week4_mon_9pm": |
          % if week.number_gathered() == 4:
            ${ week[3].day[0].time_9_pm.name.initials }
          % endif
      # Week 4 - Tuesday
      - "week4_tues_8am": |
          % if week.number_gathered() == 4:
            ${ week[3].day[1].time_8_am.name.initials }
          % endif
      - "week4_tues_9am": |
          % if week.number_gathered() == 4:
            ${ week[3].day[1].time_9_am.name.initials }
          % endif
      - "week4_tues_10am": |
          % if week.number_gathered() == 4:
            ${ week[3].day[1].time_10_am.name.initials }
          % endif
      - "week4_tues_11am": |
          % if week.number_gathered() == 4:
            ${ week[3].day[1].time_11_am.name.initials }
          % endif
      - "week4_tues_noon": |
          % if week.number_gathered() == 4:
            ${ week[3].day[1].time_noon.name.initials }
          % endif
      - "week4_tues_1pm": |
          % if week.number_gathered() == 4:
            ${ week[3].day[1].time_1_pm.name.initials }
          % endif
      - "week4_tues_2pm": |
          % if week.number_gathered() == 4:
            ${ week[3].day[1].time_2_pm.name.initials }
          % endif
      - "week4_tues_3pm": |
          % if week.number_gathered() == 4:
            ${ week[3].day[1].time_3_pm.name.initials }
          % endif
      - "week4_tues_4pm": |
          % if week.number_gathered() == 4:
            ${ week[3].day[1].time_4_pm.name.initials }
          % endif
      - "week4_tues_5pm": |
          % if week.number_gathered() == 4:
            ${ week[3].day[1].time_5_pm.name.initials }
          % endif
      - "week4_tues_6pm": |
          % if week.number_gathered() == 4:
            ${ week[3].day[1].time_6_pm.name.initials }
          % endif
      - "week4_tues_7pm": |
          % if week.number_gathered() == 4:
            ${ week[3].day[1].time_7_pm.name.initials }
          % endif
      - "week4_tues_8pm": |
          % if week.number_gathered() == 4:
            ${ week[3].day[1].time_8_pm.name.initials }
          % endif
      - "week4_tues_9pm": |
          % if week.number_gathered() == 4:
            ${ week[3].day[1].time_9_pm.name.initials }
          % endif
      # Week 4 - Wednesday
      - "week4_wed_8am": |
          % if week.number_gathered() == 4:
            ${ week[3].day[2].time_8_am.name.initials }
          % endif
      - "week4_wed_9am": |
          % if week.number_gathered() == 4:
            ${ week[3].day[2].time_9_am.name.initials }
          % endif
      - "week4_wed_10am": |
          % if week.number_gathered() == 4:
            ${ week[3].day[2].time_10_am.name.initials }
          % endif
      - "week4_wed_11am": |
          % if week.number_gathered() == 4:
            ${ week[3].day[2].time_11_am.name.initials }
          % endif
      - "week4_wed_noon": |
          % if week.number_gathered() == 4:
            ${ week[3].day[2].time_noon.name.initials }
          % endif
      - "week4_wed_1pm": |
          % if week.number_gathered() == 4:
            ${ week[3].day[2].time_1_pm.name.initials }
          % endif
      - "week4_wed_2pm": |
          % if week.number_gathered() == 4:
            ${ week[3].day[2].time_2_pm.name.initials }
          % endif
      - "week4_wed_3pm": |
          % if week.number_gathered() == 4:
            ${ week[3].day[2].time_3_pm.name.initials }
          % endif
      - "week4_wed_4pm": |
          % if week.number_gathered() == 4:
            ${ week[3].day[2].time_4_pm.name.initials }
          % endif
      - "week4_wed_5pm": |
          % if week.number_gathered() == 4:
            ${ week[3].day[2].time_5_pm.name.initials }
          % endif
      - "week4_wed_6pm": |
          % if week.number_gathered() == 4:
            ${ week[3].day[2].time_6_pm.name.initials }
          % endif
      - "week4_wed_7pm": |
          % if week.number_gathered() == 4:
            ${ week[3].day[2].time_7_pm.name.initials }
          % endif
      - "week4_wed_8pm": |
          % if week.number_gathered() == 4:
            ${ week[3].day[2].time_8_pm.name.initials }
          % endif
      - "week4_wed_9pm": |
          % if week.number_gathered() == 4:
            ${ week[3].day[2].time_9_pm.name.initials }
          % endif
      # Week 4 - Thursday  
      - "week4_thurs_8am": |
          % if week.number_gathered() == 4:
            ${ week[3].day[3].time_8_am.name.initials }
          % endif
      - "week4_thurs_9am": |
          % if week.number_gathered() == 4:
            ${ week[3].day[3].time_9_am.name.initials }
          % endif
      - "week4_thurs_10am": |
          % if week.number_gathered() == 4:
            ${ week[3].day[3].time_10_am.name.initials }
          % endif
      - "week4_thurs_11am": |
          % if week.number_gathered() == 4:
            ${ week[3].day[3].time_11_am.name.initials }
          % endif
      - "week4_thurs_noon": |
          % if week.number_gathered() == 4:
            ${ week[3].day[3].time_noon.name.initials }
          % endif
      - "week4_thurs_1pm": |
          % if week.number_gathered() == 4:
            ${ week[3].day[3].time_1_pm.name.initials }
          % endif
      - "week4_thurs_2pm": |
          % if week.number_gathered() == 4:
            ${ week[3].day[3].time_2_pm.name.initials }
          % endif
      - "week4_thurs_3pm": |
          % if week.number_gathered() == 4:
            ${ week[3].day[3].time_3_pm.name.initials }
          % endif
      - "week4_thurs_4pm": |
          % if week.number_gathered() == 4:
            ${ week[3].day[3].time_4_pm.name.initials }
          % endif
      - "week4_thurs_5pm": |
          % if week.number_gathered() == 4:
            ${ week[3].day[3].time_5_pm.name.initials }
          % endif
      - "week4_thurs_6pm": |
          % if week.number_gathered() == 4:
            ${ week[3].day[3].time_6_pm.name.initials }
          % endif
      - "week4_thurs_7pm": |
          % if week.number_gathered() == 4:
            ${ week[3].day[3].time_7_pm.name.initials }
          % endif
      - "week4_thurs_8pm": |
          % if week.number_gathered() == 4:
            ${ week[3].day[3].time_8_pm.name.initials }
          % endif
      - "week4_thurs_9pm": |
          % if week.number_gathered() == 4:
            ${ week[3].day[3].time_9_pm.name.initials }
          % endif
      # Week 4 - Friday
      - "week4_fri_8am": |
          % if week.number_gathered() == 4:
            ${ week[3].day[4].time_8_am.name.initials }
          % endif
      - "week4_fri_9am": |
          % if week.number_gathered() == 4:
            ${ week[3].day[4].time_9_am.name.initials }
          % endif
      - "week4_fri_10am": |
          % if week.number_gathered() == 4:
            ${ week[3].day[4].time_10_am.name.initials }
          % endif
      - "week4_fri_11am": |
          % if week.number_gathered() == 4:
            ${ week[3].day[4].time_11_am.name.initials }
          % endif
      - "week4_fri_noon": |
          % if week.number_gathered() == 4:
            ${ week[3].day[4].time_noon.name.initials }
          % endif
      - "week4_fri_1pm": |
          % if week.number_gathered() == 4:
            ${ week[3].day[4].time_1_pm.name.initials }
          % endif
      - "week4_fri_2pm": |
          % if week.number_gathered() == 4:
            ${ week[3].day[4].time_2_pm.name.initials }
          % endif
      - "week4_fri_3pm": |
          % if week.number_gathered() == 4:
            ${ week[3].day[4].time_3_pm.name.initials }
          % endif
      - "week4_fri_4pm": |
          % if week.number_gathered() == 4:
            ${ week[3].day[4].time_4_pm.name.initials }
          % endif
      - "week4_fri_5pm": |
          % if week.number_gathered() == 4:
            ${ week[3].day[4].time_5_pm.name.initials }
          % endif
      - "week4_fri_6pm": |
          % if week.number_gathered() == 4:
            ${ week[3].day[4].time_6_pm.name.initials }
          % endif
      - "week4_fri_7pm": |
          % if week.number_gathered() == 4:
            ${ week[3].day[4].time_7_pm.name.initials }
          % endif
      - "week4_fri_8pm": |
          % if week.number_gathered() == 4:
            ${ week[3].day[4].time_8_pm.name.initials }
          % endif
      - "week4_fri_9pm": |
          % if week.number_gathered() == 4:
            ${ week[3].day[4].time_9_pm.name.initials }
          % endif
      # Week 4 - Saturday
      - "week4_sat_8am": |
          % if week.number_gathered() == 4:
            ${ week[3].day[5].time_8_am.name.initials }
          % endif
      - "week4_sat_9am": |
          % if week.number_gathered() == 4:
            ${ week[3].day[5].time_9_am.name.initials }
          % endif
      - "week4_sat_10am": |
          % if week.number_gathered() == 4:
            ${ week[3].day[5].time_10_am.name.initials }
          % endif
      - "week4_sat_11am": |
          % if week.number_gathered() == 4:
            ${ week[3].day[5].time_11_am.name.initials }
          % endif
      - "week4_sat_noon": |
          % if week.number_gathered() == 4:
            ${ week[3].day[5].time_noon.name.initials }
          % endif
      - "week4_sat_1pm": |
          % if week.number_gathered() == 4:
            ${ week[3].day[5].time_1_pm.name.initials }
          % endif
      - "week4_sat_2pm": |
          % if week.number_gathered() == 4:
            ${ week[3].day[5].time_2_pm.name.initials }
          % endif
      - "week4_sat_3pm": |
          % if week.number_gathered() == 4:
            ${ week[3].day[5].time_3_pm.name.initials }
          % endif
      - "week4_sat_4pm": |
          % if week.number_gathered() == 4:
            ${ week[3].day[5].time_4_pm.name.initials }
          % endif
      - "week4_sat_5pm": |
          % if week.number_gathered() == 4:
            ${ week[3].day[5].time_5_pm.name.initials }
          % endif
      - "week4_sat_6pm": |
          % if week.number_gathered() == 4:
            ${ week[3].day[5].time_6_pm.name.initials }
          % endif
      - "week4_sat_7pm": |
          % if week.number_gathered() == 4:
            ${ week[3].day[5].time_7_pm.name.initials }
          % endif
      - "week4_sat_8pm": |
          % if week.number_gathered() == 4:
            ${ week[3].day[5].time_8_pm.name.initials }
          % endif
      - "week4_sat_9pm": |
          % if week.number_gathered() == 4:
            ${ week[3].day[5].time_9_pm.name.initials }
          % endif
      # Week 4 - Sunday
      - "week4_sun_8am": |
          % if week.number_gathered() == 4:
            ${ week[3].day[6].time_8_am.name.initials }
          % endif
      - "week4_sun_9am": |
          % if week.number_gathered() == 4:
            ${ week[3].day[6].time_9_am.name.initials }
          % endif
      - "week4_sun_10am": |
          % if week.number_gathered() == 4:
            ${ week[3].day[6].time_10_am.name.initials }
          % endif
      - "week4_sun_11am": |
          % if week.number_gathered() == 4:
            ${ week[3].day[6].time_11_am.name.initials }
          % endif
      - "week4_sun_noon": |
          % if week.number_gathered() == 4:
            ${ week[3].day[6].time_noon.name.initials }
          % endif
      - "week4_sun_1pm": |
          % if week.number_gathered() == 4:
            ${ week[3].day[6].time_1_pm.name.initials }
          % endif
      - "week4_sun_2pm": |
          % if week.number_gathered() == 4:
            ${ week[3].day[6].time_2_pm.name.initials }
          % endif
      - "week4_sun_3pm": |
          % if week.number_gathered() == 4:
            ${ week[3].day[6].time_3_pm.name.initials }
          % endif
      - "week4_sun_4pm": |
          % if week.number_gathered() == 4:
            ${ week[3].day[6].time_4_pm.name.initials }
          % endif
      - "week4_sun_5pm": |
          % if week.number_gathered() == 4:
            ${ week[3].day[6].time_5_pm.name.initials }
          % endif
      - "week4_sun_6pm": |
          % if week.number_gathered() == 4:
            ${ week[3].day[6].time_6_pm.name.initials }
          % endif
      - "week4_sun_7pm": |
          % if week.number_gathered() == 4:
            ${ week[3].day[6].time_7_pm.name.initials }
          % endif
      - "week4_sun_8pm": |
          % if week.number_gathered() == 4:
            ${ week[3].day[6].time_8_pm.name.initials }
          % endif
      - "week4_sun_9pm": |
          % if week.number_gathered() == 4:
            ${ week[3].day[6].time_9_pm.name.initials }
          % endif
      - "addtional_information": |
          % if additional_time:
          ${ additional_time_details }
          % endif
---
objects:
  - additional_children: ALDocument.using(title="Additional children", filename="additional_children.pdf", has_addendum=False)
---
code: |
  additional_children.enabled = children.number_gathered() > 3
---
attachment:
  - name: additional_children
    variable name: additional_children[i]
    filename: additional_children
    pdf template file: additional_children.pdf
    skip undefined: True
    editable: False
    fields:
      - "county_name": ${ case_county }
      - "case_number": ${ case_number }
      - "petitioner_name": ${ users[0].name.full(middle="full") }
      - "respondent_name": ${ other_parties[0].name.full(middle="full") }
      - "child_name4": |
          % if children.number_gathered() >= 4:
          ${ children[3].name.full() }
          % endif
      - "child_age4": |
          % if children.number_gathered() >= 4:
          ${ children[3].age_in_years() if children[3].age_in_years() > 1 else str(children[3].age_in_months() ) + ' months' }
          % endif
      - "child_name5": |
          % if children.number_gathered() >= 5:
          ${ children[4].name.full() }
          % endif
      - "child_age5": |
          % if children.number_gathered() >= 5:
          ${ children[4].age_in_years() if children[4].age_in_years() > 1 else str(children[4].age_in_months() ) + ' months' }
          % endif
      - "child_name6": |
          % if children.number_gathered() >= 6:
          ${ children[5].name.full() }
          % endif
      - "child_age6": |
          % if children.number_gathered() >= 6:
          ${ children[5].age_in_years() if children[5].age_in_years() > 1 else str(children[5].age_in_months() ) + ' months' }
          % endif
      - "child_name7": |
          % if children.number_gathered() >= 7:
          ${ children[6].name.full() }
          % endif
      - "child_age7": |
          % if children.number_gathered() >= 7:
          ${ children[6].age_in_years() if children[6].age_in_years() > 1 else str(children[6].age_in_months() ) + ' months' }
          % endif
      - "child_name8": |
          % if children.number_gathered() >= 8:
          ${ children[7].name.full() }
          % endif
      - "child_age8": |
          % if children.number_gathered() >= 8:
          ${ children[7].age_in_years() if children[7].age_in_years() > 1 else str(children[7].age_in_months() ) + ' months' }
          % endif
      - "child_name9": |
          % if children.number_gathered() >= 9:
          ${ children[8].name.full() }
          % endif
      - "child_age9": |
          % if children.number_gathered() >= 9:
          ${ children[8].age_in_years() if children[8].age_in_years() > 1 else str(children[8].age_in_months() ) + ' months' }
          % endif
      - "child_name10": |
          % if children.number_gathered() >= 10:
          ${ children[9].name.full() }
          % endif
      - "child_age10": |
          % if children.number_gathered() >= 10:
          ${ children[9].age_in_years() if children[9].age_in_years() > 1 else str(children[9].age_in_months() ) + ' months' }
          % endif
---
