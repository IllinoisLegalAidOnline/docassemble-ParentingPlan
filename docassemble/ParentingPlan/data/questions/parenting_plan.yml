metadata:
  title: Parenting plan
  short title: Parenting plan
  comment: This program helps you create a plan to set parental responsibilities (formerly custody) and parenting time (formerly visitation).
  authors:
    - Jim Graszer
    - Matt Newsted
---
include:
  - docassemble.AssemblyLine:assembly_line.yml
  - docassemble.ILAO:ilao-interview-framework.yml
  - docassemble.ILAO:shared-basic-questions.yml
  - parenting_plan_questions.yml
---
objects:
  - users: ALPeopleList.using(there_are_any=True)
  - other_parties: ALPeopleList.using(there_are_any=True)
  - employer: ALIndividual
  - other_employer: ALIndividual
  - children: ALPeopleList.using(object_type=ALIndividual, there_are_any=True, complete_attribute='complete')
  - week: DAList.using(object_type=Thing, there_are_any=True, complete_attribute='complete')
  - week[i].day: DAList.using(object_type=Thing, auto_gather=True, there_are_any=True)

  - individual_holidays: DAList.using(object_type=Thing, there_are_any=True, there_is_another=False, complete_attribute='complete')
  - other_holidays: DAList.using(object_type=Thing, complete_attribute='complete')
  - exchange_address: ALIndividual
  - court_list: ALCourtLoader.using(file_name='docassemble.ILAO:data/sources/il_courts.xlsx')
---
code: |
  al_form_type = 'existing_case'
  ilao_easy_form_title = "Parenting Plan"
  ilao_easy_form_url = "https://www.illinoislegalaid.org/legal-information/parenting-plan"
  form_name = "Parenting Plan"
  github_user = 'IllinoisLegalAidOnline'
  github_repo_name = 'docassemble-ParentingPlan'
  allowed_courts = ['Circuit']
---
initial: True
code: |
  days_of_the_week = ['Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday', 'Saturday', 'Sunday']
  holidays = ["New Year's Day", "Mother's Day", "Memorial Day", "Father's Day", "July 4", "Labor Day", "Halloween", "Thanksgiving", "Christmas Eve", "Christmas Day", "New Year's Eve"]
---
sections:
  - section_intro: Start
  - section_case: Case info
  - section_family: Family members
  - section_decisions: Decision making
  - section_schedule: Parenting time
  - section_terms: Other Parenting Plan terms
  - section_download: Download
---
#################### Interview order #####################
mandatory: True
code: |
  nav.set_section('section_intro')
  sees_nav_bar
  set_progress(5)
  how_to_use
  accept_terms
  about_screen
  if family_case == False:
    family_kickout
  
  nav.set_section('section_case')
  set_progress(15)
  plan_type
  party_label
  case_county
  case_number

  nav.set_section('section_family')
  set_progress(15)
  users[0].name.first
  if hide_contact == False:
    users[0].address.address
  users[0].phone_number
  if has_employer:
    employer.name.first
  other_parties[0].name.first
  if has_other_address:
    other_parties[0].address.address
  other_parties[0].phone_number
  if has_other_employer:
    other_employer.name.first
  children.gather()

  nav.set_section('section_decisions')
  set_progress(40)
  eduction_decisions
  health_decisions
  religious_decisions
  activities_decisions
  first_refusal
  communication
  primary_parent
  residential_address
  mediation_option

  set_progress(60)
  nav.set_section('section_schedule')
  if parenting_time:
	  users[0].name.initials
	  schedule_start
	  week.gather()
  holiday_time
  if parenting_holiday == "holiday_option1":
	  other_a1
  if parenting_holiday == "holiday_option2":
    if holiday_list.any_true():
      prepopulated_holidays
      individual_holidays.gather()
      other_holidays.gather()
  users[0].name.initials
  spring_break
  summer_break
  winter_break
  transportation
  exchange_location
  if additional_time:
    additional_time_details

  set_progress(90)
  nav.set_section('section_terms')
  accept_rights
  accept_move
  accept_relocation_a
  accept_relocation_b
  accept_relocation_c
  accept_relocation_d
  accept_relocation_e
  accept_changes_a
  accept_changes_b

  set_progress(100)
  nav.set_section('section_download')
  forms_assembling
  get_docs_screen
---
id: welcome
continue button field: sees_nav_bar
question: |
  Parenting Plan
subquestion: |
  Welcome to Illinois Legal Aid Online's **${form_name}** Easy Form.

  This program helps you make forms that provide financial information and documents to the other party in family law cases.
  
  If you are in a court case for divorce, child support, or temporary maintenance, you and the other person will probably have to share information about your income, property, and expenses. 
---
id: how to use
continue button field: how_to_use
question: |
  Instructions
subquestion: |
  To complete this program, you will need to know:

  * How you want to split parental responsibilities? (formerly custody)

  * How you want to split parenting time? (formerly visitation)

  * Information about your family law court case (examples: divorce, parentage, etc.).

  If this is a new case, you will need to know where you will file.

  It could take 30 minutes to 60 minutes to finish this program. You can log in and save your work to return to later. 
 
  ${ collapse_template(help_example) }  

  Click on **{green words}** to learn what they mean. Some pages have a question mark in a circle ${ fa_icon("question-circle", color_css="#0dcaf0" ) } that helps explain things.
---
template: help_example
subject: |
  **You can click sections like this to show more information.**
content: |  
  This is an example of help. Click again to hide.
---
id: about 
continue button field: about_screen
question: |
  About the *${form_name}*
subquestion: |
  The *${form_name}* is a very long form.

  A *${form_name}* contains information about who will make decisions for the children and a schedule for when the children are with each parent.
  
  If you have completed the *${form_name}* by the time you are ready to file your case, you can file it with your petition (example: divorce, parental responsibilities, etc.).
  
  If not, you must file it within 120 days of the date you file your petition.
  
  Learn more about Parenting plans.
---
id: family case 
question: |
  Do you have a family law case in Illinois?
subquestion: |
  The case can be ongoing or one where a final Judgment or Order was entered.
fields:
  - no label: family_case
    datatype: yesnoradio
---
id: family case kickout
event: family_kickout
question: |
  Sorry
subquestion: |
  You can only use this program if you have a family law case in Illinois.

  Use **[Get Legal Help](https://www.illinoislegalaid.org/get-legal-help)** to find free or low-cost legal services in your area.
buttons:
  - Exit: exit
  - Restart: restart
---
########################## CASE INFO #######################
id: parenting plan type 
question: |
  Whose Parenting Plan is this?
fields:
  - Parenting plan: plan_type
    datatype: radio 
    choices: 
      - Yours: petitioner
      - The other parent's: respondent
      - An agreed Parenting Plan: both
      - Unsure: unsure
---
id: party label
question: |
  What is your role in the case?
subquestion: |
  ${ collapse_template(which_party) }  
field: party_label
choices:
  - Petitioner: petitioner
  - Respondent: respondent
---
template: which_party
subject: |
  **Learn more about party labels**
content: |
  If you filed a new case, you are either the Petitioner or the Plaintiff.

  If someone filed the case against you, you are either the Respondent or the Defendant.

  Most family law cases use Petitioner and Respondent.
  
  The other court papers in the case should help you figure it out. Look at the top (the caption)
  of the Petition, Complaint, or Order. That form should have a label by your name.
---
code: |
  if party_label == 'petitioner':
    opposing_label = 'respondent'
  if party_label == 'respondent':
    opposing_label = 'petitioner'
---
id: case county
question: |
  In which county was this case filed?
fields:
  - County: case_county
    code:
      court_list._load_courts()["address_county"].unique()
---
id: case number
question: |
  What is the case number?
subquestion: |
  ${ collapse_template(case_number_help) }
fields:
  - Case number: case_number
    maxlength: 19
---
template: case_number_help
subject: |
  **Learn about case numbers**
content: |  
  The case number should be on your court papers. Look at the Complaint or Petition, or the Summons if you received one. It is usually in the top-right part of the first page.
  
  If you started the case, the court clerk should have given you the case number.
  
  In this example, the case number is **2022 EXAMPLE 123**.
  
  [FILE case_number_example.png, 100%, Summons form showing case number]
---
########################## FAMILY  ######################
id: your name
sets:
  - users[0].name.first
  - users[0].name.last
  - users[0].name.middle
  - users[0].name.suffix
question: |
  What is your name?
fields:
  - code: |
      users[0].name_fields()
---
id: hide contact 
question: |
  Are your address and phone number protected by court order because of domestic violence or abuse?
subquestion: |
  If your contact information does not appear on other court papers because you have a protective order, you do not have to list them on your *${form_name}*. 

  Click **No** to list your address and phone number on your *${form_name}*.
fields:
  - no label: hide_contact
    datatype: yesnoradio
---
id: users address
sets:
  - users[0].address.address
  - users[0].address.city
  - users[0].address.state
  - users[0].address.zip
question: |
  What is your address?
subquestion: |
  **This address will appear on your form.** If you do not want this, click **Back** to keep your address hidden.
fields:
  - Street address: users[0].address.address
    address autocomplete: True
  - Address line 2: users[0].address.unit
    required: False
  - City: users[0].address.city
  - State: users[0].address.state
    code: |
      states_list()
    default: IL      
  - ZIP code: users[0].address.zip
---
id: your contact information
question: |
  What is your contact information?
subquestion: |
  The court or other parties might need to contact you about this case.

  **This information will appear on your court forms.**
  
  If you do not want to list a phone number on your forms, leave it blank.

  If you have an email address, you must list it. Be sure to check your email daily, otherwise you may miss important court documents or information about your case.

  ${ collapse_template(contact_info_help) }  
fields:  
  - Phone number: users[0].phone_number
    datatype: al_international_phone
    required: False
  - Email address: users[0].email
    datatype: email
    required: False
---
template: contact_info_help
subject: |
  **What if I don't want to list my email address?**
content: |  
  If you do not want to enter your personal email address, you can create a new email account to get email about your case.
  
  To make a new email account try one of these email services:
  
  * [**Gmail**](https://accounts.google.com/SignUp)
  * [**Outlook**](https://outlook.live.com/owa/?nlp=1&signup=1)
  * [**Yahoo**](https://login.yahoo.com/account/create?.lang=en-US&.intl=us)
---
id: your employer
question: |
  Are you employed?
subquestion: |
  If you do not currently have an employer, select **No**.
fields:
  - no label: has_employer
    datatype: yesnoradio
---
sets:
  - employer.name.first
id: your employer info 
question: |
  Employer information
fields: 
  - code: |
      employer.name_fields(person_or_business='unsure')
  - Street address: employer.address.address
    address autocomplete: True
  - Address line 2: employer.address.unit
    required: False
  - City: employer.address.city
  - State: employer.address.state
    code: |
      states_list()
    default: IL
  - ZIP code: employer.address.zip
  - Phone number: employer.phone_number
    datatype: al_international_phone
    required: False
---
id: other parties name
sets:
    - other_parties[0].name.first
    - other_parties[0].name.last
    - other_parties[0].name.middle
    - other_parties[0].name.suffix
question: |
  What is the other parent's name?
fields:
  - code: |
      other_parties[0].name_fields()
---
id: listed address for other party
question: |
  Is ${other_parties[0].name.full(middle="full")}'s address listed on other court forms in this case?
subquestion: |
  Their address might not have been listed on other court papers due to domestic violence or abuse.
fields:
  - no label: has_other_address
    datatype: yesnoradio
---
id: other parties address
sets:
  - other_parties[0].address.address
  - other_parties[0].address.city
  - other_parties[0].address.state
  - other_parties[0].address.zip
question: |
  What is ${other_parties[0].name.full(middle="full")}'s address?
fields:
  - Street address: other_parties[0].address.address
    address autocomplete: True
  - Address line 2: other_parties[0].address.unit
    required: False
  - City: other_parties[0].address.city
  - State: other_parties[0].address.state
    code: |
      states_list()
    default: IL      
  - ZIP code: other_parties[0].address.zip
---
id: your contact information
question: |
  What is ${other_parties[0].name.full(middle="full")}'s contact information?
fields:  
  - Phone number: other_parties[0].phone_number
    datatype: al_international_phone
    required: False
  - Email address: other_parties[0].email    
    datatype: email
    required: False
---
id: other parties employment
question: |
  Is ${other_parties[0].name.full(middle="full")}'s employed?
fields:
  - no label: has_other_employer
    datatype: yesnoradio
---
sets:
  - other_employer.name.first
id: other parties employer info 
question: |
  Employer information for ${other_parties[0].name.full(middle="full")}
fields: 
  - code: |
      other_employer.name_fields(person_or_business='unsure')
  - Street address: other_employer.address.address
    address autocomplete: True
  - Address line 2: other_employer.address.unit
    required: False
  - City: other_employer.address.city
  - State: other_employer.address.state
    code: |
      states_list()
    default: IL
  - ZIP code: other_employer.address.zip
  - Phone number: other_employer.phone_number
    datatype: al_international_phone
    required: False
---
code: |
  children[i].name.first
  children[i].age
  children[i].complete = True
---
id: add children
sets:
  - children[i].name.first
  - children[i].name.last
question: |
  ${ capitalize(ordinal(i)) } child's information?
subquestion:
  This minor child must be born to or adopted by you and 
  ${other_parties[0].name.full(middle="full")}.

  Only children under 18 can be included in a Parenting Plan. If the child is under 1 year old, enter 0.
fields:
  - code: |
      children[i].name_fields()
---
id: add child age
sets:
  - children[i].age
question: |
  What is ${children[i].name.full(middle="full")} age?
fields:
  - Age: children[i].age
    datatype: integer
    min: 0
    max: 18
---
id: any other children
question: |
  Do you have another child with ${other_parties[0].name.full(middle="full")}?
subquestion: |
  So far you have told us about ${comma_and_list(children.complete_elements().full_names())}.

  Your *${form_name}* must include minor children born to or adopted by you 
  and ${other_parties[0].name.full(middle="full")}.
fields:
  - "Anyone else?": children.there_is_another
    datatype: yesnoradio
---
########################## DECISIONS ######################
id: education decisions
question: |
  Who will make education decisions for the children?
subquestion: |
  Education decisions include choice of schools and tutors.
fields:
  - Education decisions will be made by: eduction_decisions
    datatype: radio
    choices:
      - Me only: me
      - ${other_parties[0].name.full(middle="full")} only: them
      - Both parents: both
---
id: healthcare decisions
question: |
  Who will make health care decisions for the children?
subquestion: |
  Health decisions include medical, dental, and psychological decisions.
fields:
  - Health care decisions will be made by: health_decisions
    datatype: radio
    choices:
      - Me only: me
      - ${other_parties[0].name.full(middle="full")} only: them
      - Both parents: both
---
id: religious decisions
question: |
  Who will make religious decisions for the children?
fields:
  - Religious decisions will be made by: religious_decisions
    datatype: radio
    choices:
      - Me only: me
      - ${other_parties[0].name.full(middle="full")} only: them
      - Both parents: both
---
id: activities decisions
question: |
  Who will make activities decisions for the children?
subquestion: |
  These include extracurricular and recreational decisions.
fields:
  - Activities decisions will be made by: activities_decisions
    datatype: radio
    choices:
      - Me only: me
      - ${other_parties[0].name.full(middle="full")} only: them
      - Both parents: both
---
id: refuse childcare
question: |
  Right of first refusal for childcare
subquestion: |
  Decide whether a parent will notify the other parent of childcare needs and allow
  them the first opportunity to provide care.

  If you select **Yes**, each parent must offer the other a first right of refusal 
  as follows:

  * If a parent needs childcare for a period of 24 hours or more during their time with
  the children, they must give the other parent the option to care for the children
  before finding other childcare. 

  * As soon as the need for childcare is known, the parent in need of childcare will 
  contact the other parent. 

  * The parent offered the right to care for the children must accept the offer within
  2 hours. If they do not, the parent needing childcare may use another caregiver. 

  * Transportation of the children is the same as for other parenting time.
fields:
  - Is there a right of first refusal for childcare?: first_refusal
    datatype: yesnoradio
---
id: communications
question: |
  When can children communicate with the parent they are not with?
subquestion: |
  Electronic communication between the children and the other parent must not be 
  unreasonably monitored or interrupted. Electronic communication includes telephone,
  e-mail, text, video, etc.  
  
  Select one option for when the children will communicate with the parent they are not with. 
fields: 
  - Children can communicate with other parent: communication
    datatype: radio
    choices:
      - Anytime: anytime
      - Every day between certain times I will enter: daily 
      - Other times I will explain: other
  - Every day start: daily_start
    datatype: time
    show if: 
      variable: communication
      is: daily
  - Every day end: daily_end
    datatype: time
    show if: 
      variable: communication
      is: daily
  - Explain when children can communicate with the parent they are not with: other_description
    datatype: area
    maxlength: 200
    show if: 
      variable: communication
      is: other
---
id: primary custody
question: |
  Which parent will have the most parenting time with the children?
subquestion: |
  This will not 
  affect parents' rights and responsibilities under the *${form_name}*.
fields:
  - no label: primary_parent
    datatype: radio
    choices:
      - Me: me
      - ${other_parties[0].name.full(middle="full")}: them
---
id: residential address
question: |
  Whose home is the children's residential address?
subquestion: |
  This is primarily for school enrollment purposes.
fields:
  - no label: residential_address
    datatype: radio
    choices:
      - Me: me
      - ${other_parties[0].name.full(middle="full")}: them
---
id: handling conflicts
question: |
  Handling conflicts
subquestion: |
  If a parent wishes to change this Parenting Plan or feels the other parent is not 
  following this Parenting Plan, the parents will talk and try to come to an agreement
  on their own.  

  If an agreement cannot be reached, parents will seek help from a mediator: 

  Parents must first try to come to an agreement through mediation. 
  
  * Both parents must cooperate in scheduling and participating in mediation 

  * Both parents must split the cost of mediation equally unless otherwise 
  ordered by the court
    
  If mediation is unsuccessful, a parent must file a petition to modify this 
  Parenting Plan or a petition to enforce this Parenting Plan with the court.  
fields:
  - no label: mediation_option
    datatype: radio
    choices: 
      - Mediation is required on all issues because parents have joint decision making.: mediation
      - Mediation is not required on all issues because (explain below).: no_mediation
    
  - Reason for not requiring mediation: mediation_reason
    datatype: checkboxes
    none of the above: False
    choices:
      - One parent has all significant decision-making responsibility.: parent
      - There is a history of domestic violence between the parties.: history
      - Other reason: other
    show if: 
      variable: mediation_option
      is: no_mediation
  - What are the other reasons?: other_reasons
    datatype: area
    maxlength: 200
    show if: 
      variable: mediation_reason['other']
      is: True
  - note: |
      A parent must file a petition to change this *${form_name}* or a petition to 
      enforce this *${form_name}* with the court
    show if: 
      variable: mediation_option
      is: no_mediation
---
########################## PARENTING TIME ######################
id: parenting time
question: |
  Weekly parenting time
subquestion: |
  The *${form_name}* will include a parenting time schedule for when each parent 
  will have the children. The form breaks down the time on an hour-by-hour basis. 
  The forms allow for up to four different weekly schedules.

  If you want different parenting time schedules on different weeks, select **Yes**. 
  You can enter up to four weekly parenting time schedules. 

  **Note:** Parenting time schedules for holidays and school breaks can be entered 
  on other screens. The weekly schedule covers non-holidays and weeks when school 
  is in session.
fields:
  - Do you want to fill in the parenting time schedule now?: parenting_time
    datatype: radio
    choices:
      - Yes, I will enter the days and times for each parent on the next screens.: yes
      - No, I will decide weekly parenting time later. I will fill out the schedule by hand or attach one to the *${form_name}*.: no
---
id: parent initials
question: |
  Intials for each parent
subquestion: |
  Enter the initials for each parent. These initials will be used in the *${form_name}* to identify who has parenting time.
fields:
  - ${ users[0].name.full(middle="full") }: users[0].name.initials
    maxlength: 4
    default: ${ users[0].name.first[:1] + users[0].name.last[:1] }
  - ${ other_parties[0].name.full(middle="full") }: other_parties[0].name.initials
    maxlength: 4
    default: ${ other_parties[0].name.first[:1] + other_parties[0].name.last[:1] }
validation code: |
  if users[0].name.initials == other_parties[0].name.initials:
    validation_error("Initials must be different.")
---
id: parenting time start date
question: |
  When does the parenting time schedule start?
fields:
  - Week 1 begins on: schedule_start
    datatype: ThreePartsDate
    alMin: ${ today().format("yyyy-MM-dd") }
---
id: weekly schedule
question: |
  Do you want to enter a parenting time schedule for another week?
subquestion: |
  Review what you have entered so far, up to 4 weeks total.

  % for cnt, current_week in enumerate(week):
    ${ current_week.name} | Mon | Tue | Wed | Thur | Fri | Sat | Sun
    -----|-----|-----|-----|-----|-----|-----|-----
    8am | ${ current_week.day[0].time_8_am } | ${ current_week.day[1].time_8_am } | ${ current_week.day[2].time_8_am } | ${ current_week.day[3].time_8_am } | ${ current_week.day[4].time_8_am } | ${ current_week.day[5].time_8_am } | ${ current_week.day[6].time_8_am } |
    9am | ${ current_week.day[0].time_9_am } | ${ current_week.day[1].time_9_am } | ${ current_week.day[2].time_9_am } | ${ current_week.day[3].time_9_am } | ${ current_week.day[4].time_9_am } | ${ current_week.day[5].time_9_am } | ${ current_week.day[6].time_9_am } |
    10am | ${ current_week.day[0].time_10_am } | ${ current_week.day[1].time_10_am } | ${ current_week.day[2].time_10_am } | ${ current_week.day[3].time_10_am } | ${ current_week.day[4].time_10_am } | ${ current_week.day[5].time_10_am } | ${ current_week.day[6].time_10_am } |
    11am | ${ current_week.day[0].time_11_am } | ${ current_week.day[1].time_11_am } | ${ current_week.day[2].time_11_am } | ${ current_week.day[3].time_11_am } | ${ current_week.day[4].time_11_am } | ${ current_week.day[5].time_11_am } | ${ current_week.day[6].time_11_am } |
    Noon | ${ current_week.day[0].time_noon } | ${ current_week.day[1].time_noon } | ${ current_week.day[2].time_noon } | ${ current_week.day[3].time_noon } | ${ current_week.day[4].time_noon } | ${ current_week.day[5].time_noon } | ${ current_week.day[6].time_noon } |
    1pm | ${ current_week.day[0].time_1_pm } | ${ current_week.day[1].time_1_pm } | ${ current_week.day[2].time_1_pm } | ${ current_week.day[3].time_1_pm } | ${ current_week.day[4].time_1_pm } | ${ current_week.day[5].time_1_pm } | ${ current_week.day[6].time_1_pm } |    
    2pm | ${ current_week.day[0].time_2_pm } | ${ current_week.day[1].time_2_pm } | ${ current_week.day[2].time_2_pm } | ${ current_week.day[3].time_2_pm } | ${ current_week.day[4].time_2_pm } | ${ current_week.day[5].time_2_pm } | ${ current_week.day[6].time_2_pm } |
    3pm | ${ current_week.day[0].time_3_pm } | ${ current_week.day[1].time_3_pm } | ${ current_week.day[2].time_3_pm } | ${ current_week.day[3].time_3_pm } | ${ current_week.day[4].time_3_pm } | ${ current_week.day[5].time_3_pm } | ${ current_week.day[6].time_3_pm } |
    4pm | ${ current_week.day[0].time_4_pm } | ${ current_week.day[1].time_4_pm } | ${ current_week.day[2].time_4_pm } | ${ current_week.day[3].time_4_pm } | ${ current_week.day[4].time_4_pm } | ${ current_week.day[5].time_4_pm } | ${ current_week.day[6].time_4_pm } |
    5pm | ${ current_week.day[0].time_5_pm } | ${ current_week.day[1].time_5_pm } | ${ current_week.day[2].time_5_pm } | ${ current_week.day[3].time_5_pm } | ${ current_week.day[4].time_5_pm } | ${ current_week.day[5].time_5_pm } | ${ current_week.day[6].time_5_pm } |
    6pm | ${ current_week.day[0].time_6_pm } | ${ current_week.day[1].time_6_pm } | ${ current_week.day[2].time_6_pm } | ${ current_week.day[3].time_6_pm } | ${ current_week.day[4].time_6_pm } | ${ current_week.day[5].time_6_pm } | ${ current_week.day[6].time_6_pm } |
    7pm | ${ current_week.day[0].time_7_pm } | ${ current_week.day[1].time_7_pm } | ${ current_week.day[2].time_7_pm } | ${ current_week.day[3].time_7_pm } | ${ current_week.day[4].time_7_pm } | ${ current_week.day[5].time_7_pm } | ${ current_week.day[6].time_7_pm } |
    8pm | ${ current_week.day[0].time_8_pm } | ${ current_week.day[1].time_8_pm } | ${ current_week.day[2].time_8_pm } | ${ current_week.day[3].time_8_pm } | ${ current_week.day[4].time_8_pm } | ${ current_week.day[5].time_8_pm } | ${ current_week.day[6].time_8_pm } |
    9pm | ${ current_week.day[0].time_9_pm } | ${ current_week.day[1].time_9_pm } | ${ current_week.day[2].time_9_pm } | ${ current_week.day[3].time_9_pm } | ${ current_week.day[4].time_9_pm } | ${ current_week.day[5].time_9_pm } | ${ current_week.day[6].time_9_pm } |
    Over | ${ current_week.day[0].time_over } | ${ current_week.day[1].time_over } | ${ current_week.day[2].time_over } | ${ current_week.day[3].time_over } | ${ current_week.day[4].time_over } | ${ current_week.day[5].time_over } | ${ current_week.day[6].time_over } |
    | ${ action_button_html(url_action('week[' + str(cnt) + '].day[0].time_8_am'), label="Edit", icon="pencil-alt") } | ${ action_button_html(url_action('week[' + str(cnt) + '].day[1].time_8_am'), label="Edit", icon="pencil-alt") } | ${ action_button_html(url_action('week[' + str(cnt) + '].day[2].time_8_am'), label="Edit", icon="pencil-alt") } | ${ action_button_html(url_action('week[' + str(cnt) + '].day[3].time_8_am'), label="Edit", icon="pencil-alt") } | ${ action_button_html(url_action('week[' + str(cnt) + '].day[4].time_8_am'), label="Edit", icon="pencil-alt") } | ${ action_button_html(url_action('week[' + str(cnt) + '].day[5].time_8_am'), label="Edit", icon="pencil-alt") } | ${ action_button_html(url_action('week[' + str(cnt) + '].day[6].time_8_am'), label="Edit", icon="pencil-alt") } |
    
  % endfor
fields:
  - Do you need to schedule another week?: week.there_is_another
    datatype: yesnoradio
---
code: |
  week[i].name.text = "Week " + str(i + 1)
  for j, day_name in enumerate(days_of_the_week):
      week[i].day[j].name.text = day_name
      week[i].day[j].time_8_am
  week[i].complete = True 
---
code: |
  if week[i].day.number_gathered() == 7:
    week[i].day.there_is_another = False
---
code: |
  if week.number_gathered() == 4:
    week.there_is_another = False
---
################# REMOVE ###################
id: debug week day issues
question:
  Is there another day?
fields:
  - no label: week[i].day.there_is_another
    datatype: yesnoradio
################# REMOVE ###################
---
id: daily plan
question:
  Who will have the children on ${ week[i].day[j].name }s?
subquestion: |
  For each time, select which parent will have the children.
  % if i > 0:
  
  This is for the **Week ${ i + 1 }** schedule.
  % endif
  [NEWLINE] [NEWLINE]
  <button id="current_parent" class="btn btn-info">
    <i class="fas fa-circle-xmark"></i> Select all times for <b>Me (${ users[0].initials })</b>
  </button>
  <button id="other_parent" class="btn btn-info">
    <i class="fas fa-circle-xmark"></i> Select all times for <b>${ other_parties[0].name.full(middle="full")} (${ other_parties[0].initials })</b>
  </button>
  [NEWLINE]  [NEWLINE]
  <button id="clear_all" class="btn btn-warning">
    <i class="fas fa-circle-xmark"></i> Clear all selections
  </button>
fields:
  - 8 AM: week[i].day[j].time_8_am
    datatype: radio
    choices: 
      - Me (${ users[0].initials }): ${ users[0].initials }
      - ${ other_parties[0].name.full(middle="full") } (${ other_parties[0].initials }): ${ other_parties[0].initials }
  - 9 AM: week[i].day[j].time_9_am
    datatype: radio
    choices: 
      - Me (${ users[0].initials }): ${ users[0].initials }
      - ${ other_parties[0].name.full(middle="full") } (${ other_parties[0].initials }): ${ other_parties[0].initials }
  - 10 AM: week[i].day[j].time_10_am
    datatype: radio
    choices: 
      - Me (${ users[0].initials }): ${ users[0].initials }
      - ${ other_parties[0].name.full(middle="full") } (${ other_parties[0].initials }): ${ other_parties[0].initials }
  - 11 AM: week[i].day[j].time_11_am
    datatype: radio
    choices: 
      - Me (${ users[0].initials }): ${ users[0].initials }
      - ${ other_parties[0].name.full(middle="full") } (${ other_parties[0].initials }): ${ other_parties[0].initials }
  - Noon: week[i].day[j].time_noon
    datatype: radio
    choices: 
      - Me (${ users[0].initials }): ${ users[0].initials }
      - ${ other_parties[0].name.full(middle="full") } (${ other_parties[0].initials }): ${ other_parties[0].initials }
  - 1 PM: week[i].day[j].time_1_pm
    datatype: radio
    choices: 
      - Me (${ users[0].initials }): ${ users[0].initials }
      - ${ other_parties[0].name.full(middle="full") } (${ other_parties[0].initials }): ${ other_parties[0].initials }
  - 2 PM: week[i].day[j].time_2_pm
    datatype: radio
    choices: 
      - Me (${ users[0].initials }): ${ users[0].initials }
      - ${ other_parties[0].name.full(middle="full") } (${ other_parties[0].initials }): ${ other_parties[0].initials }
  - 3 PM: week[i].day[j].time_3_pm
    datatype: radio
    choices: 
      - Me (${ users[0].initials }): ${ users[0].initials }
      - ${ other_parties[0].name.full(middle="full") } (${ other_parties[0].initials }): ${ other_parties[0].initials }
  - 4 PM: week[i].day[j].time_4_pm
    datatype: radio
    choices: 
      - Me (${ users[0].initials }): ${ users[0].initials }
      - ${ other_parties[0].name.full(middle="full") } (${ other_parties[0].initials }): ${ other_parties[0].initials }
  - 5 PM: week[i].day[j].time_5_pm
    datatype: radio
    choices: 
      - Me (${ users[0].initials }): ${ users[0].initials }
      - ${ other_parties[0].name.full(middle="full") } (${ other_parties[0].initials }): ${ other_parties[0].initials }
  - 6 PM: week[i].day[j].time_6_pm
    datatype: radio
    choices: 
      - Me (${ users[0].initials }): ${ users[0].initials }
      - ${ other_parties[0].name.full(middle="full") } (${ other_parties[0].initials }): ${ other_parties[0].initials }
  - 7 PM: week[i].day[j].time_7_pm
    datatype: radio
    choices: 
      - Me (${ users[0].initials }): ${ users[0].initials }
      - ${ other_parties[0].name.full(middle="full") } (${ other_parties[0].initials }): ${ other_parties[0].initials }
  - 8 PM: week[i].day[j].time_8_pm
    datatype: radio
    choices: 
      - Me (${ users[0].initials }): ${ users[0].initials }
      - ${ other_parties[0].name.full(middle="full") } (${ other_parties[0].initials }): ${ other_parties[0].initials }
  - 9 PM: week[i].day[j].time_9_pm
    datatype: radio
    choices: 
      - Me (${ users[0].initials }): ${ users[0].initials }
      - ${ other_parties[0].name.full(middle="full") } (${ other_parties[0].initials }): ${ other_parties[0].initials }
  - Overnight: week[i].day[j].time_over
    datatype: radio
    choices: 
      - Me (${ users[0].initials }): ${ users[0].initials }
      - ${ other_parties[0].name.full(middle="full") } (${ other_parties[0].initials }): ${ other_parties[0].initials }
script: |
  <script>
    $(document).on('daPageLoad', function() {
      function handleButtonClick(buttonId, initials) {
        var button = document.getElementById(buttonId);
        if (button) {
          button.addEventListener('click', function(event) {
            event.preventDefault();
            var radios = document.querySelectorAll('input[type="radio"]');
            var groups = {};
            radios.forEach(function(radio) {
              if (!groups[radio.name]) {
                groups[radio.name] = [];
              }
              groups[radio.name].push(radio);
            });
            Object.keys(groups).forEach(function(name) {
              var group = groups[name];
              var option = group.find(function(radio) {
                return radio.value === initials;
              });
              if (option) {
                option.click();
              }
            });
          });
        }
      }
      function handleClearButtonClick(buttonId) {
        var button = document.getElementById(buttonId);
        if (button) {
          button.addEventListener('click', function(event) {
            event.preventDefault();
            var radios = document.querySelectorAll('input[type="radio"]');
            radios.forEach(function(radio) {
              radio.checked = false;
            });
          });
        }
      }
      // Add event listeners to buttons
      handleButtonClick('current_parent', "${ users[0].initials }");
      handleButtonClick('other_parent', "${ other_parties[0].initials }");
      handleClearButtonClick('clear_all');
    });
  </script>
---
id: parent time holiday note
question: |
  Note about parenting time during holidays
subquestion: |
  Each year, holidays may fall during school breaks, causing a conflict. 
  
  When a conflict happens, the priority will be: 

  * *1st Priority*: Holiday Schedule; 
  
  * *2nd Priority*: School Break Schedule; 

  * *3rd Priority*: Regular Weekly Schedule 

  For example, when Christmas Eve falls within your winter break, but it is the 
  other parent's turn to have Christmas Eve, the other parent will get their time
  on Christmas Eve, because the Holiday schedule has 1st Priority. 
continue button field: holiday_time
---
id: parenting time holiday
question: |
  How do you want to handle parenting time during holidays?
fields:
  - Select an option below: parenting_holiday
    datatype: radio
    choices: 
      - Holidays are put into two groups.: holiday_option1
      - Each holiday is handled separately.: holiday_option2
      - This means I will fill out the holiday parenting time later.: other
  - note: |
      Both options will remain blank to decide or attach one to the *${form_name}*.
    show if: 
      variable: parenting_holiday
      is: other
---
id: holiday by groups
question: |
  Holidays by group
subquestion: |
  In even-numbered years, you will have the minor children on Group A holidays and they
  will have the minor children on Group B holidays.

  In odd-numbered years, you will have the minor children on Group B holidays and they
  will have the minor children on Group A holidays.

  You can add up to five other holidays for each group below.
fields:
  - note: |
      **Group A Holidays**

      * Thanksgiving Day

      * Christmas Eve

      * New Year's Eve

      You may add up to 5 additional holidays:
  - Add additional Group A holiday: other_a1_yes
    datatype: yesnowide
  - Name of first additional holiday?: other_a1
    maxlength: 25
    show if: other_a1_yes
  - Add additional Group A holiday: other_a2_yes
    datatype: yesnowide
    show if: other_a1_yes
  - Name of second additional holiday?: other_a2
    maxlength: 25
    show if: other_a2_yes
  - Add additional Group A holiday: other_a3_yes
    datatype: yesnowide
    show if: other_a2_yes
  - Name of third additional holiday?: other_a3
    maxlength: 25
    show if: other_a3_yes
  - Add additional Group A holiday: other_a4_yes
    datatype: yesnowide
    show if: other_a3_yes
  - Name of fourth additional holiday: other_a4
    maxlength: 25
    show if: other_a4_yes
  - Add additional Group A holiday: other_a5_yes
    datatype: yesnowide
    show if: other_a4_yes
  - Name of fifth additional holiday: other_a5
    maxlength: 25
    show if: other_a5_yes
  - note: |
      **Group B Holidays**
      
      * 4th of July

      * Labor Day

      * Christmas Day

      You may add up to 5 additional holidays:
  - Add additional Group B holiday: other_b1_yes
    datatype: yesnowide
  - Name of first additional holiday?: other_b1
    maxlength: 25
    show if: other_b1_yes
  - Add additional Group B holiday: other_b2_yes
    datatype: yesnowide
    show if: other_b1_yes
  - Name of second additional holiday?: other_b2
    maxlength: 25
    show if: other_b2_yes
  - Add additional Group B holiday: other_b3_yes
    datatype: yesnowide
    show if: other_b2_yes
  - Name of third additional holiday?: other_b3
    maxlength: 25
    show if: other_b3_yes
  - Add additional Group B holiday: other_b4_yes
    datatype: yesnowide
    show if: other_b3_yes
  - Name of fourth additional holiday: other_b4
    maxlength: 25
    show if: other_b4_yes
  - Add additional Group B holiday: other_b5_yes
    datatype: yesnowide
    show if: other_b4_yes
  - Name of fifth additional holiday: other_b5
    maxlength: 25
    show if: other_b5_yes
---
id: individual holidays
question: |
  Individual holidays
subquestion: |
  For each holiday, you can select which parent will have the children on which 
  years. You can also choose a start and end time.

  If the holiday is not listed, you can add up to five others on a different screen.
fields:
  - "Which holidays do you want to include in the parenting time schedule?": holiday_list
    datatype: checkboxes
    none of the above: False
    choices:
      code: | 
        holidays
---
code: |
  individual_holidays.clear()
  for holiday in holidays:
    if holiday in holiday_list.true_values():
      new_holiday = individual_holidays.appendObject()
      new_holiday.name.text = holiday
    else:
      new_holiday = individual_holidays.appendObject()
      new_holiday.name.text = ""

  prepopulated_holidays = True
---
code: |
  if individual_holidays[i].name.text != "":
    individual_holidays[i].holiday_year
    individual_holidays[i].complete = True
  else:
    individual_holidays[i].complete = True
---
id: holiday gather detail
question: |
  What parenting time schedule do you want for ${ individual_holidays[i] }?
fields:
  - no label: individual_holidays[i].holiday_year
    datatype: radio
    choices:
      - I will get the children every year.: me
      - ${ other_parties[0].name.full(middle="full") } will get the children every year.: them
      - I will get the children only on odd years.: odd
      - I will get the children only on even years.: even
  - Start time: individual_holidays[i].holiday_start
    datatype: time
    default: 8:00 AM
  - End time: individual_holidays[i].holiday_end
    datatype: time
    default: 9:00 PM
validation code: |
  if individual_holidays[i].holiday_start >= individual_holidays[i].holiday_end:
    validation_error("The start time must be before the end time.")
---
id: other holidays
question: |
  Do you want to add other holidays to the parenting time schedule?
subquestion: |
  *Note* you can add up to five additional holidays.
fields: 
  - no label: other_holidays.there_are_any
    datatype: yesnoradio
---
id: holiday gather other name 
question: |
  What is the ${ordinal(i)} other holiday you want to add to the parenting time schedule?
fields: 
  - Holiday name: other_holidays[i].name.text 
    maxlength: 20
---
id: holiday gather other detail
question: |
  What parenting time schedule do you want for ${ other_holidays[i] }?
fields:
  - Year: other_holidays[i].holiday_year
    datatype: radio
    choices:
      - I will get the children every year.: me
      - ${ other_parties[0].name.full(middle="full") } will get the children every year.: them
      - I will get the children only on odd years.: odd
      - I will get the children only on even years.: even
  - Start time: other_holidays[i].holiday_start
    datatype: time
    default: 8:00 AM
  - End time: other_holidays[i].holiday_end
    datatype: time
    default: 9:00 PM
validation code: |
  if individual_holidays[i].holiday_start >= individual_holidays[i].holiday_end:
    validation_error("The start time must be before the end time.")
---
id: holiday gather other
question: |
  Do you want to include another holiday on the parenting time schedule?
subquestion: |
  So far you have selected the following holidays:

  % for holiday in holiday_list.true_values():
  * ${ holiday }
  % endfor
  
  Additional holidays you are including:
  
  % for holiday in other_holidays:
  * ${ holiday.name.text }
  % endfor
fields:
  - Include another holiday?: other_holidays.there_is_another
    datatype: yesnoradio
---
code: |
  other_holidays[i].name.text
  other_holidays[i].holiday_year
  other_holidays[i].complete = True
---
code: |
  if other_holidays.number_gathered() == 5:
    other_holidays.there_is_another = False
---
# CODE BLOCK FOR HOLIDAY GATHER LOOP
---
id: spring break
question: |
  What parenting time schedule do you want for school spring break?
fields:
  - School Spring Break: spring_break
    datatype: radio 
    choices:
      - No spring break schedule (follow the regular parenting schedule): no
      - Split up spring break even/odd years: split
        help: |
          One parent will have the entire spring break in even-number years and 
          the other parent will have the entire spring break in odd-numbered years. 
          Spring break starts at 9am the day after school dismissal and ends at 5pm the 
          day before school starts again.
      - Other: other
  - Which parent will have the even number years?: spring_break_year
    datatype: radio
    choices:
      - Me: me
      - ${other_parties[0].name.full(middle="full")} only: them
    show if:
      variable: spring_break
      is: split
  - Other plan for spring break: spring_break_other
    datatype: area
    show if:
      variable: spring_break
      is: other
  - Start time: spring_break_start
    maxlength: 25
    show if:
      variable: spring_break
      is: other
  - End time: spring_break_end
    maxlength: 25
    show if:
      variable: spring_break
      is: other
---
id: summer break
question: |
  What parenting time schedule do you want for school summer break?
fields:
  - School Summer Break: summer_break
    datatype: radio 
    choices:
      - No summer break schedule (follow the regular parenting schedule): no
      - Each parent will have 2 non-consecutive weeks in the summer: split
      - Other: other
  - note: |
      Each parent will notify the other in writing by April 1st each year 
      of the weeks they wish to have summer parenting time. 
      
      One parent will have first choice of dates in even-numbered years and the
      other parent will have first choice in odd-numbered years.
    show if:
      variable: summer_break
      is: split
  - Which parent will have the even number years?: summer_break_year
    datatype: radio
    choices:
      - Myself: me
      - ${other_parties[0].name.full(middle="full")} only: them
    show if:
      variable: summer_break
      is: split
  - Other plan for summer break: summer_break_other
    datatype: area
    show if:
      variable: summer_break
      is: other
  - Start time: summer_break_start
    datatype: datetime
    show if:
      variable: summer_break
      is: other
  - End time: summer_break_end
    datatype: datetime
    show if:
      variable: summer_break
      is: other
---
id: winter break
question: |
  What parenting time schedule do you want for school winter break?
fields:
  - School Winter Break: winter_break
    datatype: radio 
    choices:
      - No winter break schedule (follow the regular parenting schedule): no
      - Split up winter break even/odd years: split
      - Other: other
  - note: |
      One parent will have the first half of winter break in even-numbered years 
      and the other parent will have the first half of winter break in odd-numbered
      years. School Winter Break begins at 9am the day after school dismissal and 
      ends at 5 pm the day before school starts again.
    show if:
      variable: winter_break
      is: split
  - Which parent will have the even number years?: winter_break_year
    datatype: radio
    choices:
      - Myself: me
      - ${other_parties[0].name.full(middle="full")} only: them
    show if:
      variable: winter_break
      is: split
  - Other plan for winter break: winter_break_other
    datatype: area
    show if:
      variable: winter_break
      is: other
  - Start time: winter_break_start
    datatype: datetime
    show if:
      variable: winter_break
      is: other
  - End time: winter_break_end
    datatype: datetime
    show if:
      variable: winter_break
      is: other
---
id: transportation
question: |
  Parenting time transportation
subquestion: |
  Select only one of these options for how the children will be transported 
  for parenting time.
fields:
  - Transportation of children: transportation
    datatype: radio
    choices:
      - I will provide all transportation.: me
      - ${ other_parties[0].name.full(middle="full") } will provide all transportation.: them
      - Each parent will pick up the children at the start of their parenting time.: pick_up
      - Each parent will drop off the children at the end of their parenting time.: drop_off
      - Other: other
  - Other transportation plan: transportation_other
    datatype: area
    maxlength: 200
    show if: 
      variable: transportation
      is: other
---
id: exchange location
question: |
  Where will children be picked up and dropped off?
subquestion: |
  Select one of these options for where the children will be picked up and dropped off.
fields:
  - Exchange of children will take place at: exchange_location
    datatype: radio
    choices:
      - Drop off and pick up of the children be at each parent's homes unless both parties in advance to a different meeting place.: homes
      - Drop off and pick up will take place at a specific location: location
  - Location name: exchange_address.location
    maxlength: 40
    show if: 
      variable: exchange_location
      is: location
  - Street address: exchange_address.address.address
    address autocomplete: True
    show if: 
      variable: exchange_location
      is: location
  - Address line 2: exchange_address.address.unit
    required: False
    show if: 
      variable: exchange_location
      is: location
  - City: exchange_address.address.city
    show if: 
      variable: exchange_location
      is: location
  - State: exchange_address.address.state
    code: |
      states_list()
    default: IL
    show if: 
      variable: exchange_location
      is: location
  - ZIP code: exchange_address.address.zip
    show if: 
      variable: exchange_location
      is: location
---
id: additional parenting time
question: |
  Do you want to add more parenting time information?
subquestion: |
  If the questions so far have not covered everything about the parenting time 
  schedule, you can add more details.
  
  You can preview the *${form_name}* at the end of the program and add more later.
fields:
  - no label: additional_time
    datatype: yesnoradio
---
id: additional parenting time details
question: |
  What else do you want to include about parenting time?
fields:
  - no label: additional_time_details
    datatype: area
    maxlength: 800
---
## 5.RIGHTS & RESPONSIBILITIES OF THE PARENTS
id: rights and responsibilities
question: |
  Rights and responsibilities of the parents
subquestion: |
  This is what each parent will do when the children are with them. 

  * Make day-to-day decisions for the children when they have them, such as routine 
  discipline, minor medical treatment, curfew, chores, and hygiene.

  * Give the other parent the name, address, and telephone number of any health 
  care provider for the children.

  * Have access to the children's school records, childcare information, 
  extracurricular activity schedules, and medical, dental, and mental health records
  unless access is denied by the judge.

  * Notify the other parent as soon as possible of emergencies, health care, travel
  plans, or other significant child-related issues
fields:
  - I have read and understand the above: accept_rights
    datatype: checkboxes
    none of the above: False
    minlength: 1
    choices:
      - I have read and understand the above.
    validation messages:
      minlength: |
        You cannot continue unless you have read and understand the above information.
continue button field: terms_accept_rights
---
## 3. MUST PROVIDE NOTICE OF MOVE
id: notice of move
question: |
  Must provide notice of move
subquestion: |
  Both parents must provide each other notice if they plan to move, regardless of distance.

  If a **parent plans to move**, they must give the other parent at least 60 days' 
  notice, or notice as soon as possible of:
  
  * The intended move date.

  * The new address unless the address is protected because of domestic violence or abuse.
fields:
  - I have read and understand the above: accept_move
    datatype: checkboxes
    none of the above: False
    minlength: 1
    choices:
      - I have read and understand the above.
    validation messages:
      minlength: |
        You cannot continue unless you have read and understand the above information.
continue button field: terms_accept_move
---
## 12.A RELOCATION OF MINOR CHILDREN
id: relocation A
question: |
  Relocation - when agreement required
subquestion: |
  Relocation is when a parent seeks to move with children for distances of over 25 or 
  50 miles (depending on the county where they live).
  
  If a parent with the most parenting time or equal parenting time wishes to move 
  with the children, they must get the **agreement of the other parent or permission 
  from the judge** when:

  * The children's primary home is in Cook, DuPage, Kane, Lake, 
  McHenry, or Will County and the move is within  Illinois but more than 25 miles 
  away from their current home; or 
  
  * The children's primary home is in any other county
  in Illinois and the move is within Illinois but more than 50  miles away from their 
  current home; or 
  
  * The move is outside of Illinois and more than 25 miles from the 
  children's primary home.
fields:
  - I have read and understand the above: accept_relocation_a
    datatype: checkboxes
    none of the above: False
    minlength: 1
    choices:
      - I have read and understand the above.
    validation messages:
      minlength: |
        You cannot continue unless you have read and understand the above information.
continue button field: terms_accept_relocation_a
---
## 12.B RELOCATION OF MINOR CHILDREN
id: relocation B
question: |
  Relocation - when written notice required
subquestion: |
  The parent asking to move with the children must provide **written notice** to the 
  other parent. The notice must:

  * Be given at least 60 days before the move unless that is impossible. If impossible,
  the notice must be given at the  earliest date possible; and 
  
  * State the date the parent plans to move; and 
  
  * State whether the move is permanent or for a specific time period; and 

  * State the new address, if known, unless the address is protected because of 
  domestic violence or abuse
fields:
  - I have read and understand the above: accept_relocation_b
    datatype: checkboxes
    none of the above: False
    minlength: 1
    choices:
      - I have read and understand the above.
    validation messages:
      minlength: |
        You cannot continue unless you have read and understand the above information.
continue button field: terms_accept_relocation_b
---
## 12.C RELOCATION OF MINOR CHILDREN
id: relocation C
question: |
  Relocation agreement
subquestion: |
  * **No change is needed for parenting time** - If the parents agree on the move and no 
  change is needed to the parenting time schedule, both parties will sign the notices
  provided about the move and file it with the court. No court appearance is needed. 

  * **Changes in parenting time are needed** - If the other parent agrees with the move
  but changes need to be made to the parenting time schedule, and the parents are in 
  agreement about the changes to the parenting time schedule, the moving parent must: 

      * Have the other parent sign the notice provided about the move;

      * File the signed notice with the court; and

      * File an updated *${form_name}* with the court. The court does not need to 
      approve the move but the court must approve the changes to the *${form_name}*.
fields:
  - I have read and understand the above: accept_relocation_c
    datatype: checkboxes
    none of the above: False
    minlength: 1
    choices:
      - I have read and understand the above.
    validation messages:
      minlength: |
        You cannot continue unless you have read and understand the above information.
continue button field: terms_accept_relocation_c
---
## 12.D RELOCATION OF MINOR CHILDREN
id: relocation D
question: |
  Relocation partial agreement
subquestion: |
  * If the other parent agrees with the move, but both parents cannot agree on changes 
  to the *${form_name}*, the moving parent must: 

      * Have the other parent sign the notice provided about the move;

      * File the signed notice with the court; and

      * Follow the Handling Conflicts process set out below to try to reach an agreement with the
      other parent about changes to the parenting time schedule.
      
  * If no agreement can be reached after completing the Handling Conflicts process, file a petition to 
    modify the parenting time schedule with the court.
fields:
  - I have read and understand the above: accept_relocation_d
    datatype: checkboxes
    none of the above: False
    minlength: 1
    choices:
      - I have read and understand the above.
    validation messages:
      minlength: |
        You cannot continue unless you have read and understand the above information.
continue button field: terms_accept_relocation_d
---
## 12.E RELOCATION OF MINOR CHILDREN
id: relocation E
question: |
  Relocation no agreement
subquestion: |
  If the other parent does not agree with the move, the parent relocating must: 

  * Follow the Handling Conflicts process set out below to try to reach an agreement
  with the other parent; and

  * If no agreement can be reached after completing the Handling Conflicts process, 
  file a petition with the court asking for permission to move.
fields:
  - I have read and understand the above: accept_relocation_e
    datatype: checkboxes
    none of the above: False
    minlength: 1
    choices:
      - I have read and understand the above.
    validation messages:
      minlength: |
        You cannot continue unless you have read and understand the above information.
continue button field: terms_accept_relocation_e
---
## 14.A CHANGES TO THIS PARENTING PLAN
id: changes A
question: |
  Changes to the Parenting Plan when parents agree
subquestion: |
  If a parent wants to change this *${form_name}*, they will talk to the other parent. 
  The parents will try to reach an agreement on their own.

  If the parents agree to a change, and the change is:

  * A one-time or short-term change, then they will make the change without filing an
  agreement with the court.

  * A long-term or permanent change, then they will draft and file a new *${form_name}*
  with the court.
fields:
  - I have read and understand the above: accept_changes_a
    datatype: checkboxes
    none of the above: False
    minlength: 1
    choices:
      - I have read and understand the above.
    validation messages:
      minlength: |
        You cannot continue unless you have read and understand the above information.
continue button field: terms_accept_changes_a
---
## 14.B CHANGES TO THIS PARENTING PLAN
id: changes B
question: |
  Changes to the Parenting Plan when parents do not agree
subquestion: |
  If the parents do not agree, then they will:

  * Follow the Handling Conflict section below to try to reach an agreement about 
  changes to the *${form_name}*. If an agreement is reached, follow the steps in 15.

  * If the parents still don't agree after going through the Handling Conflicts process,
  the parent who wants the change must file a petition with the court asking for 
  changes to this *${form_name}*.

  * This *${form_name}* will be followed until the parents complete the Handling 
  Conflicts process and agree to a new plan or a new *${form_name}* is approved by the court.

fields:
  - I have read and understand the above: accept_changes_b
    datatype: checkboxes
    none of the above: False
    minlength: 1
    choices:
      - I have read and understand the above.
    validation messages:
      minlength: |
        You cannot continue unless you have read and understand the above information.
continue button field: terms_accept_changes_b
---




---
###################### DOWNLOAD SECTION #########################
id: forms assembling
continue button field: forms_assembling
question: |
  Almost done
subquestion: |
  After you click **Next**, it may take a few moments to finish making your forms.
  
  ###### You do not need to refresh your screen. Hang in there!
  
  [NEWLINE]
---
id: get docs screen
event: get_docs_screen
question: |
  Download
subquestion: |
  Your form is ready. View and download your form below. Click **Make changes** to fix any mistakes.

  This program does not deliver your *${form_name}* to other party in your case. You will need to do that yourself.

  ${ action_button_html(url_action('review_answers'), label=':edit: Make changes', color='success', size="md") }

  ${ al_user_bundle.download_list_html() }

  [NEWLINE]

  ${ al_user_bundle.send_button_html(show_editable_checkbox=False) }


  **Note:** This program does not deliver your *${form_name}* to other party in your case. You will need to do that yourself.
  
  Thank you for using ILAO Easy Forms!
under: |
  % if not user_logged_in():
  [${fa_icon("sign-in-alt", color="#0079d0", size="sm")} **Sign-in**](${url_of('login', next=interview_url())}) or [**create**](${url_of('register', next=interview_url())}) an ILAO Easy Form account to save your progress (optional).
  % endif

  ${ action_button_html(interview_url(i="docassemble.ILAO:feedback.yml", easy_form_interview=ilao_easy_form_url, easy_form_title=ilao_easy_form_title, easy_form_page=user_info().question_id, easy_form_variable=user_info().variable, local=False,reset=1), label=':comment: Was this program helpful?', color="#181c36", size="md", new_window=True) }
---
#################### REVIEW SCREEN #########################
id: review screen
event: review_answers
skip undefined: False
question: |
  Review screen
subquestion: |
  Edit your answers below.
review: 
  - note: |
      <h4>Case info</h4>
  - Edit: plan_type
    button: |
      **Parenting Plan:**
      % if plan_type == "petitioner":
      Yours
      % elif plan_type == "respondent":
      The other parent's
      % elif plan_type == "both":
      An agreed Parenting Plan, Unsure
      % endif
  - Edit: case_county
    button: |
      **County where this case is filed:**
      ${ case_county }
  - Edit: case_number
    button: |
      **Case number:**
      ${ case_number }
  - note: |
      <h4>Family members</h4>
  - Edit: users[0].name.first
    button: |
      **Your name:**
      ${ users[0].name.full(middle="full") }
  - Edit: hide_contact
    button: |
      **Do you want to hide your address?**
      ${ word(yesno(hide_contact))}  
  - Edit: users[0].address.address
    button: |
      **Your address:**
      ${ users[0].address.on_one_line(bare=True) }
    show if: hide_contact == False
  - Edit: users[0].phone_number
    button: |
      **Your phone number:**
      % if users[0].phone_number == "":
      No phone number entered
      % else:
      ${ phone_number_formatted(users[0].phone_number) }
      % endif

      **Your email address:**
      % if users[0].email == "":
      No email address entered
      % else:
      ${ users[0].email }
      % endif
  - Edit: has_employer
    button: |
      **Do you have income from employment?**
      ${word(yesno(has_employer))}
  - Edit: employer.name.first
    button: |
      **Employer name:**
      ${ employer.name.full(middle="full") }
      
      **Employer address:**
      ${ employer.address.on_one_line(bare=True) }
      
      **Employer phone:**
      ${ phone_number_formatted(employer.phone_number) }
    show if: has_employer
  - Edit: other_parties[0].name.first
    button: |
      **Other parent's name:**
      ${ other_parties[0].name.full(middle="full") }
  - Edit: has_other_address
    button: |
      **Have other parent's address:**
      ${ word(yesno(has_other_address))}  
  - Edit: other_parties[0].address.address
    button: |
      **Other parent's address:**
      ${ other_parties[0].address.on_one_line(bare=True) }
    show if: has_other_address
  - Edit: other_parties[0].phone_number
    button: |
      **Other parent's phone number:**
      % if other_parties[0].phone_number == "":
      None entered
      % else:
      ${ phone_number_formatted(other_parties[0].phone_number) }
      % endif

      **Other parent's email address:**
      % if other_parties[0].email == "":
      No email address
      % else:
      ${ other_parties[0].email }
      % endif
  - Edit: has_other_employer
    button: |
      **Other parent's employment?**
      ${word(yesno(has_other_employer))}
  - Edit: other_employer.name.first
    button: |
      **Employer name:**
      ${ other_employer.name.full(middle="full") }
      
      **Employer address:**
      ${ other_employer.address.on_one_line(bare=True) }
      
      **Employer phone:**
      ${ phone_number_formatted(other_employer.phone_number) }
    show if: has_other_employer
  - Edit: children.revisit
    button: |
      **Children and age**

      % for child in children:
        * ${ child.name.full() }, ${ child.age }
      % endfor
  - note: |
      <h4>Decisions</h4>
  - Edit: eduction_decisions
    button: |
      **Education decisions made by:**

      % if eduction_decisions == "me":
      ${ users[0].name.full(middle="full") }
      % elif eduction_decisions == "them":
      ${ other_parties[0].name.full(middle="full") }
      % elif eduction_decisions == "both":
      Both parents
      % endif
  - Edit: health_decisions
    button: |
      **Healthcare decisions made by:**

      % if health_decisions == "me":
      ${ users[0].name.full(middle="full") }
      % elif health_decisions == "them":
      ${ other_parties[0].name.full(middle="full") }
      % elif health_decisions == "both":
      Both parents
      % endif
  - Edit: religious_decisions
    button: |
      **Religious decisions made by:**

      % if religious_decisions == "me":
      ${ users[0].name.full(middle="full") }
      % elif religious_decisions == "them":
      ${ other_parties[0].name.full(middle="full") }
      % elif religious_decisions == "both":
      Both parents
      % endif
  - Edit: activities_decisions
    button: |
      **Activity decisions made by:**

      % if activities_decisions == "me":
      ${ users[0].name.full(middle="full") }
      % elif activities_decisions == "them":
      ${ other_parties[0].name.full(middle="full") }
      % elif activities_decisions == "both":
      Both parents
      % endif
  - Edit: first_refusal
    button: |
      **Right of first refusal for childcare?**
      ${word(yesno(first_refusal))}
  - Edit: communication
    button: |
      **Children communicate with other parent?**

      % if communication == "anytime":
      Anytime
      % elif communication == "daily":
      Daily

      **Start**:
      ${ format_time(daily_start, 'hh:mm a') }

      **End**:
      ${ format_time(daily_end, 'hh:mm a') }
      % elif communication == "other":
      Other: 
      ${ other_description }
      % endif
  - Edit: primary_parent
    button: |
      **Primary parent of the children:**

      % if primary_parent == "me":
      ${ users[0].name.full(middle="full") }
      % elif primary_parent == "them":
      ${ other_parties[0].name.full(middle="full") }
      % endif
  - Edit: residential_address
    button: |
      **Children's residential address?:**

      % if residential_address == "me":
      ${ users[0].name.full(middle="full") }
      % elif residential_address == "them":
      ${ other_parties[0].name.full(middle="full") }
      % endif
  - Edit: mediation_option
    button: |
      **Mediation is required on all issues:**
      ${word(yesno( mediation_option == "mediation" ))}

      **Mediation is not required on all issues:**
      ${word(yesno( mediation_option == "no_mediation" ))}

      % if mediation_option == "no_mediation":
        % if mediation_reason['parent']:
        * One parent has all significant decision-making responsibility.
        % endif

        % if mediation_reason['history']:
        * There is a history of domestic violence between the parties.
        % endif

        % if mediation_reason['history']:
        * Other reason: ${ other_reasons } 
        % endif
      % endif
  - note: |
      <h4>Parenting Time</h4>

  - Edit: parenting_time
    button: |
      **Parenting time schedule:**
      ${ word(yesno(parenting_time)) }

  - Edit: users[0].initials
    button: |
      **Initials for each parent:**

      % if parenting_time:
      * ${ users[0].initials } will be ${ users[0].name } 

      * ${ other_parties[0].initials } will be ${ other_parties[0].name }
      % endif

  - Edit: week.revisit
    button: |
      **View weekly parenting time schedule**

      Use the edit button to the right to view/edit/delete weekly schedule.
  - Edit: parenting_holiday
    button: |
      **Parenting time during holidays:**

      % if parenting_holiday == "holiday_option1":
      * Holidays are put into two groups
      % elif parenting_holiday == "holiday_option2":
      * Each holiday is handled separately
      % elif parenting_holiday == "other":
      * I will decide holiday parenting time later.
      % endif

  - Edit: other_a1
    button: |
      **Other holidays:**

      Holiday | Group A | Group B
      ---- | ----- | -----
      Required | Thanksgiving Day | 4th of July
      Required | Christmas Eve | Labor Day
      Required | New Year's Eve | Christmas Day
      Other | ${ other_a1 if showifdef('other_a1_yes') and other_a1_yes else '' } | ${ other_b1 if showifdef('other_b1_yes') and other_b1_yes else '' }
      Other | ${ other_a2 if showifdef('other_a2_yes') and other_a2_yes else '' } | ${ other_b2 if showifdef('other_b2_yes') and other_b2_yes else '' }
      Other | ${ other_a3 if showifdef('other_a3_yes') and other_a3_yes else '' } | ${ other_b3 if showifdef('other_b3_yes') and other_b3_yes else '' }
      Other | ${ other_a4 if showifdef('other_a4_yes') and other_a4_yes else '' } | ${ other_b4 if showifdef('other_b4_yes') and other_b4_yes else '' }
      Other | ${ other_a5 if showifdef('other_a5_yes') and other_a5_yes else '' }| ${ other_b5 if showifdef('other_b5_yes') and other_b5_yes else '' }
    show if: parenting_holiday == "holiday_option1"

  - Edit: holiday_list
    button: |
      **Which holidays do you want to include in the parenting time schedule?**

      % for holiday in holiday_list.true_values():
      * ${ holiday }
      % endfor
    show if: parenting_holiday == "holiday_option2"

  - Edit: spring_break
    button: |
      **What parenting time schedule do you want for school spring break?**

      % if spring_break == "no":
      * No spring break schedule
      % elif spring_break == "split":
      * Split up spring break even/odd years
      % elif spring_break == "other":
      * Other: ${ spring_break_other }
      % endif

  - Edit: summer_break
    button: |
      **What parenting time schedule do you want for school summer break?**

      % if summer_break == "no":
      * No summer break schedule
      % elif summer_break == "split":
      * Each parent will have 2 non-consecutive weeks in the summer
      % elif summer_break == "other":
      * Other: ${ summer_break_other }
      % endif

  - Edit: winter_break
    button: |
      **What parenting time schedule do you want for school winter break?**

      % if winter_break == "no":
      * No spring break schedule
      % elif winter_break == "split":
      * Split up spring break even/odd years
      % elif winter_break == "other":
      * Other: ${ winter_break_other }
      % endif

  - Edit: transportation
    button: |
      **Transportation of children:**

      % if transportation == "me":
      * ${ users[0].name.full(middle="full") } will provide all transportation.
      % elif transportation == "them":
      * ${ other_parties[0].name.full(middle="full") } will provide all transportation.
      % elif transportation == "pick_up":
      * Each parent will pick up the children at the start of their parenting time.
      % elif transportation == "drop_off":
      * Each parent will drop off the children at the end of their parenting time.
      % elif transportation == "other":
      * Transportation will be handled as follows:
      
      ${ transportation_other } 
      % endif
  - Edit: exchange_location
    button: |
      **Exchange of children will take place at:**

      % if exchange_location == "homes":
      * Drop off and pick up of the children be at each parent's homes unless both parties in advance to a different meeting place.
      % elif exchange_location == "location":
      * Drop off and pick up will take place at a specific location:
      
      ${ exchange_address.address.on_one_line(bare=True) }
      % endif
  - Edit: additional_time
    button: |
      **Do you want to add more parenting time information?**
      ${word(yesno(additional_time))}
  - Edit: additional_time_details
    button: |
      **What else do you want to include about parenting time?**

      ${ additional_time_details }
    show if: additional_time
---
################ REVISIT TABLES ###################
id: children table
table: children.table
rows: children
columns:
  - Child name: |
      row_item.name.full()
  - Age: |
      row_item.age
  - Edit name: |
      action_button_html(url_action(row_item.attr_name("name.first")), label="Edit", icon="pencil-alt")
  - Edit age: |  
      action_button_html(url_action(row_item.attr_name("age")), label="Edit", icon="pencil-alt")
delete buttons: True
confirm: True
---
id: children review screen
continue button field: children.revisit
question: |
  Edit information about your children
subquestion: |
  ${ children.table }

  ${ children.add_action() }
---
id: week table
table: week.table
rows: week
columns:
  - Week: |
      row_item.name
delete buttons: True
confirm: True
---
id: week review screen
continue button field: week.revisit
question: |
  Edit 
subquestion: |
  
  % for cnt, current_week in enumerate(week):
    ${ current_week.name} | Mon | Tue | Wed | Thur | Fri | Sat | Sun
    -----|-----|-----|-----|-----|-----|-----|-----
    8am | ${ current_week.day[0].time_8_am } | ${ current_week.day[1].time_8_am } | ${ current_week.day[2].time_8_am } | ${ current_week.day[3].time_8_am } | ${ current_week.day[4].time_8_am } | ${ current_week.day[5].time_8_am } | ${ current_week.day[6].time_8_am } |
    9am | ${ current_week.day[0].time_9_am } | ${ current_week.day[1].time_9_am } | ${ current_week.day[2].time_9_am } | ${ current_week.day[3].time_9_am } | ${ current_week.day[4].time_9_am } | ${ current_week.day[5].time_9_am } | ${ current_week.day[6].time_9_am } |
    10am | ${ current_week.day[0].time_10_am } | ${ current_week.day[1].time_10_am } | ${ current_week.day[2].time_10_am } | ${ current_week.day[3].time_10_am } | ${ current_week.day[4].time_10_am } | ${ current_week.day[5].time_10_am } | ${ current_week.day[6].time_10_am } |
    11am | ${ current_week.day[0].time_11_am } | ${ current_week.day[1].time_11_am } | ${ current_week.day[2].time_11_am } | ${ current_week.day[3].time_11_am } | ${ current_week.day[4].time_11_am } | ${ current_week.day[5].time_11_am } | ${ current_week.day[6].time_11_am } |
    Noon | ${ current_week.day[0].time_noon } | ${ current_week.day[1].time_noon } | ${ current_week.day[2].time_noon } | ${ current_week.day[3].time_noon } | ${ current_week.day[4].time_noon } | ${ current_week.day[5].time_noon } | ${ current_week.day[6].time_noon } |
    1pm | ${ current_week.day[0].time_1_pm } | ${ current_week.day[1].time_1_pm } | ${ current_week.day[2].time_1_pm } | ${ current_week.day[3].time_1_pm } | ${ current_week.day[4].time_1_pm } | ${ current_week.day[5].time_1_pm } | ${ current_week.day[6].time_1_pm } |    
    2pm | ${ current_week.day[0].time_2_pm } | ${ current_week.day[1].time_2_pm } | ${ current_week.day[2].time_2_pm } | ${ current_week.day[3].time_2_pm } | ${ current_week.day[4].time_2_pm } | ${ current_week.day[5].time_2_pm } | ${ current_week.day[6].time_2_pm } |
    3pm | ${ current_week.day[0].time_3_pm } | ${ current_week.day[1].time_3_pm } | ${ current_week.day[2].time_3_pm } | ${ current_week.day[3].time_3_pm } | ${ current_week.day[4].time_3_pm } | ${ current_week.day[5].time_3_pm } | ${ current_week.day[6].time_3_pm } |
    4pm | ${ current_week.day[0].time_4_pm } | ${ current_week.day[1].time_4_pm } | ${ current_week.day[2].time_4_pm } | ${ current_week.day[3].time_4_pm } | ${ current_week.day[4].time_4_pm } | ${ current_week.day[5].time_4_pm } | ${ current_week.day[6].time_4_pm } |
    5pm | ${ current_week.day[0].time_5_pm } | ${ current_week.day[1].time_5_pm } | ${ current_week.day[2].time_5_pm } | ${ current_week.day[3].time_5_pm } | ${ current_week.day[4].time_5_pm } | ${ current_week.day[5].time_5_pm } | ${ current_week.day[6].time_5_pm } |
    6pm | ${ current_week.day[0].time_6_pm } | ${ current_week.day[1].time_6_pm } | ${ current_week.day[2].time_6_pm } | ${ current_week.day[3].time_6_pm } | ${ current_week.day[4].time_6_pm } | ${ current_week.day[5].time_6_pm } | ${ current_week.day[6].time_6_pm } |
    7pm | ${ current_week.day[0].time_7_pm } | ${ current_week.day[1].time_7_pm } | ${ current_week.day[2].time_7_pm } | ${ current_week.day[3].time_7_pm } | ${ current_week.day[4].time_7_pm } | ${ current_week.day[5].time_7_pm } | ${ current_week.day[6].time_7_pm } |
    8pm | ${ current_week.day[0].time_8_pm } | ${ current_week.day[1].time_8_pm } | ${ current_week.day[2].time_8_pm } | ${ current_week.day[3].time_8_pm } | ${ current_week.day[4].time_8_pm } | ${ current_week.day[5].time_8_pm } | ${ current_week.day[6].time_8_pm } |
    9pm | ${ current_week.day[0].time_9_pm } | ${ current_week.day[1].time_9_pm } | ${ current_week.day[2].time_9_pm } | ${ current_week.day[3].time_9_pm } | ${ current_week.day[4].time_9_pm } | ${ current_week.day[5].time_9_pm } | ${ current_week.day[6].time_9_pm } |
    Over | ${ current_week.day[0].time_over } | ${ current_week.day[1].time_over } | ${ current_week.day[2].time_over } | ${ current_week.day[3].time_over } | ${ current_week.day[4].time_over } | ${ current_week.day[5].time_over } | ${ current_week.day[6].time_over } |
    | ${ action_button_html(url_action('week[' + str(cnt) + '].day[0].time_8_am'), label="Edit", icon="pencil-alt") } | ${ action_button_html(url_action('week[' + str(cnt) + '].day[1].time_8_am'), label="Edit", icon="pencil-alt") } | ${ action_button_html(url_action('week[' + str(cnt) + '].day[2].time_8_am'), label="Edit", icon="pencil-alt") } | ${ action_button_html(url_action('week[' + str(cnt) + '].day[3].time_8_am'), label="Edit", icon="pencil-alt") } | ${ action_button_html(url_action('week[' + str(cnt) + '].day[4].time_8_am'), label="Edit", icon="pencil-alt") } | ${ action_button_html(url_action('week[' + str(cnt) + '].day[5].time_8_am'), label="Edit", icon="pencil-alt") } | ${ action_button_html(url_action('week[' + str(cnt) + '].day[6].time_8_am'), label="Edit", icon="pencil-alt") } |
    
  % endfor
  % if week.number_gathered() < 4:
  ${ week.add_action() }
  % endif

  If you need to delete a week from the schedule:
  ${ week.table }
---
objects:
  - al_user_bundle: ALDocumentBundle.using(elements=[instructions, parenting_plan_bundle], filename="completed_parenting_plan.pdf", title="All forms", enabled=True)
---
objects:
  - parenting_plan_bundle: ALDocumentBundle.using(title="Parenting Plan", filename="parenting_plan.pdf", enabled=True, elements=[
        parenting_plan,
        additional_parenting_time,
        additional_children,
      ])
---
objects:
  - instructions: ALDocument.using(title="Instructions", filename="instructions.pdf", enabled=True, has_addendum=False)
  - parenting_plan: ALDocument.using(title="Parenting Plan", filename="parenting_plan.pdf", enabled=True, has_addendum=False)
---
attachment:
  - name: instructions
    variable name: instructions[i]
    filename: instructions
    pdf template file: instructions.pdf
---
attachment:
  - name: parenting_plan
    variable name: parenting_plan[i]
    filename: parenting_plan
    pdf template file: parenting_plan.pdf
    skip undefined: True
    editable: False
    fields:
      - "plan_petitioner": ${ plan_type == 'petitioner' }
      - "plan_respondent": ${ plan_type == 'respondent' }
      - "plan_agreed": ${ plan_type == 'both' }
      #- "plan_court": ${ plan_type == 'court' }
      - "county_name": ${ case_county }
      - "case_number": ${ case_number }
      - "petitioner_name": |
          % if party_label == 'petitioner':
          ${ users[0].name.full(middle='full') }
          % else:
          ${ other_parties[0].name.full(middle='full') }
          % endif
      - "respondent_name": |
          % if party_label == 'respondent':
          ${ users[0].name.full(middle='full') }
          % else:
          ${ other_parties[0].name.full(middle='full') }
          % endif
      - "petitioner_address": |
          % if not hide_contact:
            % if party_label == 'petitioner':
            ${ users[0].address.on_one_line(bare=True) }
            % else:
            ${ other_parties[0].address.on_one_line(bare=True) }
            % endif
          % endif
      - "petitioner_phone": |
            % if party_label == 'petitioner':
            ${ phone_number_formatted(users[0].phone_number) }
            % else:
            ${ phone_number_formatted(other_parties[0].phone_number) }
            % endif
      - "petitioner_email": |
          % if party_label == 'petitioner':
          ${ users[0].email }
          % else:
          ${ other_parties[0].email }
          % endif
      - "petitioner_employed_yes": |
          % if party_label == 'petitioner':
          ${ has_employer }
          % else:
          ${ has_other_employer }
          % endif
      - "petitioner_employed_no": |
          % if party_label == 'petitioner':
          ${ not has_employer }
          % else:
          ${ not has_other_employer }
          % endif
      - "petitioner_employer_name": |
          % if party_label == 'petitioner':
            % if has_employer:
            ${ employer.name.full(middle="full") }
            % endif
          % else:
            % if has_other_employer:
            ${ other_employer.name.full(middle="full") }
            % endif
          % endif
      - "petitioner_employer_address": |
          % if party_label == 'petitioner':
            % if has_employer:
            ${ employer.address.on_one_line(bare=True) }
            % endif
          % else:
            % if has_other_employer:
            ${ other_employer.address.on_one_line(bare=True) }
            % endif
          % endif
      - "petitioner_employer_phone": |
          % if party_label == 'petitioner':
            % if has_employer:
            ${ phone_number_formatted(employer.phone_number) }
            % endif
          % else:
            % if has_other_employer:
            ${ phone_number_formatted(other_employer.phone_number) }
            % endif
          % endif
      - "respondent_address": |
          % if party_label == 'respondent':
            % if not hide_contact:
            ${ users[0].address.on_one_line(bare=True) }
            % endif
          % else:
            % if has_other_address:
            ${ other_parties[0].address.on_one_line(bare=True) }
            % endif
          % endif
      - "respondent_phone": |
          % if party_label == 'respondent':
          ${ phone_number_formatted(users[0].phone_number) }
          % else:
          ${ phone_number_formatted(other_parties[0].phone_number) }
          % endif
      - "respondent_email": |
          % if party_label == 'respondent':
          ${ users[0].email }
          % else:
          ${ other_parties[0].email }
          % endif
      - "respondent_employed_yes": |
          % if party_label == 'respondent':
          ${ has_employer }
          % else:
          ${ has_other_employer }
          % endif
      - "respondent_employed_no": |
          % if party_label == 'respondent':
          ${ not has_employer }
          % else:
          ${ not has_other_employer }
          % endif
      - "respondent_employer_name": |
          % if party_label == 'respondent':
            % if has_employer:
            ${ employer.name.full(middle="full") }
            % endif
          % else:
            % if has_other_employer:
            ${ other_employer.name.full(middle="full") }
            % endif
          % endif
      - "respondent_employer_address": |
          % if party_label == 'respondent':
            % if has_employer:
            ${ employer.address.on_one_line(bare=True) }
            % endif
          % else:
            % if has_other_employer:
            ${ other_employer.address.on_one_line(bare=True) }
            % endif
          % endif
      - "respondent_employer_phone": |
          % if party_label == 'respondent':
            % if has_employer:
            ${ phone_number_formatted(employer.phone_number) }
            % endif
          % else:
            % if has_other_employer:
            ${ phone_number_formatted(other_employer.phone_number) }
            % endif
          % endif
      - "child_name1": ${ children[0].name.full() }
      - "child_age1": ${ children[0].age }
      - "child_name2": |
          % if children.number_gathered() >= 2:
          ${ children[1].name.full() }
          % endif
      - "child_age2": |
          % if children.number_gathered() >= 2:
          ${ children[1].age }
          % endif
      - "child_name3": |
          % if children.number_gathered() >= 3:
          ${ children[2].name.full() }
          % endif
      - "child_age3": |
          % if children.number_gathered() >= 3:
          ${ children[2].age }
          % endif
      - "additional_children_yes": ${ children.number_gathered() > 3 }
      # 6. SIGNIFICANT DECISION MAKING
      - "6A_both_parents": ${ eduction_decisions == "both" }
      - "6A_petitioner_only": |
          % if party_label == 'petitioner':
          ${ eduction_decisions == "me" }
          % else:
          ${ eduction_decisions == "them" }
          % endif
      - "6A_respondent_only": |
          % if party_label == 'respondent':
          ${ eduction_decisions == "me" }
          % else:
          ${ eduction_decisions == "them" }
          % endif
      - "6B_both_parents": ${ health_decisions == "both" }
      - "6B_petitioner_only": |
          % if party_label == 'petitioner':
          ${ health_decisions == "me" }
          % else:
          ${ health_decisions == "them" }
          % endif
      - "6B_respondent_only": |
          % if party_label == 'respondent':
          ${ health_decisions == "me" }
          % else:
          ${ health_decisions == "them" }
          % endif
      - "6C_both_parents": ${ religious_decisions == "both" }
      - "6C_petitioner_only": |
          % if party_label == 'petitioner':
          ${ religious_decisions == "me" }
          % else:
          ${ religious_decisions == "them" }
          % endif
      - "6C_respondent_only": |
          % if party_label == 'respondent':
          ${ religious_decisions == "me" }
          % else:
          ${ religious_decisions == "them" }
          % endif
      - "6D_both_parents": ${ activities_decisions == "both" }
      - "6D_petitioner_only": |
          % if party_label == 'petitioner':
          ${ activities_decisions == "me" }
          % else:
          ${ activities_decisions == "them" }
          % endif
      - "6D_respondent_only": |
          % if party_label == 'respondent':
          ${ activities_decisions == "me" }
          % else:
          ${ activities_decisions == "them" }
          % endif
      
      # WEEKLY PARENTING TIME SCHEDULE
      - "petitioner_initals": |
          % if party_label == 'petitioner':
          ${ users[0].initials }
          % else:
          ${ other_parties[0].initials }
          % endif
      - "respondent_initals": | 
          % if party_label == 'respondent':
          ${ users[0].initials }
          % else:
          ${ other_parties[0].initials }
          % endif
      - "week_1_date": |
          % if week.number_gathered() > 0:
            ${ format_date(schedule_start, "MM/dd/YYYY") }
          % endif
      # Week 1 - Monday
      - "week1_mon_8am": |
          % if week.number_gathered() > 0:
            ${ week[0].day[0].time_8_am }
          % endif
      - "week1_mon_9am": |
          % if week.number_gathered() > 0:
            ${ week[0].day[0].time_9_am }
          % endif
      - "week1_mon_10am": |
          % if week.number_gathered() > 0:
            ${ week[0].day[0].time_10_am }
          % endif
      - "week1_mon_11am": |
          % if week.number_gathered() > 0:
            ${ week[0].day[0].time_11_am }
          % endif
      - "week1_mon_noon": |
          % if week.number_gathered() > 0:
            ${ week[0].day[0].time_noon }
          % endif
      - "week1_mon_1pm": |
          % if week.number_gathered() > 0:
            ${ week[0].day[0].time_1_pm }
          % endif
      - "week1_mon_2pm": |
          % if week.number_gathered() > 0:
            ${ week[0].day[0].time_2_pm }
          % endif
      - "week1_mon_3pm": |
          % if week.number_gathered() > 0:
            ${ week[0].day[0].time_3_pm }
          % endif
      - "week1_mon_4pm": |
          % if week.number_gathered() > 0:
            ${ week[0].day[0].time_4_pm }
          % endif
      - "week1_mon_5pm": |
          % if week.number_gathered() > 0:
            ${ week[0].day[0].time_5_pm }
          % endif
      - "week1_mon_6pm": |
          % if week.number_gathered() > 0:
            ${ week[0].day[0].time_6_pm }
          % endif
      - "week1_mon_7pm": |
          % if week.number_gathered() > 0:
            ${ week[0].day[0].time_7_pm }
          % endif
      - "week1_mon_8pm": |
          % if week.number_gathered() > 0:
            ${ week[0].day[0].time_8_pm }
          % endif
      - "week1_mon_9pm": |
          % if week.number_gathered() > 0:
            ${ week[0].day[0].time_9_pm }
          % endif
      - "week1_mon_over": |
          % if week.number_gathered() > 0:
            ${ week[0].day[0].time_over }
          % endif
      # Week 1 - Tuesday
      - "week1_tues_8am": |
          % if week.number_gathered() > 0:
            ${ week[0].day[1].time_8_am }
          % endif
      - "week1_tues_9am": |
          % if week.number_gathered() > 0:
            ${ week[0].day[1].time_9_am }
          % endif
      - "week1_tues_10am": |
          % if week.number_gathered() > 0:
            ${ week[0].day[1].time_10_am }
          % endif
      - "week1_tues_11am": |
          % if week.number_gathered() > 0:
            ${ week[0].day[1].time_11_am }
          % endif
      - "week1_tues_noon": |
          % if week.number_gathered() > 0:
            ${ week[0].day[1].time_noon }
          % endif
      - "week1_tues_1pm": |
          % if week.number_gathered() > 0:
            ${ week[0].day[1].time_1_pm }
          % endif
      - "week1_tues_2pm": |
          % if week.number_gathered() > 0:
            ${ week[0].day[1].time_2_pm }
          % endif
      - "week1_tues_3pm": |
          % if week.number_gathered() > 0:
            ${ week[0].day[1].time_3_pm }
          % endif
      - "week1_tues_4pm": |
          % if week.number_gathered() > 0:
            ${ week[0].day[1].time_4_pm }
          % endif
      - "week1_tues_5pm": |
          % if week.number_gathered() > 0:
            ${ week[0].day[1].time_5_pm }
          % endif
      - "week1_tues_6pm": |
          % if week.number_gathered() > 0:
            ${ week[0].day[1].time_6_pm }
          % endif
      - "week1_tues_7pm": |
          % if week.number_gathered() > 0:
            ${ week[0].day[1].time_7_pm }
          % endif
      - "week1_tues_8pm": |
          % if week.number_gathered() > 0:
            ${ week[0].day[1].time_8_pm }
          % endif
      - "week1_tues_9pm": |
          % if week.number_gathered() > 0:
            ${ week[0].day[1].time_9_pm }
          % endif
      - "week1_tues_over": |
          % if week.number_gathered() > 0:
            ${ week[0].day[1].time_over }
          % endif
      # Week 1 - Wednesday
      - "week1_wed_8am": |
          % if week.number_gathered() > 0:
            ${ week[0].day[2].time_8_am }
          % endif
      - "week1_wed_9am": |
          % if week.number_gathered() > 0:
            ${ week[0].day[2].time_9_am }
          % endif
      - "week1_wed_10am": |
          % if week.number_gathered() > 0:
            ${ week[0].day[2].time_10_am }
          % endif
      - "week1_wed_11am": |
          % if week.number_gathered() > 0:
            ${ week[0].day[2].time_11_am }
          % endif
      - "week1_wed_noon": |
          % if week.number_gathered() > 0:
            ${ week[0].day[2].time_noon }
          % endif
      - "week1_wed_1pm": |
          % if week.number_gathered() > 0:
            ${ week[0].day[2].time_1_pm }
          % endif
      - "week1_wed_2pm": |
          % if week.number_gathered() > 0:
            ${ week[0].day[2].time_2_pm }
          % endif
      - "week1_wed_3pm": |
          % if week.number_gathered() > 0:
            ${ week[0].day[2].time_3_pm }
          % endif
      - "week1_wed_4pm": |
          % if week.number_gathered() > 0:
            ${ week[0].day[2].time_4_pm }
          % endif
      - "week1_wed_5pm": |
          % if week.number_gathered() > 0:
            ${ week[0].day[2].time_5_pm }
          % endif
      - "week1_wed_6pm": |
          % if week.number_gathered() > 0:
            ${ week[0].day[2].time_6_pm }
          % endif
      - "week1_wed_7pm": |
          % if week.number_gathered() > 0:
            ${ week[0].day[2].time_7_pm }
          % endif
      - "week1_wed_8pm": |
          % if week.number_gathered() > 0:
            ${ week[0].day[2].time_8_pm }
          % endif
      - "week1_wed_9pm": |
          % if week.number_gathered() > 0:
            ${ week[0].day[2].time_9_pm }
          % endif
      - "week1_wed_over": |
          % if week.number_gathered() > 0:
            ${ week[0].day[2].time_over }
          % endif
      # Week 1 - Thursday  
      - "week1_thurs_8am": |
          % if week.number_gathered() > 0:
            ${ week[0].day[3].time_8_am }
          % endif
      - "week1_thurs_9am": |
          % if week.number_gathered() > 0:
            ${ week[0].day[3].time_9_am }
          % endif
      - "week1_thurs_10am": |
          % if week.number_gathered() > 0:
            ${ week[0].day[3].time_10_am }
          % endif
      - "week1_thurs_11am": |
          % if week.number_gathered() > 0:
            ${ week[0].day[3].time_11_am }
          % endif
      - "week1_thurs_noon": |
          % if week.number_gathered() > 0:
            ${ week[0].day[3].time_noon }
          % endif
      - "week1_thurs_1pm": |
          % if week.number_gathered() > 0:
            ${ week[0].day[3].time_1_pm }
          % endif
      - "week1_thurs_2pm": |
          % if week.number_gathered() > 0:
            ${ week[0].day[3].time_2_pm }
          % endif
      - "week1_thurs_3pm": |
          % if week.number_gathered() > 0:
            ${ week[0].day[3].time_3_pm }
          % endif
      - "week1_thurs_4pm": |
          % if week.number_gathered() > 0:
            ${ week[0].day[3].time_4_pm }
          % endif
      - "week1_thurs_5pm": |
          % if week.number_gathered() > 0:
            ${ week[0].day[3].time_5_pm }
          % endif
      - "week1_thurs_6pm": |
          % if week.number_gathered() > 0:
            ${ week[0].day[3].time_6_pm }
          % endif
      - "week1_thurs_7pm": |
          % if week.number_gathered() > 0:
            ${ week[0].day[3].time_7_pm }
          % endif
      - "week1_thurs_8pm": |
          % if week.number_gathered() > 0:
            ${ week[0].day[3].time_8_pm }
          % endif
      - "week1_thurs_9pm": |
          % if week.number_gathered() > 0:
            ${ week[0].day[3].time_9_pm }
          % endif
      - "week1_thurs_over": |
          % if week.number_gathered() > 0:
            ${ week[0].day[3].time_over }
          % endif
      # Week 1 - Friday
      - "week1_fri_8am": |
          % if week.number_gathered() > 0:
            ${ week[0].day[4].time_8_am }
          % endif
      - "week1_fri_9am": |
          % if week.number_gathered() > 0:
            ${ week[0].day[4].time_9_am }
          % endif
      - "week1_fri_10am": |
          % if week.number_gathered() > 0:
            ${ week[0].day[4].time_10_am }
          % endif
      - "week1_fri_11am": |
          % if week.number_gathered() > 0:
            ${ week[0].day[4].time_11_am }
          % endif
      - "week1_fri_noon": |
          % if week.number_gathered() > 0:
            ${ week[0].day[4].time_noon }
          % endif
      - "week1_fri_1pm": |
          % if week.number_gathered() > 0:
            ${ week[0].day[4].time_1_pm }
          % endif
      - "week1_fri_2pm": |
          % if week.number_gathered() > 0:
            ${ week[0].day[4].time_2_pm }
          % endif
      - "week1_fri_3pm": |
          % if week.number_gathered() > 0:
            ${ week[0].day[4].time_3_pm }
          % endif
      - "week1_fri_4pm": |
          % if week.number_gathered() > 0:
            ${ week[0].day[4].time_4_pm }
          % endif
      - "week1_fri_5pm": |
          % if week.number_gathered() > 0:
            ${ week[0].day[4].time_5_pm }
          % endif
      - "week1_fri_6pm": |
          % if week.number_gathered() > 0:
            ${ week[0].day[4].time_6_pm }
          % endif
      - "week1_fri_7pm": |
          % if week.number_gathered() > 0:
            ${ week[0].day[4].time_7_pm }
          % endif
      - "week1_fri_8pm": |
          % if week.number_gathered() > 0:
            ${ week[0].day[4].time_8_pm }
          % endif
      - "week1_fri_9pm": |
          % if week.number_gathered() > 0:
            ${ week[0].day[4].time_9_pm }
          % endif
      - "week1_fri_over": |
          % if week.number_gathered() > 0:
            ${ week[0].day[4].time_over }
          % endif
      # Week 1 - Saturday
      - "week1_sat_8am": |
          % if week.number_gathered() > 0:
            ${ week[0].day[5].time_8_am }
          % endif
      - "week1_sat_9am": |
          % if week.number_gathered() > 0:
            ${ week[0].day[5].time_9_am }
          % endif
      - "week1_sat_10am": |
          % if week.number_gathered() > 0:
            ${ week[0].day[5].time_10_am }
          % endif
      - "week1_sat_11am": |
          % if week.number_gathered() > 0:
            ${ week[0].day[5].time_11_am }
          % endif
      - "week1_sat_noon": |
          % if week.number_gathered() > 0:
            ${ week[0].day[5].time_noon }
          % endif
      - "week1_sat_1pm": |
          % if week.number_gathered() > 0:
            ${ week[0].day[5].time_1_pm }
          % endif
      - "week1_sat_2pm": |
          % if week.number_gathered() > 0:
            ${ week[0].day[5].time_2_pm }
          % endif
      - "week1_sat_3pm": |
          % if week.number_gathered() > 0:
            ${ week[0].day[5].time_3_pm }
          % endif
      - "week1_sat_4pm": |
          % if week.number_gathered() > 0:
            ${ week[0].day[5].time_4_pm }
          % endif
      - "week1_sat_5pm": |
          % if week.number_gathered() > 0:
            ${ week[0].day[5].time_5_pm }
          % endif
      - "week1_sat_6pm": |
          % if week.number_gathered() > 0:
            ${ week[0].day[5].time_6_pm }
          % endif
      - "week1_sat_7pm": |
          % if week.number_gathered() > 0:
            ${ week[0].day[5].time_7_pm }
          % endif
      - "week1_sat_8pm": |
          % if week.number_gathered() > 0:
            ${ week[0].day[5].time_8_pm }
          % endif
      - "week1_sat_9pm": |
          % if week.number_gathered() > 0:
            ${ week[0].day[5].time_9_pm }
          % endif
      - "week1_sat_over": |
          % if week.number_gathered() > 0:
            ${ week[0].day[5].time_over }
          % endif
      # Week 1 - Sunday
      - "week1_sun_8am": |
          % if week.number_gathered() > 0:
            ${ week[0].day[6].time_8_am }
          % endif
      - "week1_sun_9am": |
          % if week.number_gathered() > 0:
            ${ week[0].day[6].time_9_am }
          % endif
      - "week1_sun_10am": |
          % if week.number_gathered() > 0:
            ${ week[0].day[6].time_10_am }
          % endif
      - "week1_sun_11am": |
          % if week.number_gathered() > 0:
            ${ week[0].day[6].time_11_am }
          % endif
      - "week1_sun_noon": |
          % if week.number_gathered() > 0:
            ${ week[0].day[6].time_noon }
          % endif
      - "week1_sun_1pm": |
          % if week.number_gathered() > 0:
            ${ week[0].day[6].time_1_pm }
          % endif
      - "week1_sun_2pm": |
          % if week.number_gathered() > 0:
            ${ week[0].day[6].time_2_pm }
          % endif
      - "week1_sun_3pm": |
          % if week.number_gathered() > 0:
            ${ week[0].day[6].time_3_pm }
          % endif
      - "week1_sun_4pm": |
          % if week.number_gathered() > 0:
            ${ week[0].day[6].time_4_pm }
          % endif
      - "week1_sun_5pm": |
          % if week.number_gathered() > 0:
            ${ week[0].day[6].time_5_pm }
          % endif
      - "week1_sun_6pm": |
          % if week.number_gathered() > 0:
            ${ week[0].day[6].time_6_pm }
          % endif
      - "week1_sun_7pm": |
          % if week.number_gathered() > 0:
            ${ week[0].day[6].time_7_pm }
          % endif
      - "week1_sun_8pm": |
          % if week.number_gathered() > 0:
            ${ week[0].day[6].time_8_pm }
          % endif
      - "week1_sun_9pm": |
          % if week.number_gathered() > 0:
            ${ week[0].day[6].time_9_pm }
          % endif
      - "week1_sun_over": |
          % if week.number_gathered() > 0:
            ${ week[0].day[6].time_over }
          % endif
      # Week 1 - Monday
      - "week2_mon_8am": |
          % if week.number_gathered() >= 1:
            ${ week[1].day[0].time_8_am }
          % endif
      - "week2_mon_9am": |
          % if week.number_gathered() >= 1:
            ${ week[1].day[0].time_9_am }
          % endif
      - "week2_mon_10am": |
          % if week.number_gathered() >= 1:
            ${ week[1].day[0].time_10_am }
          % endif
      - "week2_mon_11am": |
          % if week.number_gathered() >= 1:
            ${ week[1].day[0].time_11_am }
          % endif
      - "week2_mon_noon": |
          % if week.number_gathered() >= 1:
            ${ week[1].day[0].time_noon }
          % endif
      - "week2_mon_1pm": |
          % if week.number_gathered() >= 1:
            ${ week[1].day[0].time_1_pm }
          % endif
      - "week2_mon_2pm": |
          % if week.number_gathered() >= 1:
            ${ week[1].day[0].time_2_pm }
          % endif
      - "week2_mon_3pm": |
          % if week.number_gathered() >= 1:
            ${ week[1].day[0].time_3_pm }
          % endif
      - "week2_mon_4pm": |
          % if week.number_gathered() >= 1:
            ${ week[1].day[0].time_4_pm }
          % endif
      - "week2_mon_5pm": |
          % if week.number_gathered() >= 1:
            ${ week[1].day[0].time_5_pm }
          % endif
      - "week2_mon_6pm": |
          % if week.number_gathered() >= 1:
            ${ week[1].day[0].time_6_pm }
          % endif
      - "week2_mon_7pm": |
          % if week.number_gathered() >= 1:
            ${ week[1].day[0].time_7_pm }
          % endif
      - "week2_mon_8pm": |
          % if week.number_gathered() >= 1:
            ${ week[1].day[0].time_8_pm }
          % endif
      - "week2_mon_9pm": |
          % if week.number_gathered() >= 1:
            ${ week[1].day[0].time_9_pm }
          % endif
      - "week2_mon_over": |
          % if week.number_gathered() >= 1:
            ${ week[1].day[0].time_over }
          % endif
      # Week 1 - Tuesday
      - "week2_tues_8am": |
          % if week.number_gathered() >= 1:
            ${ week[1].day[1].time_8_am }
          % endif
      - "week2_tues_9am": |
          % if week.number_gathered() >= 1:
            ${ week[1].day[1].time_9_am }
          % endif
      - "week2_tues_10am": |
          % if week.number_gathered() >= 1:
            ${ week[1].day[1].time_10_am }
          % endif
      - "week2_tues_11am": |
          % if week.number_gathered() >= 1:
            ${ week[1].day[1].time_11_am }
          % endif
      - "week2_tues_noon": |
          % if week.number_gathered() >= 1:
            ${ week[1].day[1].time_noon }
          % endif
      - "week2_tues_1pm": |
          % if week.number_gathered() >= 1:
            ${ week[1].day[1].time_1_pm }
          % endif
      - "week2_tues_2pm": |
          % if week.number_gathered() >= 1:
            ${ week[1].day[1].time_2_pm }
          % endif
      - "week2_tues_3pm": |
          % if week.number_gathered() >= 1:
            ${ week[1].day[1].time_3_pm }
          % endif
      - "week2_tues_4pm": |
          % if week.number_gathered() >= 1:
            ${ week[1].day[1].time_4_pm }
          % endif
      - "week2_tues_5pm": |
          % if week.number_gathered() >= 1:
            ${ week[1].day[1].time_5_pm }
          % endif
      - "week2_tues_6pm": |
          % if week.number_gathered() >= 1:
            ${ week[1].day[1].time_6_pm }
          % endif
      - "week2_tues_7pm": |
          % if week.number_gathered() >= 1:
            ${ week[1].day[1].time_7_pm }
          % endif
      - "week2_tues_8pm": |
          % if week.number_gathered() >= 1:
            ${ week[1].day[1].time_8_pm }
          % endif
      - "week2_tues_9pm": |
          % if week.number_gathered() >= 1:
            ${ week[1].day[1].time_9_pm }
          % endif
      - "week2_tues_over": |
          % if week.number_gathered() >= 1:
            ${ week[1].day[1].time_over }
          % endif
      # Week 1 - Wednesday
      - "week2_wed_8am": |
          % if week.number_gathered() >= 1:
            ${ week[1].day[2].time_8_am }
          % endif
      - "week2_wed_9am": |
          % if week.number_gathered() >= 1:
            ${ week[1].day[2].time_9_am }
          % endif
      - "week2_wed_10am": |
          % if week.number_gathered() >= 1:
            ${ week[1].day[2].time_10_am }
          % endif
      - "week2_wed_11am": |
          % if week.number_gathered() >= 1:
            ${ week[1].day[2].time_11_am }
          % endif
      - "week2_wed_noon": |
          % if week.number_gathered() >= 1:
            ${ week[1].day[2].time_noon }
          % endif
      - "week2_wed_1pm": |
          % if week.number_gathered() >= 1:
            ${ week[1].day[2].time_1_pm }
          % endif
      - "week2_wed_2pm": |
          % if week.number_gathered() >= 1:
            ${ week[1].day[2].time_2_pm }
          % endif
      - "week2_wed_3pm": |
          % if week.number_gathered() >= 1:
            ${ week[1].day[2].time_3_pm }
          % endif
      - "week2_wed_4pm": |
          % if week.number_gathered() >= 1:
            ${ week[1].day[2].time_4_pm }
          % endif
      - "week2_wed_5pm": |
          % if week.number_gathered() >= 1:
            ${ week[1].day[2].time_5_pm }
          % endif
      - "week2_wed_6pm": |
          % if week.number_gathered() >= 1:
            ${ week[1].day[2].time_6_pm }
          % endif
      - "week2_wed_7pm": |
          % if week.number_gathered() >= 1:
            ${ week[1].day[2].time_7_pm }
          % endif
      - "week2_wed_8pm": |
          % if week.number_gathered() >= 1:
            ${ week[1].day[2].time_8_pm }
          % endif
      - "week2_wed_9pm": |
          % if week.number_gathered() >= 1:
            ${ week[1].day[2].time_9_pm }
          % endif
      - "week2_wed_over": |
          % if week.number_gathered() >= 1:
            ${ week[1].day[2].time_over }
          % endif
      # Week 1 - Thursday  
      - "week2_thurs_8am": |
          % if week.number_gathered() >= 1:
            ${ week[1].day[3].time_8_am }
          % endif
      - "week2_thurs_9am": |
          % if week.number_gathered() >= 1:
            ${ week[1].day[3].time_9_am }
          % endif
      - "week2_thurs_10am": |
          % if week.number_gathered() >= 1:
            ${ week[1].day[3].time_10_am }
          % endif
      - "week2_thurs_11am": |
          % if week.number_gathered() >= 1:
            ${ week[1].day[3].time_11_am }
          % endif
      - "week2_thurs_noon": |
          % if week.number_gathered() >= 1:
            ${ week[1].day[3].time_noon }
          % endif
      - "week2_thurs_1pm": |
          % if week.number_gathered() >= 1:
            ${ week[1].day[3].time_1_pm }
          % endif
      - "week2_thurs_2pm": |
          % if week.number_gathered() >= 1:
            ${ week[1].day[3].time_2_pm }
          % endif
      - "week2_thurs_3pm": |
          % if week.number_gathered() >= 1:
            ${ week[1].day[3].time_3_pm }
          % endif
      - "week2_thurs_4pm": |
          % if week.number_gathered() >= 1:
            ${ week[1].day[3].time_4_pm }
          % endif
      - "week2_thurs_5pm": |
          % if week.number_gathered() >= 1:
            ${ week[1].day[3].time_5_pm }
          % endif
      - "week2_thurs_6pm": |
          % if week.number_gathered() >= 1:
            ${ week[1].day[3].time_6_pm }
          % endif
      - "week2_thurs_7pm": |
          % if week.number_gathered() >= 1:
            ${ week[1].day[3].time_7_pm }
          % endif
      - "week2_thurs_8pm": |
          % if week.number_gathered() >= 1:
            ${ week[1].day[3].time_8_pm }
          % endif
      - "week2_thurs_9pm": |
          % if week.number_gathered() >= 1:
            ${ week[1].day[3].time_9_pm }
          % endif
      - "week2_thurs_over": |
          % if week.number_gathered() >= 1:
            ${ week[1].day[3].time_over }
          % endif
      # Week 1 - Friday
      - "week2_fri_8am": |
          % if week.number_gathered() >= 1:
            ${ week[1].day[4].time_8_am }
          % endif
      - "week2_fri_9am": |
          % if week.number_gathered() >= 1:
            ${ week[1].day[4].time_9_am }
          % endif
      - "week2_fri_10am": |
          % if week.number_gathered() >= 1:
            ${ week[1].day[4].time_10_am }
          % endif
      - "week2_fri_11am": |
          % if week.number_gathered() >= 1:
            ${ week[1].day[4].time_11_am }
          % endif
      - "week2_fri_noon": |
          % if week.number_gathered() >= 1:
            ${ week[1].day[4].time_noon }
          % endif
      - "week2_fri_1pm": |
          % if week.number_gathered() >= 1:
            ${ week[1].day[4].time_1_pm }
          % endif
      - "week2_fri_2pm": |
          % if week.number_gathered() >= 1:
            ${ week[1].day[4].time_2_pm }
          % endif
      - "week2_fri_3pm": |
          % if week.number_gathered() >= 1:
            ${ week[1].day[4].time_3_pm }
          % endif
      - "week2_fri_4pm": |
          % if week.number_gathered() >= 1:
            ${ week[1].day[4].time_4_pm }
          % endif
      - "week2_fri_5pm": |
          % if week.number_gathered() >= 1:
            ${ week[1].day[4].time_5_pm }
          % endif
      - "week2_fri_6pm": |
          % if week.number_gathered() >= 1:
            ${ week[1].day[4].time_6_pm }
          % endif
      - "week2_fri_7pm": |
          % if week.number_gathered() >= 1:
            ${ week[1].day[4].time_7_pm }
          % endif
      - "week2_fri_8pm": |
          % if week.number_gathered() >= 1:
            ${ week[1].day[4].time_8_pm }
          % endif
      - "week2_fri_9pm": |
          % if week.number_gathered() >= 1:
            ${ week[1].day[4].time_9_pm }
          % endif
      - "week2_fri_over": |
          % if week.number_gathered() >= 1:
            ${ week[1].day[4].time_over }
          % endif
      # Week 1 - Saturday
      - "week2_sat_8am": |
          % if week.number_gathered() >= 1:
            ${ week[1].day[5].time_8_am }
          % endif
      - "week2_sat_9am": |
          % if week.number_gathered() >= 1:
            ${ week[1].day[5].time_9_am }
          % endif
      - "week2_sat_10am": |
          % if week.number_gathered() >= 1:
            ${ week[1].day[5].time_10_am }
          % endif
      - "week2_sat_11am": |
          % if week.number_gathered() >= 1:
            ${ week[1].day[5].time_11_am }
          % endif
      - "week2_sat_noon": |
          % if week.number_gathered() >= 1:
            ${ week[1].day[5].time_noon }
          % endif
      - "week2_sat_1pm": |
          % if week.number_gathered() >= 1:
            ${ week[1].day[5].time_1_pm }
          % endif
      - "week2_sat_2pm": |
          % if week.number_gathered() >= 1:
            ${ week[1].day[5].time_2_pm }
          % endif
      - "week2_sat_3pm": |
          % if week.number_gathered() >= 1:
            ${ week[1].day[5].time_3_pm }
          % endif
      - "week2_sat_4pm": |
          % if week.number_gathered() >= 1:
            ${ week[1].day[5].time_4_pm }
          % endif
      - "week2_sat_5pm": |
          % if week.number_gathered() >= 1:
            ${ week[1].day[5].time_5_pm }
          % endif
      - "week2_sat_6pm": |
          % if week.number_gathered() >= 1:
            ${ week[1].day[5].time_6_pm }
          % endif
      - "week2_sat_7pm": |
          % if week.number_gathered() >= 1:
            ${ week[1].day[5].time_7_pm }
          % endif
      - "week2_sat_8pm": |
          % if week.number_gathered() >= 1:
            ${ week[1].day[5].time_8_pm }
          % endif
      - "week2_sat_9pm": |
          % if week.number_gathered() >= 1:
            ${ week[1].day[5].time_9_pm }
          % endif
      - "week2_sat_over": |
          % if week.number_gathered() >= 1:
            ${ week[1].day[5].time_over }
          % endif
      # Week 1 - Sunday
      - "week2_sun_8am": |
          % if week.number_gathered() >= 1:
            ${ week[1].day[6].time_8_am }
          % endif
      - "week2_sun_9am": |
          % if week.number_gathered() >= 1:
            ${ week[1].day[6].time_9_am }
          % endif
      - "week2_sun_10am": |
          % if week.number_gathered() >= 1:
            ${ week[1].day[6].time_10_am }
          % endif
      - "week2_sun_11am": |
          % if week.number_gathered() >= 1:
            ${ week[1].day[6].time_11_am }
          % endif
      - "week2_sun_noon": |
          % if week.number_gathered() >= 1:
            ${ week[1].day[6].time_noon }
          % endif
      - "week2_sun_1pm": |
          % if week.number_gathered() >= 1:
            ${ week[1].day[6].time_1_pm }
          % endif
      - "week2_sun_2pm": |
          % if week.number_gathered() >= 1:
            ${ week[1].day[6].time_2_pm }
          % endif
      - "week2_sun_3pm": |
          % if week.number_gathered() >= 1:
            ${ week[1].day[6].time_3_pm }
          % endif
      - "week2_sun_4pm": |
          % if week.number_gathered() >= 1:
            ${ week[1].day[6].time_4_pm }
          % endif
      - "week2_sun_5pm": |
          % if week.number_gathered() >= 1:
            ${ week[1].day[6].time_5_pm }
          % endif
      - "week2_sun_6pm": |
          % if week.number_gathered() >= 1:
            ${ week[1].day[6].time_6_pm }
          % endif
      - "week2_sun_7pm": |
          % if week.number_gathered() >= 1:
            ${ week[1].day[6].time_7_pm }
          % endif
      - "week2_sun_8pm": |
          % if week.number_gathered() >= 1:
            ${ week[1].day[6].time_8_pm }
          % endif
      - "week2_sun_9pm": |
          % if week.number_gathered() >= 1:
            ${ week[1].day[6].time_9_pm }
          % endif
      - "week2_sun_over": |
          % if week.number_gathered() >= 1:
            ${ week[1].day[6].time_over }
          % endif
      # HOLIDAY PARENTING TIME SCHEDULE 
      - "holiday_groups": ${ parenting_holiday == "holiday_option1" }
      - "groupA1": Thanksgiving Day
      - "groupA2": Christmas Eve
      - "groupA3": New Year's Eve
      - "groupA4": |
          % if parenting_holiday == "holiday_option1":
            % if showifdef('other_a1_yes') and other_a1_yes:
            ${ other_a1 }
            % endif
          % endif
      - "groupA5": |
          % if parenting_holiday == "holiday_option1":
            % if showifdef('other_a2_yes') and other_a2_yes:
            ${ other_a2 }
            % endif
          % endif
      - "groupA6": |
          % if parenting_holiday == "holiday_option1":
            % if showifdef('other_a3_yes') and other_a3_yes:
            ${ other_a3 }
            % endif
          % endif
      - "groupA7": |
          % if parenting_holiday == "holiday_option1":
            % if showifdef('other_a4_yes') and other_a4_yes:
            ${ other_a4 }
            % endif
          % endif
      - "groupA8": |
          % if parenting_holiday == "holiday_option1":
            % if showifdef('other_a5_yes') and other_a5_yes:
            ${ other_a5 }
            % endif
          % endif
      - "groupB1": 4th of July
      - "groupB2": Labor Day
      - "groupB3": Christmas Day
      - "groupB4": |
          % if parenting_holiday == "holiday_option1":
            % if showifdef('other_b1_yes') and other_b1_yes:
            ${ other_b1 }
            % endif
          % endif
      - "groupB5": |
          % if parenting_holiday == "holiday_option1":
            % if showifdef('other_b2_yes') and other_b2_yes:
            ${ other_b2 }
            % endif
          % endif
      - "groupB6": |
          % if parenting_holiday == "holiday_option1":
            % if showifdef('other_b3_yes') and other_b3_yes:
            ${ other_b3 }
            % endif
          % endif
      - "groupB7": |
          % if parenting_holiday == "holiday_option1":
            % if showifdef('other_b4_yes') and other_b4_yes:
            ${ other_b4 }
            % endif
          % endif
      - "groupB8": |
          % if parenting_holiday == "holiday_option1":
            % if showifdef('other_b5_yes') and other_b5_yes:
            ${ other_b5 }
            % endif
          % endif
      # Individual Holidays
      - "holiday_odd_even": ${ parenting_holiday == "holiday_option2" }
      # New Year’s Day
      - "holiday1_odd": |
          % if parenting_holiday == "holiday_option2":
            % if individual_holidays[0].name.text != "":
              % if individual_holidays[0].holiday_year == 'me':
              ${ users[0].initials }
              % elif individual_holidays[0].holiday_year == 'them':
              ${ other_parties[0].initials }
              % elif individual_holidays[0].holiday_year == 'odd':
              ${ users[0].initials }
              % elif individual_holidays[0].holiday_year == 'even':
              ${ other_parties[0].initials }
              % endif
            % endif
          % endif
      - "holiday1_even": |
          % if parenting_holiday == "holiday_option2":
            % if individual_holidays[0].name.text != "":
              % if individual_holidays[0].holiday_year == 'me':
              ${ users[0].initials }
              % elif individual_holidays[0].holiday_year == 'them':
              ${ other_parties[0].initials }
              % elif individual_holidays[0].holiday_year == 'odd':
              ${ other_parties[0].initials }
              % elif individual_holidays[0].holiday_year == 'even':
              ${ users[0].initials }
              % endif
            % endif
          % endif
      - "holiday1_start": |
          % if parenting_holiday == "holiday_option2":
            % if individual_holidays[0].name.text != "":
            ${ individual_holidays[0].holiday_start.strftime('%H:%M %p') }
            % endif
          % endif
      - "holiday1_end": |
          % if parenting_holiday == "holiday_option2":
            % if individual_holidays[0].name.text != "":
            ${ individual_holidays[0].holiday_end.strftime('%H:%M %p') }
            % endif          
          % endif
      # Mother’s Day
      - "holiday2_odd": |
          % if parenting_holiday == "holiday_option2":
            % if individual_holidays[1].name.text != "":
              % if individual_holidays[1].holiday_year == 'me':
              ${ users[0].initials }
              % elif individual_holidays[1].holiday_year == 'them':
              ${ other_parties[0].initials }
              % elif individual_holidays[1].holiday_year == 'odd':
              ${ users[0].initials }
              % elif individual_holidays[1].holiday_year == 'even':
              ${ other_parties[0].initials }
              % endif
            % endif
          % endif
      - "holiday2_even": |
          % if parenting_holiday == "holiday_option2":
            % if individual_holidays[1].name.text != "":
              % if individual_holidays[1].holiday_year == 'me':
              ${ users[0].initials }
              % elif individual_holidays[1].holiday_year == 'them':
              ${ other_parties[0].initials }
              % elif individual_holidays[1].holiday_year == 'odd':
              ${ other_parties[0].initials }
              % elif individual_holidays[1].holiday_year == 'even':
              ${ users[0].initials }
              % endif
            % endif
          % endif
      - "holiday2_start": |
          % if parenting_holiday == "holiday_option2":
            % if individual_holidays[1].name.text != "":
            ${ individual_holidays[1].holiday_start.strftime('%H:%M %p') }
            % endif
          % endif
      - "holiday2_end": |
          % if parenting_holiday == "holiday_option2":
            % if individual_holidays[1].name.text != "":
            ${ individual_holidays[1].holiday_end.strftime('%H:%M %p') }
            % endif          
          % endif
      # Memorial Day
      - "holiday3_odd": |
          % if parenting_holiday == "holiday_option2":
            % if individual_holidays[2].name.text != "":
              % if individual_holidays[2].holiday_year == 'me':
              ${ users[0].initials }
              % elif individual_holidays[2].holiday_year == 'them':
              ${ other_parties[0].initials }
              % elif individual_holidays[2].holiday_year == 'odd':
              ${ users[0].initials }
              % elif individual_holidays[2].holiday_year == 'even':
              ${ other_parties[0].initials }
              % endif
            % endif
          % endif
      - "holiday3_even": |
          % if parenting_holiday == "holiday_option2":
            % if individual_holidays[2].name.text != "":
              % if individual_holidays[2].holiday_year == 'me':
              ${ users[0].initials }
              % elif individual_holidays[2].holiday_year == 'them':
              ${ other_parties[0].initials }
              % elif individual_holidays[2].holiday_year == 'odd':
              ${ other_parties[0].initials }
              % elif individual_holidays[2].holiday_year == 'even':
              ${ users[0].initials }
              % endif
            % endif
          % endif
      - "holiday3_start": |
          % if parenting_holiday == "holiday_option2":
            % if individual_holidays[2].name.text != "":
            ${ individual_holidays[2].holiday_start.strftime('%H:%M %p') }
            % endif
          % endif
      - "holiday3_end": |
          % if parenting_holiday == "holiday_option2":
            % if individual_holidays[2].name.text != "":
            ${ individual_holidays[2].holiday_end.strftime('%H:%M %p') }
            % endif          
          % endif
      # Father's Day
      - "holiday4_odd": |
          % if parenting_holiday == "holiday_option2":
            % if individual_holidays[3].name.text != "":
              % if individual_holidays[3].holiday_year == 'me':
              ${ users[0].initials }
              % elif individual_holidays[3].holiday_year == 'them':
              ${ other_parties[0].initials }
              % elif individual_holidays[3].holiday_year == 'odd':
              ${ users[0].initials }
              % elif individual_holidays[3].holiday_year == 'even':
              ${ other_parties[0].initials }
              % endif
            % endif
          % endif
      - "holiday4_even": |
          % if parenting_holiday == "holiday_option2":
            % if individual_holidays[3].name.text != "":
              % if individual_holidays[3].holiday_year == 'me':
              ${ users[0].initials }
              % elif individual_holidays[3].holiday_year == 'them':
              ${ other_parties[0].initials }
              % elif individual_holidays[3].holiday_year == 'odd':
              ${ other_parties[0].initials }
              % elif individual_holidays[3].holiday_year == 'even':
              ${ users[0].initials }
              % endif
            % endif
          % endif
      - "holiday4_start": |
          % if parenting_holiday == "holiday_option2":
            % if individual_holidays[3].name.text != "":
            ${ individual_holidays[3].holiday_start.strftime('%H:%M %p') }
            % endif
          % endif
      - "holiday4_end": |
          % if parenting_holiday == "holiday_option2":
            % if individual_holidays[3].name.text != "":
            ${ individual_holidays[3].holiday_end.strftime('%H:%M %p') }
            % endif          
          % endif
      # July 4th
      - "holiday5_odd": |
          % if parenting_holiday == "holiday_option2":
            % if individual_holidays[4].name.text != "":
              % if individual_holidays[4].holiday_year == 'me':
              ${ users[0].initials }
              % elif individual_holidays[4].holiday_year == 'them':
              ${ other_parties[0].initials }
              % elif individual_holidays[4].holiday_year == 'odd':
              ${ users[0].initials }
              % elif individual_holidays[4].holiday_year == 'even':
              ${ other_parties[0].initials }
              % endif
            % endif
          % endif
      - "holiday5_even": |
          % if parenting_holiday == "holiday_option2":
            % if individual_holidays[4].name.text != "":
              % if individual_holidays[4].holiday_year == 'me':
              ${ users[0].initials }
              % elif individual_holidays[4].holiday_year == 'them':
              ${ other_parties[0].initials }
              % elif individual_holidays[4].holiday_year == 'odd':
              ${ other_parties[0].initials }
              % elif individual_holidays[4].holiday_year == 'even':
              ${ users[0].initials }
              % endif
            % endif
          % endif
      - "holiday5_start": |
          % if parenting_holiday == "holiday_option2":
            % if individual_holidays[4].name.text != "":
            ${ individual_holidays[4].holiday_start.strftime('%H:%M %p') }
            % endif
          % endif
      - "holiday5_end": |
          % if parenting_holiday == "holiday_option2":
            % if individual_holidays[4].name.text != "":
            ${ individual_holidays[4].holiday_end.strftime('%H:%M %p') }
            % endif          
          % endif
      # Labor Day
      - "holiday6_odd": |
          % if parenting_holiday == "holiday_option2":
            % if individual_holidays[5].name.text != "":
              % if individual_holidays[5].holiday_year == 'me':
              ${ users[0].initials }
              % elif individual_holidays[5].holiday_year == 'them':
              ${ other_parties[0].initials }
              % elif individual_holidays[5].holiday_year == 'odd':
              ${ users[0].initials }
              % elif individual_holidays[5].holiday_year == 'even':
              ${ other_parties[0].initials }
              % endif
            % endif
          % endif
      - "holiday6_even": |
          % if parenting_holiday == "holiday_option2":
            % if individual_holidays[5].name.text != "":
              % if individual_holidays[5].holiday_year == 'me':
              ${ users[0].initials }
              % elif individual_holidays[5].holiday_year == 'them':
              ${ other_parties[0].initials }
              % elif individual_holidays[5].holiday_year == 'odd':
              ${ other_parties[0].initials }
              % elif individual_holidays[5].holiday_year == 'even':
              ${ users[0].initials }
              % endif
            % endif
          % endif
      - "holiday6_start": |
          % if parenting_holiday == "holiday_option2":
            % if individual_holidays[5].name.text != "":
            ${ individual_holidays[5].holiday_start.strftime('%H:%M %p') }
            % endif
          % endif
      - "holiday6_end": |
          % if parenting_holiday == "holiday_option2":
            % if individual_holidays[5].name.text != "":
            ${ individual_holidays[5].holiday_end.strftime('%H:%M %p') }
            % endif          
          % endif
      # Halloween
      - "holiday7_odd": |
          % if parenting_holiday == "holiday_option2":
            % if individual_holidays[6].name.text != "":
              % if individual_holidays[6].holiday_year == 'me':
              ${ users[0].initials }
              % elif individual_holidays[6].holiday_year == 'them':
              ${ other_parties[0].initials }
              % elif individual_holidays[6].holiday_year == 'odd':
              ${ users[0].initials }
              % elif individual_holidays[6].holiday_year == 'even':
              ${ other_parties[0].initials }
              % endif
            % endif
          % endif
      - "holiday7_even": |
          % if parenting_holiday == "holiday_option2":
            % if individual_holidays[6].name.text != "":
              % if individual_holidays[6].holiday_year == 'me':
              ${ users[0].initials }
              % elif individual_holidays[6].holiday_year == 'them':
              ${ other_parties[0].initials }
              % elif individual_holidays[6].holiday_year == 'odd':
              ${ other_parties[0].initials }
              % elif individual_holidays[6].holiday_year == 'even':
              ${ users[0].initials }
              % endif
            % endif
          % endif
      - "holiday7_start": |
          % if parenting_holiday == "holiday_option2":
            % if individual_holidays[6].name.text != "":
            ${ individual_holidays[6].holiday_start.strftime('%H:%M %p') }
            % endif
          % endif
      - "holiday7_end": |
          % if parenting_holiday == "holiday_option2":
            % if individual_holidays[6].name.text != "":
            ${ individual_holidays[6].holiday_end.strftime('%H:%M %p') }
            % endif          
          % endif
      # Thanksgiving
      - "holiday8_odd": |
          % if parenting_holiday == "holiday_option2":
            % if individual_holidays[7].name.text != "":
              % if individual_holidays[7].holiday_year == 'me':
              ${ users[0].initials }
              % elif individual_holidays[7].holiday_year == 'them':
              ${ other_parties[0].initials }
              % elif individual_holidays[7].holiday_year == 'odd':
              ${ users[0].initials }
              % elif individual_holidays[7].holiday_year == 'even':
              ${ other_parties[0].initials }
              % endif
            % endif
          % endif
      - "holiday8_even": |
          % if parenting_holiday == "holiday_option2":
            % if individual_holidays[7].name.text != "":
              % if individual_holidays[7].holiday_year == 'me':
              ${ users[0].initials }
              % elif individual_holidays[7].holiday_year == 'them':
              ${ other_parties[0].initials }
              % elif individual_holidays[7].holiday_year == 'odd':
              ${ other_parties[0].initials }
              % elif individual_holidays[7].holiday_year == 'even':
              ${ users[0].initials }
              % endif
            % endif
          % endif
      - "holiday8_start": |
          % if parenting_holiday == "holiday_option2":
            % if individual_holidays[7].name.text != "":
            ${ individual_holidays[7].holiday_start.strftime('%H:%M %p') }
            % endif
          % endif
      - "holiday8_end": |
          % if parenting_holiday == "holiday_option2":
            % if individual_holidays[7].name.text != "":
            ${ individual_holidays[7].holiday_end.strftime('%H:%M %p') }
            % endif          
          % endif
      # Christmas Eve
      - "holiday9_odd": |
          % if parenting_holiday == "holiday_option2":
            % if individual_holidays[8].name.text != "":
              % if individual_holidays[8].holiday_year == 'me':
              ${ users[0].initials }
              % elif individual_holidays[8].holiday_year == 'them':
              ${ other_parties[0].initials }
              % elif individual_holidays[8].holiday_year == 'odd':
              ${ users[0].initials }
              % elif individual_holidays[8].holiday_year == 'even':
              ${ other_parties[0].initials }
              % endif
            % endif
          % endif
      - "holiday9_even": |
          % if parenting_holiday == "holiday_option2":
            % if individual_holidays[8].name.text != "":
              % if individual_holidays[8].holiday_year == 'me':
              ${ users[0].initials }
              % elif individual_holidays[8].holiday_year == 'them':
              ${ other_parties[0].initials }
              % elif individual_holidays[8].holiday_year == 'odd':
              ${ other_parties[0].initials }
              % elif individual_holidays[8].holiday_year == 'even':
              ${ users[0].initials }
              % endif
            % endif
          % endif
      - "holiday9_start": |
          % if parenting_holiday == "holiday_option2":
            % if individual_holidays[8].name.text != "":
            ${ individual_holidays[8].holiday_start.strftime('%H:%M %p') }
            % endif
          % endif
      - "holiday9_end": |
          % if parenting_holiday == "holiday_option2":
            % if individual_holidays[8].name.text != "":
            ${ individual_holidays[8].holiday_end.strftime('%H:%M %p') }
            % endif          
          % endif
      # Christmas Day
      - "holiday10_odd": |
          % if parenting_holiday == "holiday_option2":
            % if individual_holidays[9].name.text != "":
              % if individual_holidays[9].holiday_year == 'me':
              ${ users[0].initials }
              % elif individual_holidays[9].holiday_year == 'them':
              ${ other_parties[0].initials }
              % elif individual_holidays[9].holiday_year == 'odd':
              ${ users[0].initials }
              % elif individual_holidays[9].holiday_year == 'even':
              ${ other_parties[0].initials }
              % endif
            % endif
          % endif
      - "holiday10_even": |
          % if parenting_holiday == "holiday_option2":
            % if individual_holidays[9].name.text != "":
              % if individual_holidays[9].holiday_year == 'me':
              ${ users[0].initials }
              % elif individual_holidays[9].holiday_year == 'them':
              ${ other_parties[0].initials }
              % elif individual_holidays[9].holiday_year == 'odd':
              ${ other_parties[0].initials }
              % elif individual_holidays[9].holiday_year == 'even':
              ${ users[0].initials }
              % endif
            % endif
          % endif
      - "holiday10_start": |
          % if parenting_holiday == "holiday_option2":
            % if individual_holidays[9].name.text != "":
            ${ individual_holidays[9].holiday_start.strftime('%H:%M %p') }
            % endif
          % endif
      - "holiday10_end": |
          % if parenting_holiday == "holiday_option2":
            % if individual_holidays[9].name.text != "":
            ${ individual_holidays[9].holiday_end.strftime('%H:%M %p') }
            % endif          
          % endif
      # New Year’s Eve
      - "holiday11_odd": |
          % if parenting_holiday == "holiday_option2":
            % if individual_holidays[10].name.text != "":
              % if individual_holidays[10].holiday_year == 'me':
              ${ users[0].initials }
              % elif individual_holidays[10].holiday_year == 'them':
              ${ other_parties[0].initials }
              % elif individual_holidays[10].holiday_year == 'odd':
              ${ users[0].initials }
              % elif individual_holidays[10].holiday_year == 'even':
              ${ other_parties[0].initials }
              % endif
            % endif
          % endif
      - "holiday11_even": |
          % if parenting_holiday == "holiday_option2":
            % if individual_holidays[10].name.text != "":
              % if individual_holidays[10].holiday_year == 'me':
              ${ users[0].initials }
              % elif individual_holidays[10].holiday_year == 'them':
              ${ other_parties[0].initials }
              % elif individual_holidays[10].holiday_year == 'odd':
              ${ other_parties[0].initials }
              % elif individual_holidays[10].holiday_year == 'even':
              ${ users[0].initials }
              % endif
            % endif
          % endif
      - "holiday11_start": |
          % if parenting_holiday == "holiday_option2":
            % if individual_holidays[10].name.text != "":
            ${ individual_holidays[10].holiday_start.strftime('%H:%M %p') }
            % endif
          % endif
      - "holiday11_end": |
          % if parenting_holiday == "holiday_option2":
            % if individual_holidays[10].name.text != "":
            ${ individual_holidays[10].holiday_end.strftime('%H:%M %p') }
            % endif          
          % endif
      # custom
      - "holiday12_name": |
          % if parenting_holiday == "holiday_option2":
            % if other_holidays.number_gathered() > 0:
            ${ other_holidays[0].name.text }
            % endif
          % endif
      - "holiday12_odd": |
          % if parenting_holiday == "holiday_option2":
            % if other_holidays.number_gathered() > 0:
              % if other_holidays[0].holiday_year == 'me':
              ${ users[0].initials }
              % elif other_holidays[0].holiday_year == 'them':
              ${ other_parties[0].initials }
              % elif other_holidays[0].holiday_year == 'odd':
              ${ users[0].initials }
              % elif other_holidays[0].holiday_year == 'even':
              ${ other_parties[0].initials }
              % endif
            % endif
          % endif
      - "holiday12_even": |
          % if parenting_holiday == "holiday_option2":
            % if other_holidays.number_gathered() > 0:
              % if other_holidays[0].holiday_year == 'me':
              ${ users[0].initials }
              % elif other_holidays[0].holiday_year == 'them':
              ${ other_parties[0].initials }
              % elif other_holidays[0].holiday_year == 'odd':
              ${ other_parties[0].initials }
              % elif other_holidays[0].holiday_year == 'even':
              ${ users[0].initials }
              % endif
            % endif
          % endif
      - "holiday12_start": |
          % if parenting_holiday == "holiday_option2":
            % if other_holidays.number_gathered() > 0:
            ${ other_holidays[0].holiday_start.strftime('%H:%M %p') }
            % endif
          % endif
      - "holiday12_end": |
          % if parenting_holiday == "holiday_option2":
            % if other_holidays.number_gathered() > 0:
            ${ other_holidays[0].holiday_end.strftime('%H:%M %p') }
            % endif
          % endif

      - "holiday13_name": |
          % if parenting_holiday == "holiday_option2":
            % if other_holidays.number_gathered() >= 1:
            ${ other_holidays[1].name.text }
            % endif
          % endif
      - "holiday13_odd": |
          % if parenting_holiday == "holiday_option2":
            % if other_holidays.number_gathered() >= 1:
              % if other_holidays[1].holiday_year == 'me':
              ${ users[0].initials }
              % elif other_holidays[1].holiday_year == 'them':
              ${ other_parties[0].initials }
              % elif other_holidays[1].holiday_year == 'odd':
              ${ users[0].initials }
              % elif other_holidays[1].holiday_year == 'even':
              ${ other_parties[0].initials }
              % endif
            % endif
          % endif
      - "holiday13_even": |
          % if parenting_holiday == "holiday_option2":
            % if other_holidays.number_gathered() >= 1:
              % if other_holidays[1].holiday_year == 'me':
              ${ users[0].initials }
              % elif other_holidays[1].holiday_year == 'them':
              ${ other_parties[0].initials }
              % elif other_holidays[1].holiday_year == 'odd':
              ${ other_parties[0].initials }
              % elif other_holidays[1].holiday_year == 'even':
              ${ users[0].initials }
              % endif
            % endif
          % endif
      - "holiday13_start": |
          % if parenting_holiday == "holiday_option2":
            % if other_holidays.number_gathered() >= 1:
            ${ other_holidays[1].holiday_start.strftime('%H:%M %p') }
            % endif
          % endif
      - "holiday13_end": |
          % if parenting_holiday == "holiday_option2":
            % if other_holidays.number_gathered() >= 1:
            ${ other_holidays[1].holiday_end.strftime('%H:%M %p') }
            % endif
          % endif

      - "holiday14_name": |
          % if parenting_holiday == "holiday_option2":
            % if other_holidays.number_gathered() >= 2:
            ${ other_holidays[2].name.text }
            % endif
          % endif
      - "holiday14_odd": |
          % if parenting_holiday == "holiday_option2":
            % if other_holidays.number_gathered() >= 2:
              % if other_holidays[2].holiday_year == 'me':
              ${ users[0].initials }
              % elif other_holidays[2].holiday_year == 'them':
              ${ other_parties[0].initials }
              % elif other_holidays[2].holiday_year == 'odd':
              ${ users[0].initials }
              % elif other_holidays[2].holiday_year == 'even':
              ${ other_parties[0].initials }
              % endif
            % endif
          % endif
      - "holiday14_even": |
          % if parenting_holiday == "holiday_option2":
            % if other_holidays.number_gathered() >= 2:
              % if other_holidays[2].holiday_year == 'me':
              ${ users[0].initials }
              % elif other_holidays[2].holiday_year == 'them':
              ${ other_parties[0].initials }
              % elif other_holidays[2].holiday_year == 'odd':
              ${ other_parties[0].initials }
              % elif other_holidays[2].holiday_year == 'even':
              ${ users[0].initials }
              % endif
            % endif
          % endif
      - "holiday14_start": |
          % if parenting_holiday == "holiday_option2":
            % if other_holidays.number_gathered() >= 2:
            ${ other_holidays[2].holiday_start.strftime('%H:%M %p') }
            % endif
          % endif
      - "holiday14_end":  |
          % if parenting_holiday == "holiday_option2":
            % if other_holidays.number_gathered() >= 2:
            ${ other_holidays[2].holiday_end.strftime('%H:%M %p') }
            % endif
          % endif

      - "holiday15_name": |
          % if parenting_holiday == "holiday_option2":
            % if other_holidays.number_gathered() >= 3:
            ${ other_holidays[3].name.text }
            % endif
          % endif
      - "holiday15_odd": |
          % if parenting_holiday == "holiday_option2":
            % if other_holidays.number_gathered() >= 3:
              % if other_holidays[3].holiday_year == 'me':
              ${ users[0].initials }
              % elif other_holidays[3].holiday_year == 'them':
              ${ other_parties[0].initials }
              % elif other_holidays[3].holiday_year == 'odd':
              ${ users[0].initials }
              % elif other_holidays[3].holiday_year == 'even':
              ${ other_parties[0].initials }
              % endif
            % endif
          % endif
      - "holiday15_even": |
          % if parenting_holiday == "holiday_option2":
            % if other_holidays.number_gathered() >= 3:
              % if other_holidays[3].holiday_year == 'me':
              ${ users[0].initials }
              % elif other_holidays[3].holiday_year == 'them':
              ${ other_parties[0].initials }
              % elif other_holidays[3].holiday_year == 'odd':
              ${ other_parties[0].initials }
              % elif other_holidays[3].holiday_year == 'even':
              ${ users[0].initials }
              % endif
            % endif
          % endif
      - "holiday15_start": |
          % if parenting_holiday == "holiday_option2":
            % if other_holidays.number_gathered() >= 3:
            ${ other_holidays[3].holiday_start.strftime('%H:%M %p') }
            % endif
          % endif
      - "holiday15_end":  |
          % if parenting_holiday == "holiday_option2":
            % if other_holidays.number_gathered() >= 3:
            ${ other_holidays[3].holiday_end.strftime('%H:%M %p') }
            % endif
          % endif

      - "holiday16_name": |
          % if parenting_holiday == "holiday_option2":
            % if other_holidays.number_gathered() == 5:
            ${ other_holidays[4].name.text }
            % endif
          % endif
      - "holiday16_odd": |
          % if parenting_holiday == "holiday_option2":
            % if other_holidays.number_gathered() == 5:
              % if other_holidays[4].holiday_year == 'me':
              ${ users[0].initials }
              % elif other_holidays[4].holiday_year == 'them':
              ${ other_parties[0].initials }
              % elif other_holidays[4].holiday_year == 'odd':
              ${ users[0].initials }
              % elif other_holidays[4].holiday_year == 'even':
              ${ other_parties[0].initials }
              % endif
            % endif
          % endif
      - "holiday16_even": |
          % if parenting_holiday == "holiday_option2":
            % if other_holidays.number_gathered() == 5:
              % if other_holidays[4].holiday_year == 'me':
              ${ users[0].initials }
              % elif other_holidays[4].holiday_year == 'them':
              ${ other_parties[0].initials }
              % elif other_holidays[4].holiday_year == 'odd':
              ${ other_parties[0].initials }
              % elif other_holidays[4].holiday_year == 'even':
              ${ users[0].initials }
              % endif
            % endif
          % endif
      - "holiday16_start": |
          % if parenting_holiday == "holiday_option2":
            % if other_holidays.number_gathered() == 5:
            ${ other_holidays[4].holiday_start.strftime('%H:%M %p') }
            % endif
          % endif
      - "holiday16_end":  |
          % if parenting_holiday == "holiday_option2":
            % if other_holidays.number_gathered() == 5:
            ${ other_holidays[4].holiday_end.strftime('%H:%M %p') }
            % endif
          % endif
      

      # SCHOOL BREAKS PARENTING TIME SCHEDULE 
      - "no_spring_break": ${ spring_break == "no" }
      - "spring_break_split": ${ spring_break == "split" }
      - "spring_break_even": |
          % if spring_break == "split":
            % if spring_break_year == "me":
              ${ users[0].initials }
            % else:
              ${ other_parties[0].initials }
            % endif
          % endif
      - "spring_break_odd": |
          % if spring_break == "split":
            % if spring_break_year == "me":
              ${ other_parties[0].initials }
            % else:
              ${ users[0].initials }
            % endif
          % endif
      - "spring_break_other": ${ spring_break == "other" }
      - "spring_break_other_details": |
          % if spring_break == "other":
          ${ spring_break_other }
          % endif
      - "spring_break_other_start": |
          % if spring_break == "other":
          ${ spring_break_start }
          % endif
      - "spring_break_other_end": |
          % if spring_break == "other":
          ${ spring_break_end }
          % endif
      - "no_summer_break": ${ summer_break == "no" }
      - "summer_break_split": ${ summer_break == "split" }
      - "summer_break_even": |
          % if summer_break == "split":
            % if summer_break_year == "me":
            ${ users[0].initials }
            % else:
            ${ other_parties[0].initials }
            % endif
          % endif
      - "summer_break_odd": |
          % if summer_break == "split":
            % if summer_break_year == "me":
            ${ other_parties[0].initials }
            % else:
            ${ users[0].initials }
            % endif
          % endif
      - "summer_break_other": ${ summer_break == "other" }
      - "summer_break_other_details": |
          % if summer_break == "other":
          ${ summer_break_other }
          % endif
      - "summer_break_other_start": |
          % if summer_break == "other":
          ${ format_date(summer_break_start, 'MMMM D, YYYY') }
          % endif
      - "summer_break_other_end": |
          % if summer_break == "other":
          ${ format_date(summer_break_end, 'MMMM D, YYYY') }
          % endif
      - "no_winter_break": ${ winter_break == "no" }
      - "winter_break_split": ${ winter_break == "split" }
      - "winter_break_even": |
          % if winter_break == "split":
            % if winter_break_year == "me":
              ${ users[0].initials }
            % else:
              ${ other_parties[0].initials }
            % endif
          % endif
      - "winter_break_odd": |
          % if winter_break == "split":
            % if winter_break_year == "me":
              ${ other_parties[0].initials }
            % else:
              ${ users[0].initials }
            % endif
          % endif
      - "winter_break_other": ${ winter_break == "other" }
      - "winter_break_other_details": |
          % if winter_break == "other":
          ${ winter_break_other }
          % endif
      - "winter_break_other_start": |
          % if winter_break == "other":
          ${ format_date(winter_break_start, 'MMMM D, YYYY') }
          % endif
      - "winter_break_other_end": |
          % if winter_break == "other":
          ${ format_date(winter_break_end, 'MMMM D, YYYY') }
          % endif
      - "transportation_petitioner": |
          % if party_label == 'petitioner':
          ${ transportation == "me" }
          % else:
          ${ transportation == "them" }
          % endif
      - "transportation_respondent": |
          % if party_label == 'respondent':
          ${ transportation == "me" }
          % else:
          ${ transportation == "them" }
          % endif
      - "transportation_pick_up": ${ transportation == "pick_up" }
      - "transportation_drop_off": ${ transportation == "drop_off" }
      - "transportation_other": ${ transportation == "other" }
      - "transportation_other_details": |
          % if transportation == "other":
          ${ transportation_other }
          % endif
      - "exchange_home": ${ exchange_location == "homes" }
      - "exchange_location": ${ exchange_location == "location" }
      - "location": |
          % if exchange_location == "location":
          ${ exchange_address.location }
          % endif
      - "location_address": |
          % if exchange_location == "location":
          ${ exchange_address.address.on_one_line(bare=True) }
          % endif
      - "additional_parenting_time": ${ additional_time }
      # 10. FIRST REFUSAL FOR CHILDCARE 
      - "refusal_no": ${ first_refusal }
      - "refusal_yes": ${ not first_refusal }
      # 11. COMMUNICATION 
      - "anytime": ${ communication == "anytime" }
      - "daily": ${ communication == "daily" }
      - "start_time": ${ format_time(daily_start, 'h:mm') }
      - "start_am": ${ format_time(daily_start, 'a') == 'AM' }
      - "start_pm": ${ format_time(daily_start, 'a') == 'PM' }
      - "end_time": ${ format_time(daily_end, 'h:mm') }
      - "end_am": ${ format_time(daily_end, 'a') == 'AM' }
      - "end_pm": ${ format_time(daily_end, 'a') == 'PM' }
      - "other": ${ communication == "other" }
      - "other_description": |
          % if communication == "other":
          ${ other_description }
          % endif
      # 13. CUSTODY & RESIDENCE FOR OTHER PURPOSES
      - "13A_petitioner": |
          % if party_label == 'petitioner':
          ${ primary_parent == "me" }
          % else:
          ${ primary_parent == "them" }
          % endif
      - "13A_respondent": |
          % if party_label == 'respondent':
          ${ primary_parent == "me" }
          % else:
          ${ primary_parent == "them" }
          % endif
      - "13B_petitioner": |
          % if party_label == 'petitioner':
          ${ residential_address == "me" }
          % else:
          ${ residential_address == "them" }
          % endif
      - "13B_respondent": |
          % if party_label == 'respondent':
          ${ residential_address == "me" }
          % else:
          ${ residential_address == "them" }
          % endif
      # 15. HANDLING CONFLICTS (MEDIATION)
      - "mediatiion_yes": ${ mediation_option == "mediation" } 
      - "mediation_no": ${ mediation_option == "no_mediation" } 
      - "parent": |
          % if mediation_option == "no_mediation":
          ${ mediation_reason['parent'] } 
          % endif
      - "history": |
          % if mediation_option == "no_mediation":
          ${ mediation_reason['history'] } 
          % endif
      - "other_reason": |
          % if mediation_option == "no_mediation":
          ${ mediation_reason['other'] } 
          % endif
      - "other_reason_area": |
          % if mediation_option == "no_mediation":
            % if mediation_reason['other']:
            ${ other_reasons } 
            % endif
          % endif



      
---
objects:
  - additional_parenting_time: ALDocument.using(title="Additional Parenting Time", filename="additional_parenting_time.pdf", has_addendum=False)
---
code: |
  additional_parenting_time.enabled = additional_time or week.number_gathered() >= 3
---
attachment:
  - name: additional_parenting_time
    variable name: additional_parenting_time[i]
    filename: additional_parenting_time
    pdf template file: additional_parenting_time.pdf
    skip undefined: True
    editable: False
    fields:
      - "county_name": ${ case_county }
      - "case_number": ${ case_number }
      - "petitioner_name": |
          % if party_label == 'petitioner':
          ${ users[0].name.full(middle='full') }
          % else:
          ${ other_parties[0].name.full(middle='full') }
          % endif
      - "respondent_name": |
          % if party_label == 'respondent':
          ${ users[0].name.full(middle='full') }
          % else:
          ${ other_parties[0].name.full(middle='full') }
          % endif
      # Week 3 - Monday
      - "week3_mon_8am": |
          % if week.number_gathered() >= 1:
            ${ week[2].day[0].time_8_am }
          % endif
      - "week3_mon_9am": |
          % if week.number_gathered() >= 1:
            ${ week[2].day[0].time_9_am }
          % endif
      - "week3_mon_10am": |
          % if week.number_gathered() >= 1:
            ${ week[2].day[0].time_10_am }
          % endif
      - "week3_mon_11am": |
          % if week.number_gathered() >= 1:
            ${ week[2].day[0].time_11_am }
          % endif
      - "week3_mon_noon": |
          % if week.number_gathered() >= 1:
            ${ week[2].day[0].time_noon }
          % endif
      - "week3_mon_1pm": |
          % if week.number_gathered() >= 1:
            ${ week[2].day[0].time_1_pm }
          % endif
      - "week3_mon_2pm": |
          % if week.number_gathered() >= 1:
            ${ week[2].day[0].time_2_pm }
          % endif
      - "week3_mon_3pm": |
          % if week.number_gathered() >= 1:
            ${ week[2].day[0].time_3_pm }
          % endif
      - "week3_mon_4pm": |
          % if week.number_gathered() >= 1:
            ${ week[2].day[0].time_4_pm }
          % endif
      - "week3_mon_5pm": |
          % if week.number_gathered() >= 1:
            ${ week[2].day[0].time_5_pm }
          % endif
      - "week3_mon_6pm": |
          % if week.number_gathered() >= 1:
            ${ week[2].day[0].time_6_pm }
          % endif
      - "week3_mon_7pm": |
          % if week.number_gathered() >= 1:
            ${ week[2].day[0].time_7_pm }
          % endif
      - "week3_mon_8pm": |
          % if week.number_gathered() >= 1:
            ${ week[2].day[0].time_8_pm }
          % endif
      - "week3_mon_9pm": |
          % if week.number_gathered() >= 1:
            ${ week[2].day[0].time_9_pm }
          % endif
      - "week3_mon_over": |
          % if week.number_gathered() >= 1:
            ${ week[2].day[0].time_over }
          % endif
      # Week 3 - Tuesday
      - "week3_tues_8am": |
          % if week.number_gathered() >= 1:
            ${ week[2].day[1].time_8_am }
          % endif
      - "week3_tues_9am": |
          % if week.number_gathered() >= 1:
            ${ week[2].day[1].time_9_am }
          % endif
      - "week3_tues_10am": |
          % if week.number_gathered() >= 1:
            ${ week[2].day[1].time_10_am }
          % endif
      - "week3_tues_11am": |
          % if week.number_gathered() >= 1:
            ${ week[2].day[1].time_11_am }
          % endif
      - "week3_tues_noon": |
          % if week.number_gathered() >= 1:
            ${ week[2].day[1].time_noon }
          % endif
      - "week3_tues_1pm": |
          % if week.number_gathered() >= 1:
            ${ week[2].day[1].time_1_pm }
          % endif
      - "week3_tues_2pm": |
          % if week.number_gathered() >= 1:
            ${ week[2].day[1].time_2_pm }
          % endif
      - "week3_tues_3pm": |
          % if week.number_gathered() >= 1:
            ${ week[2].day[1].time_3_pm }
          % endif
      - "week3_tues_4pm": |
          % if week.number_gathered() >= 1:
            ${ week[2].day[1].time_4_pm }
          % endif
      - "week3_tues_5pm": |
          % if week.number_gathered() >= 1:
            ${ week[2].day[1].time_5_pm }
          % endif
      - "week3_tues_6pm": |
          % if week.number_gathered() >= 1:
            ${ week[2].day[1].time_6_pm }
          % endif
      - "week3_tues_7pm": |
          % if week.number_gathered() >= 1:
            ${ week[2].day[1].time_7_pm }
          % endif
      - "week3_tues_8pm": |
          % if week.number_gathered() >= 1:
            ${ week[2].day[1].time_8_pm }
          % endif
      - "week3_tues_9pm": |
          % if week.number_gathered() >= 1:
            ${ week[2].day[1].time_9_pm }
          % endif
      - "week3_tues_over": |
          % if week.number_gathered() >= 1:
            ${ week[2].day[1].time_over }
          % endif
      # Week 3 - Wednesday
      - "week3_wed_8am": |
          % if week.number_gathered() >= 1:
            ${ week[2].day[2].time_8_am }
          % endif
      - "week3_wed_9am": |
          % if week.number_gathered() >= 1:
            ${ week[2].day[2].time_9_am }
          % endif
      - "week3_wed_10am": |
          % if week.number_gathered() >= 1:
            ${ week[2].day[2].time_10_am }
          % endif
      - "week3_wed_11am": |
          % if week.number_gathered() >= 1:
            ${ week[2].day[2].time_11_am }
          % endif
      - "week3_wed_noon": |
          % if week.number_gathered() >= 1:
            ${ week[2].day[2].time_noon }
          % endif
      - "week3_wed_1pm": |
          % if week.number_gathered() >= 1:
            ${ week[2].day[2].time_1_pm }
          % endif
      - "week3_wed_2pm": |
          % if week.number_gathered() >= 1:
            ${ week[2].day[2].time_2_pm }
          % endif
      - "week3_wed_3pm": |
          % if week.number_gathered() >= 1:
            ${ week[2].day[2].time_3_pm }
          % endif
      - "week3_wed_4pm": |
          % if week.number_gathered() >= 1:
            ${ week[2].day[2].time_4_pm }
          % endif
      - "week3_wed_5pm": |
          % if week.number_gathered() >= 1:
            ${ week[2].day[2].time_5_pm }
          % endif
      - "week3_wed_6pm": |
          % if week.number_gathered() >= 1:
            ${ week[2].day[2].time_6_pm }
          % endif
      - "week3_wed_7pm": |
          % if week.number_gathered() >= 1:
            ${ week[2].day[2].time_7_pm }
          % endif
      - "week3_wed_8pm": |
          % if week.number_gathered() >= 1:
            ${ week[2].day[2].time_8_pm }
          % endif
      - "week3_wed_9pm": |
          % if week.number_gathered() >= 1:
            ${ week[2].day[2].time_9_pm }
          % endif
      - "week3_wed_over": |
          % if week.number_gathered() >= 1:
            ${ week[2].day[2].time_over }
          % endif
      # Week 3 - Thursday  
      - "week3_thurs_8am": |
          % if week.number_gathered() >= 1:
            ${ week[2].day[3].time_8_am }
          % endif
      - "week3_thurs_9am": |
          % if week.number_gathered() >= 1:
            ${ week[2].day[3].time_9_am }
          % endif
      - "week3_thurs_10am": |
          % if week.number_gathered() >= 1:
            ${ week[2].day[3].time_10_am }
          % endif
      - "week3_thurs_11am": |
          % if week.number_gathered() >= 1:
            ${ week[2].day[3].time_11_am }
          % endif
      - "week3_thurs_noon": |
          % if week.number_gathered() >= 1:
            ${ week[2].day[3].time_noon }
          % endif
      - "week3_thurs_1pm": |
          % if week.number_gathered() >= 1:
            ${ week[2].day[3].time_1_pm }
          % endif
      - "week3_thurs_2pm": |
          % if week.number_gathered() >= 1:
            ${ week[2].day[3].time_2_pm }
          % endif
      - "week3_thurs_3pm": |
          % if week.number_gathered() >= 1:
            ${ week[2].day[3].time_3_pm }
          % endif
      - "week3_thurs_4pm": |
          % if week.number_gathered() >= 1:
            ${ week[2].day[3].time_4_pm }
          % endif
      - "week3_thurs_5pm": |
          % if week.number_gathered() >= 1:
            ${ week[2].day[3].time_5_pm }
          % endif
      - "week3_thurs_6pm": |
          % if week.number_gathered() >= 1:
            ${ week[2].day[3].time_6_pm }
          % endif
      - "week3_thurs_7pm": |
          % if week.number_gathered() >= 1:
            ${ week[2].day[3].time_7_pm }
          % endif
      - "week3_thurs_8pm": |
          % if week.number_gathered() >= 1:
            ${ week[2].day[3].time_8_pm }
          % endif
      - "week3_thurs_9pm": |
          % if week.number_gathered() >= 1:
            ${ week[2].day[3].time_9_pm }
          % endif
      - "week3_thurs_over": |
          % if week.number_gathered() >= 1:
            ${ week[2].day[3].time_over }
          % endif
      # Week 3 - Friday
      - "week3_fri_8am": |
          % if week.number_gathered() >= 1:
            ${ week[2].day[4].time_8_am }
          % endif
      - "week3_fri_9am": |
          % if week.number_gathered() >= 1:
            ${ week[2].day[4].time_9_am }
          % endif
      - "week3_fri_10am": |
          % if week.number_gathered() >= 1:
            ${ week[2].day[4].time_10_am }
          % endif
      - "week3_fri_11am": |
          % if week.number_gathered() >= 1:
            ${ week[2].day[4].time_11_am }
          % endif
      - "week3_fri_noon": |
          % if week.number_gathered() >= 1:
            ${ week[2].day[4].time_noon }
          % endif
      - "week3_fri_1pm": |
          % if week.number_gathered() >= 1:
            ${ week[2].day[4].time_1_pm }
          % endif
      - "week3_fri_2pm": |
          % if week.number_gathered() >= 1:
            ${ week[2].day[4].time_2_pm }
          % endif
      - "week3_fri_3pm": |
          % if week.number_gathered() >= 1:
            ${ week[2].day[4].time_3_pm }
          % endif
      - "week3_fri_4pm": |
          % if week.number_gathered() >= 1:
            ${ week[2].day[4].time_4_pm }
          % endif
      - "week3_fri_5pm": |
          % if week.number_gathered() >= 1:
            ${ week[2].day[4].time_5_pm }
          % endif
      - "week3_fri_6pm": |
          % if week.number_gathered() >= 1:
            ${ week[2].day[4].time_6_pm }
          % endif
      - "week3_fri_7pm": |
          % if week.number_gathered() >= 1:
            ${ week[2].day[4].time_7_pm }
          % endif
      - "week3_fri_8pm": |
          % if week.number_gathered() >= 1:
            ${ week[2].day[4].time_8_pm }
          % endif
      - "week3_fri_9pm": |
          % if week.number_gathered() >= 1:
            ${ week[2].day[4].time_9_pm }
          % endif
      - "week3_fri_over": |
          % if week.number_gathered() >= 1:
            ${ week[2].day[4].time_over }
          % endif
      # Week 3 - Saturday
      - "week3_sat_8am": |
          % if week.number_gathered() >= 1:
            ${ week[2].day[5].time_8_am }
          % endif
      - "week3_sat_9am": |
          % if week.number_gathered() >= 1:
            ${ week[2].day[5].time_9_am }
          % endif
      - "week3_sat_10am": |
          % if week.number_gathered() >= 1:
            ${ week[2].day[5].time_10_am }
          % endif
      - "week3_sat_11am": |
          % if week.number_gathered() >= 1:
            ${ week[2].day[5].time_11_am }
          % endif
      - "week3_sat_noon": |
          % if week.number_gathered() >= 1:
            ${ week[2].day[5].time_noon }
          % endif
      - "week3_sat_1pm": |
          % if week.number_gathered() >= 1:
            ${ week[2].day[5].time_1_pm }
          % endif
      - "week3_sat_2pm": |
          % if week.number_gathered() >= 1:
            ${ week[2].day[5].time_2_pm }
          % endif
      - "week3_sat_3pm": |
          % if week.number_gathered() >= 1:
            ${ week[2].day[5].time_3_pm }
          % endif
      - "week3_sat_4pm": |
          % if week.number_gathered() >= 1:
            ${ week[2].day[5].time_4_pm }
          % endif
      - "week3_sat_5pm": |
          % if week.number_gathered() >= 1:
            ${ week[2].day[5].time_5_pm }
          % endif
      - "week3_sat_6pm": |
          % if week.number_gathered() >= 1:
            ${ week[2].day[5].time_6_pm }
          % endif
      - "week3_sat_7pm": |
          % if week.number_gathered() >= 1:
            ${ week[2].day[5].time_7_pm }
          % endif
      - "week3_sat_8pm": |
          % if week.number_gathered() >= 1:
            ${ week[2].day[5].time_8_pm }
          % endif
      - "week3_sat_9pm": |
          % if week.number_gathered() >= 1:
            ${ week[2].day[5].time_9_pm }
          % endif
      - "week3_sat_over": |
          % if week.number_gathered() >= 1:
            ${ week[2].day[5].time_over }
          % endif
      # Week 3 - Sunday
      - "week3_sun_8am": |
          % if week.number_gathered() >= 1:
            ${ week[2].day[6].time_8_am }
          % endif
      - "week3_sun_9am": |
          % if week.number_gathered() >= 1:
            ${ week[2].day[6].time_9_am }
          % endif
      - "week3_sun_10am": |
          % if week.number_gathered() >= 1:
            ${ week[2].day[6].time_10_am }
          % endif
      - "week3_sun_11am": |
          % if week.number_gathered() >= 1:
            ${ week[2].day[6].time_11_am }
          % endif
      - "week3_sun_noon": |
          % if week.number_gathered() >= 1:
            ${ week[2].day[6].time_noon }
          % endif
      - "week3_sun_1pm": |
          % if week.number_gathered() >= 1:
            ${ week[2].day[6].time_1_pm }
          % endif
      - "week3_sun_2pm": |
          % if week.number_gathered() >= 1:
            ${ week[2].day[6].time_2_pm }
          % endif
      - "week3_sun_3pm": |
          % if week.number_gathered() >= 1:
            ${ week[2].day[6].time_3_pm }
          % endif
      - "week3_sun_4pm": |
          % if week.number_gathered() >= 1:
            ${ week[2].day[6].time_4_pm }
          % endif
      - "week3_sun_5pm": |
          % if week.number_gathered() >= 1:
            ${ week[2].day[6].time_5_pm }
          % endif
      - "week3_sun_6pm": |
          % if week.number_gathered() >= 1:
            ${ week[2].day[6].time_6_pm }
          % endif
      - "week3_sun_7pm": |
          % if week.number_gathered() >= 1:
            ${ week[2].day[6].time_7_pm }
          % endif
      - "week3_sun_8pm": |
          % if week.number_gathered() >= 1:
            ${ week[2].day[6].time_8_pm }
          % endif
      - "week3_sun_9pm": |
          % if week.number_gathered() >= 1:
            ${ week[2].day[6].time_9_pm }
          % endif
      - "week3_sun_over": |
          % if week.number_gathered() >= 1:
            ${ week[2].day[6].time_over }
          % endif
      # Week 3 - Monday
      - "week4_mon_8am": |
          % if week.number_gathered() >= 1:
            ${ week[3].day[0].time_8_am }
          % endif
      - "week4_mon_9am": |
          % if week.number_gathered() >= 1:
            ${ week[3].day[0].time_9_am }
          % endif
      - "week4_mon_10am": |
          % if week.number_gathered() >= 1:
            ${ week[3].day[0].time_10_am }
          % endif
      - "week4_mon_11am": |
          % if week.number_gathered() >= 1:
            ${ week[3].day[0].time_11_am }
          % endif
      - "week4_mon_noon": |
          % if week.number_gathered() >= 1:
            ${ week[3].day[0].time_noon }
          % endif
      - "week4_mon_1pm": |
          % if week.number_gathered() >= 1:
            ${ week[3].day[0].time_1_pm }
          % endif
      - "week4_mon_2pm": |
          % if week.number_gathered() >= 1:
            ${ week[3].day[0].time_2_pm }
          % endif
      - "week4_mon_3pm": |
          % if week.number_gathered() >= 1:
            ${ week[3].day[0].time_3_pm }
          % endif
      - "week4_mon_4pm": |
          % if week.number_gathered() >= 1:
            ${ week[3].day[0].time_4_pm }
          % endif
      - "week4_mon_5pm": |
          % if week.number_gathered() >= 1:
            ${ week[3].day[0].time_5_pm }
          % endif
      - "week4_mon_6pm": |
          % if week.number_gathered() >= 1:
            ${ week[3].day[0].time_6_pm }
          % endif
      - "week4_mon_7pm": |
          % if week.number_gathered() >= 1:
            ${ week[3].day[0].time_7_pm }
          % endif
      - "week4_mon_8pm": |
          % if week.number_gathered() >= 1:
            ${ week[3].day[0].time_8_pm }
          % endif
      - "week4_mon_9pm": |
          % if week.number_gathered() >= 1:
            ${ week[3].day[0].time_9_pm }
          % endif
      - "week4_mon_over": |
          % if week.number_gathered() >= 1:
            ${ week[3].day[0].time_over }
          % endif
      # Week 3 - Tuesday
      - "week4_tues_8am": |
          % if week.number_gathered() >= 1:
            ${ week[3].day[1].time_8_am }
          % endif
      - "week4_tues_9am": |
          % if week.number_gathered() >= 1:
            ${ week[3].day[1].time_9_am }
          % endif
      - "week4_tues_10am": |
          % if week.number_gathered() >= 1:
            ${ week[3].day[1].time_10_am }
          % endif
      - "week4_tues_11am": |
          % if week.number_gathered() >= 1:
            ${ week[3].day[1].time_11_am }
          % endif
      - "week4_tues_noon": |
          % if week.number_gathered() >= 1:
            ${ week[3].day[1].time_noon }
          % endif
      - "week4_tues_1pm": |
          % if week.number_gathered() >= 1:
            ${ week[3].day[1].time_1_pm }
          % endif
      - "week4_tues_2pm": |
          % if week.number_gathered() >= 1:
            ${ week[3].day[1].time_2_pm }
          % endif
      - "week4_tues_3pm": |
          % if week.number_gathered() >= 1:
            ${ week[3].day[1].time_3_pm }
          % endif
      - "week4_tues_4pm": |
          % if week.number_gathered() >= 1:
            ${ week[3].day[1].time_4_pm }
          % endif
      - "week4_tues_5pm": |
          % if week.number_gathered() >= 1:
            ${ week[3].day[1].time_5_pm }
          % endif
      - "week4_tues_6pm": |
          % if week.number_gathered() >= 1:
            ${ week[3].day[1].time_6_pm }
          % endif
      - "week4_tues_7pm": |
          % if week.number_gathered() >= 1:
            ${ week[3].day[1].time_7_pm }
          % endif
      - "week4_tues_8pm": |
          % if week.number_gathered() >= 1:
            ${ week[3].day[1].time_8_pm }
          % endif
      - "week4_tues_9pm": |
          % if week.number_gathered() >= 1:
            ${ week[3].day[1].time_9_pm }
          % endif
      - "week4_tues_over": |
          % if week.number_gathered() >= 1:
            ${ week[3].day[1].time_over }
          % endif
      # Week 3 - Wednesday
      - "week4_wed_8am": |
          % if week.number_gathered() >= 1:
            ${ week[3].day[2].time_8_am }
          % endif
      - "week4_wed_9am": |
          % if week.number_gathered() >= 1:
            ${ week[3].day[2].time_9_am }
          % endif
      - "week4_wed_10am": |
          % if week.number_gathered() >= 1:
            ${ week[3].day[2].time_10_am }
          % endif
      - "week4_wed_11am": |
          % if week.number_gathered() >= 1:
            ${ week[3].day[2].time_11_am }
          % endif
      - "week4_wed_noon": |
          % if week.number_gathered() >= 1:
            ${ week[3].day[2].time_noon }
          % endif
      - "week4_wed_1pm": |
          % if week.number_gathered() >= 1:
            ${ week[3].day[2].time_1_pm }
          % endif
      - "week4_wed_2pm": |
          % if week.number_gathered() >= 1:
            ${ week[3].day[2].time_2_pm }
          % endif
      - "week4_wed_3pm": |
          % if week.number_gathered() >= 1:
            ${ week[3].day[2].time_3_pm }
          % endif
      - "week4_wed_4pm": |
          % if week.number_gathered() >= 1:
            ${ week[3].day[2].time_4_pm }
          % endif
      - "week4_wed_5pm": |
          % if week.number_gathered() >= 1:
            ${ week[3].day[2].time_5_pm }
          % endif
      - "week4_wed_6pm": |
          % if week.number_gathered() >= 1:
            ${ week[3].day[2].time_6_pm }
          % endif
      - "week4_wed_7pm": |
          % if week.number_gathered() >= 1:
            ${ week[3].day[2].time_7_pm }
          % endif
      - "week4_wed_8pm": |
          % if week.number_gathered() >= 1:
            ${ week[3].day[2].time_8_pm }
          % endif
      - "week4_wed_9pm": |
          % if week.number_gathered() >= 1:
            ${ week[3].day[2].time_9_pm }
          % endif
      - "week4_wed_over": |
          % if week.number_gathered() >= 1:
            ${ week[3].day[2].time_over }
          % endif
      # Week 3 - Thursday  
      - "week4_thurs_8am": |
          % if week.number_gathered() >= 1:
            ${ week[3].day[3].time_8_am }
          % endif
      - "week4_thurs_9am": |
          % if week.number_gathered() >= 1:
            ${ week[3].day[3].time_9_am }
          % endif
      - "week4_thurs_10am": |
          % if week.number_gathered() >= 1:
            ${ week[3].day[3].time_10_am }
          % endif
      - "week4_thurs_11am": |
          % if week.number_gathered() >= 1:
            ${ week[3].day[3].time_11_am }
          % endif
      - "week4_thurs_noon": |
          % if week.number_gathered() >= 1:
            ${ week[3].day[3].time_noon }
          % endif
      - "week4_thurs_1pm": |
          % if week.number_gathered() >= 1:
            ${ week[3].day[3].time_1_pm }
          % endif
      - "week4_thurs_2pm": |
          % if week.number_gathered() >= 1:
            ${ week[3].day[3].time_2_pm }
          % endif
      - "week4_thurs_3pm": |
          % if week.number_gathered() >= 1:
            ${ week[3].day[3].time_3_pm }
          % endif
      - "week4_thurs_4pm": |
          % if week.number_gathered() >= 1:
            ${ week[3].day[3].time_4_pm }
          % endif
      - "week4_thurs_5pm": |
          % if week.number_gathered() >= 1:
            ${ week[3].day[3].time_5_pm }
          % endif
      - "week4_thurs_6pm": |
          % if week.number_gathered() >= 1:
            ${ week[3].day[3].time_6_pm }
          % endif
      - "week4_thurs_7pm": |
          % if week.number_gathered() >= 1:
            ${ week[3].day[3].time_7_pm }
          % endif
      - "week4_thurs_8pm": |
          % if week.number_gathered() >= 1:
            ${ week[3].day[3].time_8_pm }
          % endif
      - "week4_thurs_9pm": |
          % if week.number_gathered() >= 1:
            ${ week[3].day[3].time_9_pm }
          % endif
      - "week4_thurs_over": |
          % if week.number_gathered() >= 1:
            ${ week[3].day[3].time_over }
          % endif
      # Week 3 - Friday
      - "week4_fri_8am": |
          % if week.number_gathered() >= 1:
            ${ week[3].day[4].time_8_am }
          % endif
      - "week4_fri_9am": |
          % if week.number_gathered() >= 1:
            ${ week[3].day[4].time_9_am }
          % endif
      - "week4_fri_10am": |
          % if week.number_gathered() >= 1:
            ${ week[3].day[4].time_10_am }
          % endif
      - "week4_fri_11am": |
          % if week.number_gathered() >= 1:
            ${ week[3].day[4].time_11_am }
          % endif
      - "week4_fri_noon": |
          % if week.number_gathered() >= 1:
            ${ week[3].day[4].time_noon }
          % endif
      - "week4_fri_1pm": |
          % if week.number_gathered() >= 1:
            ${ week[3].day[4].time_1_pm }
          % endif
      - "week4_fri_2pm": |
          % if week.number_gathered() >= 1:
            ${ week[3].day[4].time_2_pm }
          % endif
      - "week4_fri_3pm": |
          % if week.number_gathered() >= 1:
            ${ week[3].day[4].time_3_pm }
          % endif
      - "week4_fri_4pm": |
          % if week.number_gathered() >= 1:
            ${ week[3].day[4].time_4_pm }
          % endif
      - "week4_fri_5pm": |
          % if week.number_gathered() >= 1:
            ${ week[3].day[4].time_5_pm }
          % endif
      - "week4_fri_6pm": |
          % if week.number_gathered() >= 1:
            ${ week[3].day[4].time_6_pm }
          % endif
      - "week4_fri_7pm": |
          % if week.number_gathered() >= 1:
            ${ week[3].day[4].time_7_pm }
          % endif
      - "week4_fri_8pm": |
          % if week.number_gathered() >= 1:
            ${ week[3].day[4].time_8_pm }
          % endif
      - "week4_fri_9pm": |
          % if week.number_gathered() >= 1:
            ${ week[3].day[4].time_9_pm }
          % endif
      - "week4_fri_over": |
          % if week.number_gathered() >= 1:
            ${ week[3].day[4].time_over }
          % endif
      # Week 3 - Saturday
      - "week4_sat_8am": |
          % if week.number_gathered() >= 1:
            ${ week[3].day[5].time_8_am }
          % endif
      - "week4_sat_9am": |
          % if week.number_gathered() >= 1:
            ${ week[3].day[5].time_9_am }
          % endif
      - "week4_sat_10am": |
          % if week.number_gathered() >= 1:
            ${ week[3].day[5].time_10_am }
          % endif
      - "week4_sat_11am": |
          % if week.number_gathered() >= 1:
            ${ week[3].day[5].time_11_am }
          % endif
      - "week4_sat_noon": |
          % if week.number_gathered() >= 1:
            ${ week[3].day[5].time_noon }
          % endif
      - "week4_sat_1pm": |
          % if week.number_gathered() >= 1:
            ${ week[3].day[5].time_1_pm }
          % endif
      - "week4_sat_2pm": |
          % if week.number_gathered() >= 1:
            ${ week[3].day[5].time_2_pm }
          % endif
      - "week4_sat_3pm": |
          % if week.number_gathered() >= 1:
            ${ week[3].day[5].time_3_pm }
          % endif
      - "week4_sat_4pm": |
          % if week.number_gathered() >= 1:
            ${ week[3].day[5].time_4_pm }
          % endif
      - "week4_sat_5pm": |
          % if week.number_gathered() >= 1:
            ${ week[3].day[5].time_5_pm }
          % endif
      - "week4_sat_6pm": |
          % if week.number_gathered() >= 1:
            ${ week[3].day[5].time_6_pm }
          % endif
      - "week4_sat_7pm": |
          % if week.number_gathered() >= 1:
            ${ week[3].day[5].time_7_pm }
          % endif
      - "week4_sat_8pm": |
          % if week.number_gathered() >= 1:
            ${ week[3].day[5].time_8_pm }
          % endif
      - "week4_sat_9pm": |
          % if week.number_gathered() >= 1:
            ${ week[3].day[5].time_9_pm }
          % endif
      - "week4_sat_over": |
          % if week.number_gathered() >= 1:
            ${ week[3].day[5].time_over }
          % endif
      # Week 3 - Sunday
      - "week4_sun_8am": |
          % if week.number_gathered() >= 1:
            ${ week[3].day[6].time_8_am }
          % endif
      - "week4_sun_9am": |
          % if week.number_gathered() >= 1:
            ${ week[3].day[6].time_9_am }
          % endif
      - "week4_sun_10am": |
          % if week.number_gathered() >= 1:
            ${ week[3].day[6].time_10_am }
          % endif
      - "week4_sun_11am": |
          % if week.number_gathered() >= 1:
            ${ week[3].day[6].time_11_am }
          % endif
      - "week4_sun_noon": |
          % if week.number_gathered() >= 1:
            ${ week[3].day[6].time_noon }
          % endif
      - "week4_sun_1pm": |
          % if week.number_gathered() >= 1:
            ${ week[3].day[6].time_1_pm }
          % endif
      - "week4_sun_2pm": |
          % if week.number_gathered() >= 1:
            ${ week[3].day[6].time_2_pm }
          % endif
      - "week4_sun_3pm": |
          % if week.number_gathered() >= 1:
            ${ week[3].day[6].time_3_pm }
          % endif
      - "week4_sun_4pm": |
          % if week.number_gathered() >= 1:
            ${ week[3].day[6].time_4_pm }
          % endif
      - "week4_sun_5pm": |
          % if week.number_gathered() >= 1:
            ${ week[3].day[6].time_5_pm }
          % endif
      - "week4_sun_6pm": |
          % if week.number_gathered() >= 1:
            ${ week[3].day[6].time_6_pm }
          % endif
      - "week4_sun_7pm": |
          % if week.number_gathered() >= 1:
            ${ week[3].day[6].time_7_pm }
          % endif
      - "week4_sun_8pm": |
          % if week.number_gathered() >= 1:
            ${ week[3].day[6].time_8_pm }
          % endif
      - "week4_sun_9pm": |
          % if week.number_gathered() >= 1:
            ${ week[3].day[6].time_9_pm }
          % endif
      - "week4_sun_over": |
          % if week.number_gathered() >= 1:
            ${ week[3].day[6].time_over }
          % endif
      - "addtional_information": |
          % if additional_time:
          ${ additional_time_details }
          % endif
---
objects:
  - additional_children: ALDocument.using(title="Additional children", filename="additional_children.pdf", has_addendum=False)
---
code: |
  additional_children.enabled = children.number_gathered() > 3
---
attachment:
  - name: additional_children
    variable name: additional_children[i]
    filename: additional_children
    pdf template file: additional_children.pdf
    skip undefined: True
    editable: False
    fields:
      - "county_name": ${ case_county }
      - "case_number": ${ case_number }
      - "petitioner_name": ${ users[0].name.full(middle="full") }
      - "respondent_name": ${ other_parties[0].name.full(middle="full") }
      - "child_name4": |
          % if children.number_gathered() >= 4:
          ${ children[3].name.full() }
          % endif
      - "child_age4": |
          % if children.number_gathered() >= 4:
          ${ children[3].age }
          % endif
      - "child_name5": |
          % if children.number_gathered() >= 5:
          ${ children[4].name.full() }
          % endif
      - "child_age5": |
          % if children.number_gathered() >= 5:
          ${ children[4].age }
          % endif
      - "child_name6": |
          % if children.number_gathered() >= 6:
          ${ children[5].name.full() }
          % endif
      - "child_age6": |
          % if children.number_gathered() >= 6:
          ${ children[5].age }
          % endif
      - "child_name7": |
          % if children.number_gathered() >= 7:
          ${ children[6].name.full() }
          % endif
      - "child_age7": |
          % if children.number_gathered() >= 7:
          ${ children[6].age }
          % endif
      - "child_name8": |
          % if children.number_gathered() >= 8:
          ${ children[7].name.full() }
          % endif
      - "child_age8": |
          % if children.number_gathered() >= 8:
          ${ children[7].age }
          % endif
      - "child_name9": |
          % if children.number_gathered() >= 9:
          ${ children[8].name.full() }
          % endif
      - "child_age9": |
          % if children.number_gathered() >= 9:
          ${ children[8].age }
          % endif
      - "child_name10": |
          % if children.number_gathered() >= 10:
          ${ children[9].name.full() }
          % endif
      - "child_age10": |
          % if children.number_gathered() >= 10:
          ${ children[9].age }
          % endif
---